apply plugin: 'java'
apply plugin: 'war'
apply plugin: 'eclipse'
apply from: 'https://raw.github.com/akhikhl/gretty/master/pluginScripts/gretty.plugin'

group = 'us.vistacore.cdsinvocation'
description = """cds-engine-agent"""

repositories {
     maven { url "https://store.vistacore.us/nexus/content/repositories/public" }
}
dependencies {
    compile project(':production:cdsinvocation:cds-invocation')
	
	compile group: 'org.apache.cxf', name: 'cxf-rt-frontend-jaxrs', version: property('cxfVersion')
    compile group: 'org.apache.cxf', name: 'cxf-rt-rs-client', version: property('cxfVersion')
    compile group: 'org.apache.cxf', name: 'cxf-rt-frontend-jaxws', version: property('cxfVersion')
    compile group: 'org.apache.cxf', name: 'cxf-rt-rs-extension-providers', version: property('cxfVersion')
    compile group: 'org.apache.cxf', name: 'cxf-rt-transports-http', version: property('cxfVersion')
    compile group: 'org.springframework', name: 'spring-test', version: property('springVersion')
    compile group: 'org.springframework', name: 'spring-web', version: property('springVersion')
    compile group: 'org.springframework.security', name: 'spring-security-core', version: property('springSecurityVersion')
    compile group: 'junit', name: 'junit', version: property('junitVersion')
}

sourceCompatibility = property('javaVersion')
targetCompatibility = property('targetJavaVersion')

gretty {
	httpPort = PORT
	managedClassReload = true
}

war {
    archiveName = 'cds-engine-agent.war'
	rootSpec.exclude('**/cds-engine-agent-log4j2.xml')
	rootSpec.exclude('**/cds-engine-agent.properties')
}