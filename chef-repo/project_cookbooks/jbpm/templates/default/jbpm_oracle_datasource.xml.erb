                <datasource jta="true" jndi-name="java:jboss/datasources/<%= node['jbpm']['configure']['datasource'] %>" pool-name="<%= node['jbpm']['configure']['datasource'] %>_Pool" enabled="true" use-java-context="true" use-ccm="true">
                    <connection-url>jdbc:oracle:thin:@<%= @oracle_ip %>:<%= @oracle_port %>/<%= @oracle_sid %></connection-url>
                    <driver>oracle</driver>
                    <pool>
                        <min-pool-size>2</min-pool-size>
                        <max-pool-size>200</max-pool-size>
                        <prefill>true</prefill>
                    </pool>
                    <security>
                            <user-name><%= @jbpm_username %></user-name>
                            <password><%= @jbpm_password %></password>
                    </security>
                    <validation>
                        <check-valid-connection-sql>select 1 from dual</check-valid-connection-sql>
                        <validate-on-match>false</validate-on-match>
                        <background-validation>true</background-validation>
                        <background-validation-millis><%= @background_validation_millis %></background-validation-millis>
                        <valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.oracle.OracleValidConnectionChecker"/>
                    </validation>
                </datasource>
                <datasource jta="true" jndi-name="java:jboss/datasources/<%= node['jbpm']['configure']['activitydb_datasource'] %>" pool-name="<%= node['jbpm']['configure']['activitydb_datasource'] %>_Pool" enabled="true" use-java-context="true" use-ccm="true">
                    <connection-url>jdbc:oracle:thin:@<%= @oracle_ip %>:<%= @oracle_port %>/<%= @oracle_sid %></connection-url>
                    <driver>oracle</driver>
                    <pool>
                        <min-pool-size>2</min-pool-size>
                        <max-pool-size>200</max-pool-size>
                        <prefill>true</prefill>
                    </pool>
                    <security>
                            <user-name><%= @activitydb_username %></user-name>
                            <password><%= @activitydb_password %></password>
                    </security>
                    <validation>
                        <check-valid-connection-sql>select 1 from dual</check-valid-connection-sql>
                        <validate-on-match>false</validate-on-match>
                        <background-validation>true</background-validation>
                        <background-validation-millis><%= @background_validation_millis %></background-validation-millis>
                        <valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.oracle.OracleValidConnectionChecker"/>
                    </validation>
                </datasource>
