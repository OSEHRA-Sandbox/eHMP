<!--?xml version="1.0"?--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:mg="http://www.araxis.com/2002/Merge/Reporting" xmlns="http://www.w3.org/1999/xhtml">
 <head> 
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> 
  <!--The layout and design of this report is Copyright Â© 2003-2016 Araxis Ltd. All rights reserved.--> 
  <!--The copyright of the data content of this report belongs to the relevant copyright holders.--> 
  <title>1199. EPMO Open Source Coordination Office Redaction File Detail Report</title> 
  <style type="text/css">
body { background: #fff;  color: #000; margin: 0px 14px 14px 14px; }
h1, h2, h3, h4, h5 {
  padding: 0em;
  margin: 1.5em 0em .25em 0em;
  text-align: left;
  font-weight: normal;
  font-family: Arial, Helvetica, sans-serif;
  font-size: 70%;
  max-width: 55em;
}
body, h4, h5, p, ol, ul, li, td, th { font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left; }

h4, h5, p, ol, ul, li { font-size: 70%; }
input {
  font-family: Arial, Helvetica, sans-serif;
  font-size: 120%;
}

h1 { margin: 14px 0em 1.2em 0em; font-size: 112%; line-height: 130%;}
h2 { font-size: 125%; line-height: 84%;}
h3 { margin-top: 1.4em; font-size: 81%; }
h4 { margin-top: 1em; font-size: 70%; }
h5 { margin-top: 1em; font-size: 100%; font-style: italic;}
h1 strong, h2 strong, h3 strong, h4 strong { font-weight: bold; }

p { margin: 6px 0em 6px 0em; max-width: 55em;}
p.code, code {}
p { font-size: 70%; line-height: 125%; }
table { font-size: 70%;}

p.copyright, .small { font-size: 60%; line-height: 120%; }
p.copyright { margin: 3px 0px 0px 0px; padding: 0px; text-align: left; }
acronym { font-variant: small-caps; }
div.pad { padding: 3px; }
span.lineEndings { color: red; font-size: 70%; }

table.mgRowGroup, table.mgRowGroupFolder { border: 1px solid #a0a0a0; margin: 10px 0px 10px 0px; width: 100%; table-layout: fixed; border-collapse: collapse; }
table.mgRowGroup td { vertical-align: top; padding: 0; }
table.mgRowGroupFolder td { vertical-align: top; padding: 1px 0 1px 0; }
div.IP { width: 2px; height: 1em; float: left; }

img.mgFldrIcon {float: left; text-align: left; margin: -1px 2px 0px 0px;  height: 16px; width: 16px; border: none; vertical-align: top; background-color: transparent;}
div.mgFldrIcon {float: left; width: auto;}
span.left {float: left;width: auto;}
span.right {float: right;width: auto;}

table.bordered { border-collapse: collapse; border: 1px solid #a0a0a0; margin: 10px 0px 10px 0px;}
table.bordered th, table.bordered td { vertical-align: top; padding: 3px; border: 1px solid #a0a0a0;}
table.bordered th { background-color: #e5e5e5; }
table.bordered td.group { background-color: #f5f5f5; }
span.disabledNavigation { color: #a0a0a0; }
div.navigation { margin-top: 14px; font-size: 70%; }
div.comment { font-weight: normal; color: #000; font-family: Verdana, Arial, Helvetica, sans-serif; background-color: #fcfed8; padding: 2px 5px 2px 5px; border: 1px solid #E3E5C3; margin: 1px 2px 3px 2px; -moz-border-radius: 7px; border-radius: 7px; }

                span.U1, span.U1 a {float: left; width: auto;color: #000000; background-color: #FFFFFF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.U1 a {text-decoration: underline;}
td.U1 {color: #000000; background-color: #FFFFFF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.R1, span.R1 a {float: left; width: auto;color: #800000; background-color: #F3E6D8; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.R1 a {text-decoration: underline;}
td.R1 {color: #800000; background-color: #F3E6D8; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.I1, span.I1 a {float: left; width: auto;color: #800000; background-color: #D1E8CF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.I1 a {text-decoration: underline;}
td.I1 {color: #800000; background-color: #D1E8CF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.C1, span.C1 a {float: left; width: auto;color: #800000; background-color: #DACDE6; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.C1 a {text-decoration: underline;}
td.C1 {color: #800000; background-color: #DACDE6; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
td.nbgC1 {color: #800000; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; background-color: #FFFFFF; }
span.U2, span.U2 a {float: left; width: auto;color: #000000; background-color: #FFFFFF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.U2 a {text-decoration: underline;}
td.U2 {color: #000000; background-color: #FFFFFF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.R2, span.R2 a {float: left; width: auto;color: #800000; background-color: #F3E6D8; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.R2 a {text-decoration: underline;}
td.R2 {color: #800000; background-color: #F3E6D8; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.I2, span.I2 a {float: left; width: auto;color: #800000; background-color: #D1E8CF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.I2 a {text-decoration: underline;}
td.I2 {color: #800000; background-color: #D1E8CF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.C2, span.C2 a {float: left; width: auto;color: #800000; background-color: #DACDE6; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.C2 a {text-decoration: underline;}
td.C2 {color: #800000; background-color: #DACDE6; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
td.nbgC2 {color: #800000; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; background-color: #FFFFFF; }

span.selected {background-color: #3d80df; color: #fff;}
span.selected a {background-color: #3d80df; color: #fff; text-decoration: underline;}
span.symbol {cursor: pointer;}
      </style> 
 </head> 
 <body> 
  <h1><strong>1199. EPMO Open Source Coordination Office Redaction File Detail Report</strong></h1> 
  <p>Produced by <strong>Araxis Merge</strong> on <strong>10/13/2017 11:28:46 AM Central Daylight Time</strong>. See <a href="http://www.araxis.com/" title="Link to the Araxis corporate web site">www.araxis.com</a> for information about Merge. This report uses XHTML and CSS2, and is best viewed with a modern standards-compliant browser. For optimum results when printing this report, use landscape orientation and enable printing of background images and colours in your browser.</p> 
  <h3><strong>1199.1&nbsp;Files compared</strong></h3> 
  <table class="bordered"> 
   <tbody>
    <tr> 
     <th>#</th> 
     <th>Location</th> 
     <th>File</th> 
     <th>Last Modified</th> 
    </tr> 
    <tr> 
     <td>1</td> 
     <td>ehmp.zip\ehmp\ehmp\product\production\vx-sync\record-update\utils</td> 
     <td>record-re-enrichment-util.js</td> 
     <td>Mon Jul 10 17:46:22 2017 UTC</td> 
    </tr> 
    <tr> 
     <td>2</td> 
     <td>ehmp.zip\ehmp\ehmp\product\production\vx-sync\record-update\utils</td> 
     <td>record-re-enrichment-util.js</td> 
     <td>Tue Oct 10 17:58:07 2017 UTC</td> 
    </tr> 
   </tbody>
  </table> 
  <h3><strong>1199.2&nbsp;Comparison summary</strong></h3> 
  <table class="bordered"> 
   <tbody>
    <tr> 
     <th rowspan="2" style="vertical-align: bottom;">Description</th> 
     <th colspan="2">Between<br>Files 1 and 2</th> 
    </tr> 
    <tr> 
     <th style="text-align: right;">Text Blocks</th> 
     <th style="text-align: right;">Lines</th> 
    </tr> 
    <tr> 
     <td>Unchanged</td> 
     <td style="text-align: right;">5</td> 
     <td style="text-align: right;">894</td> 
    </tr> 
    <tr> 
     <td>Changed</td> 
     <td style="text-align: right;">4</td> 
     <td style="text-align: right;">16</td> 
    </tr> 
    <tr> 
     <td>Inserted</td> 
     <td style="text-align: right;">0</td> 
     <td style="text-align: right;">0</td> 
    </tr> 
    <tr> 
     <td>Removed</td> 
     <td style="text-align: right;">0</td> 
     <td style="text-align: right;">0</td> 
    </tr> 
   </tbody>
  </table> 
  <h3><strong>1199.3&nbsp;Comparison options</strong></h3> 
  <table class="bordered" style="width: 55em;"> 
   <tbody>
    <tr> 
     <th>Whitespace</th> 
     <td></td> 
    </tr> 
    <tr> 
     <th>Character case</th> 
     <td>Differences in character case are significant</td> 
    </tr> 
    <tr> 
     <th>Line endings</th> 
     <td>Differences in line endings (<code>CR</code> and <code>LF</code> characters) are ignored</td> 
    </tr> 
    <tr> 
     <th>CR/LF characters</th> 
     <td>Not shown in the comparison detail</td> 
    </tr> 
   </tbody>
  </table> 
  <h3><strong>1199.4&nbsp;Active regular expressions</strong></h3> 
  <p>No regular expressions were active.</p> 
  <h3><strong>1199.5&nbsp;Comparison detail</strong></h3> 
  <table class="mgRowGroup"> 
   <colgroup>
    <col style="width: 5em;"> 
    <col style="width: 1em;"> 
    <col width="*"> 
    <col style="width: 1em;"> 
    <col style="width: 5em;"> 
    <col style="width: 1em;"> 
    <col width="*"> 
   </colgroup>
   <tbody>
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">1</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">'use&nbsp;stric</span> <span class="U2">t';</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">2</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">3</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">require('.</span> <span class="U2">./../env-s</span> <span class="U2">etup');</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">4</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">5</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">var&nbsp;util&nbsp;=</span> <span class="U2">&nbsp;require('</span> <span class="U2">util');</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">6</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">var&nbsp;async&nbsp;</span> <span class="U2">=&nbsp;require(</span> <span class="U2">'async');</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">7</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">var&nbsp;_&nbsp;=&nbsp;re</span> <span class="U2">quire('und</span> <span class="U2">erscore');</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">8</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">var&nbsp;format</span> <span class="U2">&nbsp;=&nbsp;require</span> <span class="U2">('util').f</span> <span class="U2">ormat;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">9</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">10</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">var&nbsp;Beanst</span> <span class="U2">alkClient&nbsp;</span> <span class="U2">=&nbsp;require(</span> <span class="U2">global.VX_</span> <span class="U2">JOBFRAMEWO</span> <span class="U2">RK).Beanst</span> <span class="U2">alkClient;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">11</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">var&nbsp;jobUti</span> <span class="U2">l&nbsp;=&nbsp;requir</span> <span class="U2">e(global.V</span> <span class="U2">X_UTILS&nbsp;+&nbsp;</span> <span class="U2">'job-utils</span> <span class="U2">');</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">12</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">var&nbsp;getPro</span> <span class="U2">perty&nbsp;=&nbsp;re</span> <span class="U2">quire(glob</span> <span class="U2">al.VX_UTIL</span> <span class="U2">S&nbsp;+&nbsp;'objec</span> <span class="U2">t-utils').</span> <span class="U2">getPropert</span> <span class="U2">y;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">13</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">14</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">var&nbsp;record</span> <span class="U2">UpdateUtil</span> <span class="U2">s&nbsp;=&nbsp;requir</span> <span class="U2">e('./recor</span> <span class="U2">d-update-u</span> <span class="U2">tils');</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">15</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">var&nbsp;getPat</span> <span class="U2">ientIdenti</span> <span class="U2">fierFromRe</span> <span class="U2">cordPid&nbsp;=&nbsp;</span> <span class="U2">recordUpda</span> <span class="U2">teUtils.ge</span> <span class="U2">tPatientId</span> <span class="U2">entifierFr</span> <span class="U2">omRecordPi</span> <span class="U2">d;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">16</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">var&nbsp;create</span> <span class="U2">ErrorStatu</span> <span class="U2">s&nbsp;=&nbsp;record</span> <span class="U2">UpdateUtil</span> <span class="U2">s.createEr</span> <span class="U2">rorStatus;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">17</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">var&nbsp;addDis</span> <span class="U2">tinct&nbsp;=&nbsp;re</span> <span class="U2">cordUpdate</span> <span class="U2">Utils.addD</span> <span class="U2">istinct;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">18</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">var&nbsp;addInc</span> <span class="U2">ompleteDom</span> <span class="U2">ain&nbsp;=&nbsp;reco</span> <span class="U2">rdUpdateUt</span> <span class="U2">ils.addInc</span> <span class="U2">ompleteDom</span> <span class="U2">ain;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">19</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">var&nbsp;buildP</span> <span class="U2">idStats&nbsp;=&nbsp;</span> <span class="U2">recordUpda</span> <span class="U2">teUtils.bu</span> <span class="U2">ildPidStat</span> <span class="U2">s;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">20</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">var&nbsp;buildP</span> <span class="U2">idToDomain</span> <span class="U2">ComboList&nbsp;</span> <span class="U2">=&nbsp;recordUp</span> <span class="U2">dateUtils.</span> <span class="U2">buildPidTo</span> <span class="U2">DomainComb</span> <span class="U2">oList;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">21</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">var&nbsp;buildJ</span> <span class="U2">obTaskList</span> <span class="U2">&nbsp;=&nbsp;recordU</span> <span class="U2">pdateUtils</span> <span class="U2">.buildJobT</span> <span class="U2">askList;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">22</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">23</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">24</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//--------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">---</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">25</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;Variadi</span> <span class="U2">c&nbsp;Function</span> <span class="U2">:</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">26</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;ReEnric</span> <span class="U2">hUtil(logg</span> <span class="U2">er,&nbsp;jdsCli</span> <span class="U2">ent,&nbsp;updat</span> <span class="U2">eConfig)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">27</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;ReEnric</span> <span class="U2">hUtil(logg</span> <span class="U2">er,&nbsp;jdsCli</span> <span class="U2">ent,&nbsp;updat</span> <span class="U2">eConfig,&nbsp;t</span> <span class="U2">ubename)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">28</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">29</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;This&nbsp;me</span> <span class="U2">thod&nbsp;retur</span> <span class="U2">ns&nbsp;an&nbsp;arra</span> <span class="U2">y&nbsp;of&nbsp;PIDs.</span> <span class="U2">&nbsp;If&nbsp;a&nbsp;non-</span> <span class="U2">empty&nbsp;list</span> <span class="U2">&nbsp;is&nbsp;passed</span> <span class="U2">&nbsp;for&nbsp;'pidL</span> <span class="U2">ist',</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">30</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;then&nbsp;th</span> <span class="U2">at&nbsp;will&nbsp;be</span> <span class="U2">&nbsp;returned&nbsp;</span> <span class="U2">with&nbsp;no&nbsp;pr</span> <span class="U2">ocessing.&nbsp;</span> <span class="U2">Otherwise,</span> <span class="U2">&nbsp;jdsClient</span> <span class="U2">.getPatien</span> <span class="U2">tListBySit</span> <span class="U2">e()</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">31</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;will&nbsp;be</span> <span class="U2">&nbsp;called&nbsp;fo</span> <span class="U2">r&nbsp;each&nbsp;sit</span> <span class="U2">e&nbsp;and&nbsp;all&nbsp;</span> <span class="U2">of&nbsp;the&nbsp;res</span> <span class="U2">ults&nbsp;will&nbsp;</span> <span class="U2">be&nbsp;returne</span> <span class="U2">d&nbsp;as&nbsp;a&nbsp;sin</span> <span class="U2">gle&nbsp;array.</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">32</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">33</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;logger:</span> <span class="U2">&nbsp;A&nbsp;bunyan&nbsp;</span> <span class="U2">style&nbsp;logg</span> <span class="U2">er&nbsp;instanc</span> <span class="U2">e</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">34</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">35</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;jdsClie</span> <span class="U2">nt:&nbsp;An&nbsp;ins</span> <span class="U2">tance&nbsp;of&nbsp;j</span> <span class="U2">ds-client</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">36</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">37</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;updateC</span> <span class="U2">onfig:&nbsp;A&nbsp;c</span> <span class="U2">onfig&nbsp;obje</span> <span class="U2">ct&nbsp;contain</span> <span class="U2">ing&nbsp;record</span> <span class="U2">&nbsp;updater&nbsp;s</span> <span class="U2">pecific&nbsp;pr</span> <span class="U2">operties</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">38</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">39</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;tubenam</span> <span class="U2">e:&nbsp;An&nbsp;opti</span> <span class="U2">onal&nbsp;param</span> <span class="U2">eter&nbsp;to&nbsp;al</span> <span class="U2">low&nbsp;the&nbsp;tu</span> <span class="U2">bename&nbsp;use</span> <span class="U2">d&nbsp;to&nbsp;be&nbsp;sp</span> <span class="U2">ecified</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">40</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fo</span> <span class="U2">r&nbsp;testing&nbsp;</span> <span class="U2">purposes.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">41</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//--------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">---</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">42</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">function&nbsp;R</span> <span class="U2">eEnrichUti</span> <span class="U2">l(logger,&nbsp;</span> <span class="U2">jdsClient,</span> <span class="U2">&nbsp;updateCon</span> <span class="U2">fig,&nbsp;tuben</span> <span class="U2">ame)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">43</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!(</span> <span class="U2">this&nbsp;insta</span> <span class="U2">nceof&nbsp;ReEn</span> <span class="U2">richUtil))</span> <span class="U2">&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">44</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;re</span> <span class="U2">turn&nbsp;new&nbsp;R</span> <span class="U2">eEnrichUti</span> <span class="U2">l(logger,&nbsp;</span> <span class="U2">jdsClient,</span> <span class="U2">&nbsp;updateCon</span> <span class="U2">fig,&nbsp;tuben</span> <span class="U2">ame);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">45</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">46</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">47</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;this.l</span> <span class="U2">ogger&nbsp;=&nbsp;lo</span> <span class="U2">gger;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">48</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;this.j</span> <span class="U2">dsClient&nbsp;=</span> <span class="U2">&nbsp;jdsClient</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">49</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;this.u</span> <span class="U2">pdateConfi</span> <span class="U2">g&nbsp;=&nbsp;update</span> <span class="U2">Config;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">50</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;this.t</span> <span class="U2">ubename&nbsp;=&nbsp;</span> <span class="U2">tubename&nbsp;|</span> <span class="U2">|&nbsp;'vxs-rec</span> <span class="U2">ord-update</span> <span class="U2">';</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">51</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">52</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">53</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">54</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//--------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">---</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">55</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;This&nbsp;me</span> <span class="U2">thod&nbsp;retur</span> <span class="U2">ns&nbsp;an&nbsp;arra</span> <span class="U2">y&nbsp;of&nbsp;PIDs.</span> <span class="U2">&nbsp;If&nbsp;a&nbsp;non-</span> <span class="U2">empty&nbsp;list</span> <span class="U2">&nbsp;is&nbsp;passed</span> <span class="U2">&nbsp;for&nbsp;'pidL</span> <span class="U2">ist',</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">56</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;then&nbsp;th</span> <span class="U2">at&nbsp;will&nbsp;be</span> <span class="U2">&nbsp;returned&nbsp;</span> <span class="U2">with&nbsp;no&nbsp;pr</span> <span class="U2">ocessing.&nbsp;</span> <span class="U2">Otherwise,</span> <span class="U2">&nbsp;jdsClient</span> <span class="U2">.getPatien</span> <span class="U2">tList()</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">57</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;will&nbsp;be</span> <span class="U2">&nbsp;called&nbsp;an</span> <span class="U2">d&nbsp;the&nbsp;firs</span> <span class="U2">t&nbsp;identifi</span> <span class="U2">er&nbsp;for&nbsp;eac</span> <span class="U2">h&nbsp;will&nbsp;be&nbsp;</span> <span class="U2">appended&nbsp;t</span> <span class="U2">o&nbsp;the&nbsp;list</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">58</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;returne</span> <span class="U2">d&nbsp;in&nbsp;the&nbsp;c</span> <span class="U2">allback.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">59</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">60</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">//&nbsp;pidList</span> <span class="U2">:&nbsp;A&nbsp;list&nbsp;o</span> <span class="U2">f&nbsp;PIDs,&nbsp;e.</span> <span class="U2">g.&nbsp;['</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;3',&nbsp;'</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;1',&nbsp;'</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;8',&nbsp;'</span> <span class="C2">SITE</span> <span class="U2">;1']</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">61</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">62</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;callbac</span> <span class="U2">k:&nbsp;The&nbsp;fun</span> <span class="U2">ction&nbsp;to&nbsp;c</span> <span class="U2">all&nbsp;when&nbsp;t</span> <span class="U2">his&nbsp;method</span> <span class="U2">&nbsp;is&nbsp;comple</span> <span class="U2">te&nbsp;or&nbsp;when</span> <span class="U2">&nbsp;an&nbsp;error&nbsp;</span> <span class="U2">occurs.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">63</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//--------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">---</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">64</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">ReEnrichUt</span> <span class="U2">il.prototy</span> <span class="U2">pe.retriev</span> <span class="U2">ePatientLi</span> <span class="U2">st&nbsp;=&nbsp;funct</span> <span class="U2">ion(pidLis</span> <span class="U2">t,&nbsp;callbac</span> <span class="U2">k)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">65</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;se</span> <span class="U2">lf&nbsp;=&nbsp;this;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">66</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">67</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;self.l</span> <span class="U2">ogger.info</span> <span class="U2">('record-r</span> <span class="U2">e-enrichme</span> <span class="U2">nt-util.re</span> <span class="U2">trievePati</span> <span class="U2">entList():</span> <span class="U2">&nbsp;entering&nbsp;</span> <span class="U2">method');</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">68</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(pi</span> <span class="U2">dList)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">69</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;se</span> <span class="U2">lf.logger.</span> <span class="U2">info('reco</span> <span class="U2">rd-re-enri</span> <span class="U2">chment-uti</span> <span class="U2">l.retrieve</span> <span class="U2">PatientLis</span> <span class="U2">t():&nbsp;pids&nbsp;</span> <span class="U2">already&nbsp;pr</span> <span class="U2">ovided&nbsp;via</span> <span class="U2">&nbsp;parameter</span> <span class="U2">.&nbsp;Skipping</span> <span class="U2">&nbsp;to&nbsp;next&nbsp;s</span> <span class="U2">tep...');</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">70</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;re</span> <span class="U2">turn&nbsp;setTi</span> <span class="U2">meout(call</span> <span class="U2">back,&nbsp;0,&nbsp;n</span> <span class="U2">ull,&nbsp;pidLi</span> <span class="U2">st);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">71</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">72</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">73</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;pidLis</span> <span class="U2">t&nbsp;=&nbsp;[];</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">74</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">75</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;self.l</span> <span class="U2">ogger.debu</span> <span class="U2">g('record-</span> <span class="U2">re-enrichm</span> <span class="U2">ent-util.r</span> <span class="U2">etrievePat</span> <span class="U2">ientList()</span> <span class="U2">:&nbsp;attempti</span> <span class="U2">ng&nbsp;to&nbsp;retr</span> <span class="U2">ieve&nbsp;patie</span> <span class="U2">nt&nbsp;list&nbsp;fr</span> <span class="U2">om&nbsp;JDS');</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">76</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;self.j</span> <span class="U2">dsClient.g</span> <span class="U2">etPatientL</span> <span class="U2">ist(null,&nbsp;</span> <span class="U2">function(e</span> <span class="U2">rror,&nbsp;resp</span> <span class="U2">onse,&nbsp;resu</span> <span class="U2">lt)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">77</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if</span> <span class="U2">&nbsp;(error)&nbsp;{</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">78</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;var&nbsp;mess</span> <span class="U2">age&nbsp;=&nbsp;util</span> <span class="U2">.format('r</span> <span class="U2">ecord-re-e</span> <span class="U2">nrichment-</span> <span class="U2">util.retri</span> <span class="U2">evePatient</span> <span class="U2">List():&nbsp;Er</span> <span class="U2">ror&nbsp;from&nbsp;J</span> <span class="U2">DS:&nbsp;%j',&nbsp;e</span> <span class="U2">rror);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">79</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;self.log</span> <span class="U2">ger.error(</span> <span class="U2">message);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">80</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;return&nbsp;c</span> <span class="U2">allback(me</span> <span class="U2">ssage);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">81</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">82</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">83</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if</span> <span class="U2">&nbsp;(!respons</span> <span class="U2">e&nbsp;||&nbsp;respo</span> <span class="U2">nse.status</span> <span class="U2">Code&nbsp;!==&nbsp;2</span> <span class="U2">00)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">84</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;var&nbsp;erro</span> <span class="U2">rMessage&nbsp;=</span> <span class="U2">&nbsp;util.form</span> <span class="U2">at('record</span> <span class="U2">-re-enrich</span> <span class="U2">ment-util.</span> <span class="U2">retrievePa</span> <span class="U2">tientList(</span> <span class="U2">):&nbsp;Unexpec</span> <span class="U2">ted&nbsp;respon</span> <span class="U2">se&nbsp;from&nbsp;JD</span> <span class="U2">S:&nbsp;error&nbsp;%</span> <span class="U2">j,&nbsp;respons</span> <span class="U2">e&nbsp;%j',&nbsp;err</span> <span class="U2">or,&nbsp;respon</span> <span class="U2">se);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">85</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;self.log</span> <span class="U2">ger.error(</span> <span class="U2">errorMessa</span> <span class="U2">ge);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">86</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;return&nbsp;c</span> <span class="U2">allback(er</span> <span class="U2">rorMessage</span> <span class="U2">);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">87</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">88</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;se</span> <span class="U2">lf.logger.</span> <span class="U2">debug('rec</span> <span class="U2">ord-re-enr</span> <span class="U2">ichment-ut</span> <span class="U2">il.retriev</span> <span class="U2">ePatientLi</span> <span class="U2">st():&nbsp;pick</span> <span class="U2">ing&nbsp;first&nbsp;</span> <span class="U2">patientIde</span> <span class="U2">ntifier&nbsp;fo</span> <span class="U2">r&nbsp;each&nbsp;pat</span> <span class="U2">ient...');</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">89</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pi</span> <span class="U2">dList&nbsp;=&nbsp;_.</span> <span class="U2">map(result</span> <span class="U2">.items,&nbsp;fu</span> <span class="U2">nction(pat</span> <span class="U2">ient)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">90</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;return&nbsp;_</span> <span class="U2">.first(pat</span> <span class="U2">ient.patie</span> <span class="U2">ntIdentifi</span> <span class="U2">ers);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">91</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">92</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">93</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;se</span> <span class="U2">lf.logger.</span> <span class="U2">debug('rec</span> <span class="U2">ord-re-enr</span> <span class="U2">ichment-ut</span> <span class="U2">il.retriev</span> <span class="U2">ePatientLi</span> <span class="U2">st():&nbsp;resu</span> <span class="U2">lting&nbsp;pati</span> <span class="U2">ent&nbsp;list:&nbsp;</span> <span class="U2">%s.&nbsp;Contin</span> <span class="U2">uing&nbsp;to&nbsp;ne</span> <span class="U2">xt&nbsp;step...</span> <span class="U2">',&nbsp;pidList</span> <span class="U2">);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">94</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;re</span> <span class="U2">turn&nbsp;callb</span> <span class="U2">ack(null,&nbsp;</span> <span class="U2">pidList);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">95</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;});</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">96</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">};</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">97</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">98</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">99</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//--------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">---</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">100</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;This&nbsp;me</span> <span class="U2">thod&nbsp;itera</span> <span class="U2">tes&nbsp;throug</span> <span class="U2">h&nbsp;the&nbsp;list</span> <span class="U2">&nbsp;of&nbsp;identi</span> <span class="U2">fiers&nbsp;and&nbsp;</span> <span class="U2">for&nbsp;each&nbsp;o</span> <span class="U2">ne&nbsp;in&nbsp;the&nbsp;</span> <span class="U2">list,</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">101</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;calls&nbsp;j</span> <span class="U2">dsClient.g</span> <span class="U2">etSyncStat</span> <span class="U2">us()&nbsp;filte</span> <span class="U2">red&nbsp;on&nbsp;'up</span> <span class="U2">dateTime'&nbsp;</span> <span class="U2">to&nbsp;get&nbsp;a&nbsp;d</span> <span class="U2">etailed&nbsp;sy</span> <span class="U2">nc</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">102</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;status.</span> <span class="U2">&nbsp;Then,&nbsp;for</span> <span class="U2">&nbsp;each&nbsp;site</span> <span class="U2">&nbsp;in&nbsp;the&nbsp;sy</span> <span class="U2">nc&nbsp;status,</span> <span class="U2">&nbsp;this&nbsp;meth</span> <span class="U2">od&nbsp;iterate</span> <span class="U2">s&nbsp;through&nbsp;</span> <span class="U2">the</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">103</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;domains</span> <span class="U2">&nbsp;contained</span> <span class="U2">&nbsp;in&nbsp;domain</span> <span class="U2">MetaStamp,</span> <span class="U2">&nbsp;keeping&nbsp;t</span> <span class="U2">hose&nbsp;which</span> <span class="U2">&nbsp;have&nbsp;even</span> <span class="U2">ts&nbsp;and&nbsp;are</span> <span class="U2">&nbsp;also</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">104</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;contain</span> <span class="U2">ed&nbsp;in&nbsp;'fil</span> <span class="U2">terDomains</span> <span class="U2">'.&nbsp;This&nbsp;li</span> <span class="U2">st&nbsp;will&nbsp;be</span> <span class="U2">&nbsp;added&nbsp;to&nbsp;</span> <span class="U2">the&nbsp;result</span> <span class="U2">&nbsp;object&nbsp;ke</span> <span class="U2">yed</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">105</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;on&nbsp;the&nbsp;</span> <span class="U2">PID&nbsp;for&nbsp;th</span> <span class="U2">at&nbsp;patient</span> <span class="U2">&nbsp;on&nbsp;that&nbsp;s</span> <span class="U2">ite.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">106</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">107</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;If&nbsp;'upd</span> <span class="U2">ateTime'&nbsp;i</span> <span class="U2">s&nbsp;falsy,&nbsp;t</span> <span class="U2">hen&nbsp;the&nbsp;ca</span> <span class="U2">ll&nbsp;to&nbsp;jdsC</span> <span class="U2">lient.getS</span> <span class="U2">yncStatus(</span> <span class="U2">)&nbsp;will&nbsp;not</span> <span class="U2">&nbsp;be</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">108</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;filtere</span> <span class="U2">d&nbsp;on&nbsp;'upda</span> <span class="U2">teTime'.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">109</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">110</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;The&nbsp;res</span> <span class="U2">ult&nbsp;of&nbsp;thi</span> <span class="U2">s&nbsp;method&nbsp;w</span> <span class="U2">ill&nbsp;be&nbsp;ret</span> <span class="U2">urned&nbsp;in&nbsp;t</span> <span class="U2">he&nbsp;callbac</span> <span class="U2">k&nbsp;in&nbsp;the&nbsp;f</span> <span class="U2">orm&nbsp;of&nbsp;an&nbsp;</span> <span class="U2">object</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">111</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;with&nbsp;PI</span> <span class="U2">D&nbsp;keys&nbsp;to&nbsp;</span> <span class="U2">the&nbsp;list&nbsp;o</span> <span class="U2">f&nbsp;domains&nbsp;</span> <span class="U2">for&nbsp;that&nbsp;k</span> <span class="U2">ey,&nbsp;e.g.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">112</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">113</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">114</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">//&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">'</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;3':&nbsp;['med</span> <span class="U2">',&nbsp;'allerg</span> <span class="U2">y',&nbsp;'consu</span> <span class="U2">lt'],</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">115</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">//&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">'</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;1':&nbsp;['med</span> <span class="U2">',&nbsp;'consul</span> <span class="U2">t'],</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">116</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">//&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">'</span> <span class="C2">SITE</span> <span class="U2">;8':&nbsp;['all</span> <span class="U2">ergy'],</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">117</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">118</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">119</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;updateT</span> <span class="U2">ime:&nbsp;A&nbsp;tim</span> <span class="U2">estamp&nbsp;str</span> <span class="U2">ing&nbsp;in&nbsp;YYY</span> <span class="U2">YMMDDHHmms</span> <span class="U2">s&nbsp;format.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">120</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">121</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;filterD</span> <span class="U2">omains:&nbsp;An</span> <span class="U2">&nbsp;array&nbsp;of&nbsp;</span> <span class="U2">domains,&nbsp;e</span> <span class="U2">.g.&nbsp;['med'</span> <span class="U2">,&nbsp;'allergy</span> <span class="U2">',&nbsp;'consul</span> <span class="U2">t']</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">122</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">123</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">//&nbsp;identif</span> <span class="U2">iers:&nbsp;An&nbsp;a</span> <span class="U2">rray&nbsp;of&nbsp;pa</span> <span class="U2">tient&nbsp;iden</span> <span class="U2">tifiers,&nbsp;e</span> <span class="U2">.g.&nbsp;['1010</span> <span class="U2">8V420871',</span> <span class="U2">&nbsp;'</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;1',&nbsp;'</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;8',&nbsp;'</span> <span class="C2">SITE</span> <span class="U2">;1']</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">124</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No</span> <span class="U2">te&nbsp;that&nbsp;th</span> <span class="U2">e&nbsp;identifi</span> <span class="U2">ers&nbsp;can&nbsp;be</span> <span class="U2">&nbsp;any&nbsp;patie</span> <span class="U2">nt&nbsp;identif</span> <span class="U2">ier&nbsp;that&nbsp;i</span> <span class="U2">s&nbsp;valid&nbsp;in</span> <span class="U2">&nbsp;VxSync.&nbsp;T</span> <span class="U2">his</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">125</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in</span> <span class="U2">cludes&nbsp;ICN</span> <span class="U2">s,&nbsp;PIDs,&nbsp;J</span> <span class="U2">PIDs,&nbsp;etc.</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">126</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">127</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;callbac</span> <span class="U2">k:&nbsp;The&nbsp;fun</span> <span class="U2">ction&nbsp;to&nbsp;c</span> <span class="U2">all&nbsp;when&nbsp;t</span> <span class="U2">his&nbsp;method</span> <span class="U2">&nbsp;is&nbsp;comple</span> <span class="U2">te&nbsp;or&nbsp;when</span> <span class="U2">&nbsp;an&nbsp;error&nbsp;</span> <span class="U2">occurs.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">128</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//--------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">---</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">129</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">ReEnrichUt</span> <span class="U2">il.prototy</span> <span class="U2">pe.retriev</span> <span class="U2">ePatientSy</span> <span class="U2">ncDomains&nbsp;</span> <span class="U2">=&nbsp;function</span> <span class="U2">(updateTim</span> <span class="U2">e,&nbsp;filterD</span> <span class="U2">omains,&nbsp;id</span> <span class="U2">entifiers,</span> <span class="U2">&nbsp;callback)</span> <span class="U2">&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">130</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;se</span> <span class="U2">lf&nbsp;=&nbsp;this;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">131</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">132</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;self.l</span> <span class="U2">ogger.info</span> <span class="U2">('record-r</span> <span class="U2">e-enrichme</span> <span class="U2">nt-util.re</span> <span class="U2">trievePati</span> <span class="U2">entSyncDom</span> <span class="U2">ains():&nbsp;en</span> <span class="U2">tering&nbsp;met</span> <span class="U2">hod');</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">133</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;pi</span> <span class="U2">dsToResync</span> <span class="U2">Domains&nbsp;=&nbsp;</span> <span class="U2">{};</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">134</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">135</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;jd</span> <span class="U2">sFilter&nbsp;=&nbsp;</span> <span class="U2">{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">136</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fi</span> <span class="U2">lter:&nbsp;'?de</span> <span class="U2">tailed=tru</span> <span class="U2">e'&nbsp;+&nbsp;(upda</span> <span class="U2">teTime&nbsp;?&nbsp;'</span> <span class="U2">&amp;filter=lt</span> <span class="U2">("stampTim</span> <span class="U2">e",'&nbsp;+&nbsp;upd</span> <span class="U2">ateTime&nbsp;+&nbsp;</span> <span class="U2">')'&nbsp;:&nbsp;'')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">137</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;};</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">138</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;self.l</span> <span class="U2">ogger.info</span> <span class="U2">('record-r</span> <span class="U2">e-enrichme</span> <span class="U2">nt-util.re</span> <span class="U2">trievePati</span> <span class="U2">entSyncDom</span> <span class="U2">ains():&nbsp;as</span> <span class="U2">ync:&nbsp;attem</span> <span class="U2">pting&nbsp;to&nbsp;g</span> <span class="U2">et&nbsp;sync&nbsp;st</span> <span class="U2">atus&nbsp;for&nbsp;e</span> <span class="U2">ach&nbsp;patien</span> <span class="U2">t');</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">139</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;async.</span> <span class="U2">eachLimit(</span> <span class="U2">identifier</span> <span class="U2">s,&nbsp;5,&nbsp;func</span> <span class="U2">tion(pid,&nbsp;</span> <span class="U2">callback)&nbsp;</span> <span class="U2">{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">140</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;se</span> <span class="U2">lf.logger.</span> <span class="U2">debug('rec</span> <span class="U2">ord-re-enr</span> <span class="U2">ichment-ut</span> <span class="U2">il.retriev</span> <span class="U2">ePatientSy</span> <span class="U2">ncDomains(</span> <span class="U2">):&nbsp;attempt</span> <span class="U2">ing&nbsp;to&nbsp;get</span> <span class="U2">&nbsp;sync&nbsp;stat</span> <span class="U2">us&nbsp;for&nbsp;pat</span> <span class="U2">ient&nbsp;%s',&nbsp;</span> <span class="U2">pid);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">141</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;va</span> <span class="U2">r&nbsp;patientI</span> <span class="U2">dentifier&nbsp;</span> <span class="U2">=&nbsp;getPatie</span> <span class="U2">ntIdentifi</span> <span class="U2">erFromReco</span> <span class="U2">rdPid(pid)</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">142</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">143</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;se</span> <span class="U2">lf.jdsClie</span> <span class="U2">nt.getSync</span> <span class="U2">Status(pat</span> <span class="U2">ientIdenti</span> <span class="U2">fier,&nbsp;jdsF</span> <span class="U2">ilter,&nbsp;fun</span> <span class="U2">ction(erro</span> <span class="U2">r,&nbsp;respons</span> <span class="U2">e,&nbsp;result)</span> <span class="U2">&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">144</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;if&nbsp;(erro</span> <span class="U2">r)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">145</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;</span> <span class="U2">errorMessa</span> <span class="U2">ge&nbsp;=&nbsp;util.</span> <span class="U2">format('re</span> <span class="U2">cord-re-en</span> <span class="U2">richment-u</span> <span class="U2">til.retrie</span> <span class="U2">vePatientS</span> <span class="U2">yncDomains</span> <span class="U2">():&nbsp;Error&nbsp;</span> <span class="U2">from&nbsp;JDS&nbsp;w</span> <span class="U2">hen&nbsp;attemp</span> <span class="U2">ting&nbsp;to&nbsp;ge</span> <span class="U2">t&nbsp;sync&nbsp;sta</span> <span class="U2">tus&nbsp;for&nbsp;pa</span> <span class="U2">tient&nbsp;%s.&nbsp;</span> <span class="U2">error&nbsp;%j',</span> <span class="U2">&nbsp;pid,&nbsp;erro</span> <span class="U2">r);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">146</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self</span> <span class="U2">.logger.er</span> <span class="U2">ror(errorM</span> <span class="U2">essage);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">147</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;retu</span> <span class="U2">rn&nbsp;callbac</span> <span class="U2">k(errorMes</span> <span class="U2">sage);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">148</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">149</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">150</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;if&nbsp;(!res</span> <span class="U2">ponse&nbsp;||&nbsp;r</span> <span class="U2">esponse.st</span> <span class="U2">atusCode&nbsp;!</span> <span class="U2">==&nbsp;200)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">151</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;</span> <span class="U2">message&nbsp;=&nbsp;</span> <span class="U2">util.forma</span> <span class="U2">t('record-</span> <span class="U2">re-enrichm</span> <span class="U2">ent-util.r</span> <span class="U2">etrievePat</span> <span class="U2">ientSyncDo</span> <span class="U2">mains():&nbsp;U</span> <span class="U2">nexpected&nbsp;</span> <span class="U2">response&nbsp;f</span> <span class="U2">rom&nbsp;JDS&nbsp;wh</span> <span class="U2">en&nbsp;attempt</span> <span class="U2">ing&nbsp;to&nbsp;get</span> <span class="U2">&nbsp;sync&nbsp;stat</span> <span class="U2">us&nbsp;for&nbsp;pat</span> <span class="U2">ient&nbsp;%s.&nbsp;e</span> <span class="U2">rror&nbsp;%j,&nbsp;r</span> <span class="U2">esponse&nbsp;%j</span> <span class="U2">',&nbsp;pid,&nbsp;er</span> <span class="U2">ror,&nbsp;resul</span> <span class="U2">t);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">152</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self</span> <span class="U2">.logger.er</span> <span class="U2">ror(messag</span> <span class="U2">e);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">153</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;retu</span> <span class="U2">rn&nbsp;callbac</span> <span class="U2">k(message)</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">154</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">155</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">156</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;self.log</span> <span class="U2">ger.debug(</span> <span class="U2">'record-re</span> <span class="U2">-enrichmen</span> <span class="U2">t-util.ret</span> <span class="U2">rievePatie</span> <span class="U2">ntSyncDoma</span> <span class="U2">ins():&nbsp;det</span> <span class="U2">ermining&nbsp;w</span> <span class="U2">hich&nbsp;domai</span> <span class="U2">ns&nbsp;should&nbsp;</span> <span class="U2">be&nbsp;resynce</span> <span class="U2">d&nbsp;for&nbsp;pati</span> <span class="U2">ent&nbsp;%s',&nbsp;p</span> <span class="U2">id);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">157</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">158</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">159</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;var&nbsp;sour</span> <span class="U2">ceMetaStam</span> <span class="U2">p&nbsp;=&nbsp;getPro</span> <span class="U2">perty(resu</span> <span class="U2">lt,&nbsp;['comp</span> <span class="U2">letedStamp</span> <span class="U2">',&nbsp;'source</span> <span class="U2">MetaStamp'</span> <span class="U2">]);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">160</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;var&nbsp;site</span> <span class="U2">s&nbsp;=&nbsp;_.keys</span> <span class="U2">(sourceMet</span> <span class="U2">aStamp);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">161</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;_.each(s</span> <span class="U2">ites,&nbsp;func</span> <span class="U2">tion(site)</span> <span class="U2">&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">162</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;T</span> <span class="U2">his&nbsp;is&nbsp;all</span> <span class="U2">&nbsp;of&nbsp;the&nbsp;do</span> <span class="U2">main&nbsp;objec</span> <span class="U2">ts&nbsp;returne</span> <span class="U2">d&nbsp;in&nbsp;the&nbsp;M</span> <span class="U2">etaStamp&nbsp;f</span> <span class="U2">or&nbsp;the&nbsp;pat</span> <span class="U2">ient's&nbsp;sit</span> <span class="U2">e</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">163</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;</span> <span class="U2">returnedDo</span> <span class="U2">mains&nbsp;=&nbsp;ge</span> <span class="U2">tProperty(</span> <span class="U2">sourceMeta</span> <span class="U2">Stamp,&nbsp;[si</span> <span class="U2">te,&nbsp;'domai</span> <span class="U2">nMetaStamp</span> <span class="U2">']);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">164</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;</span> <span class="U2">sitePid&nbsp;=&nbsp;</span> <span class="U2">getPropert</span> <span class="U2">y(sourceMe</span> <span class="U2">taStamp,&nbsp;[</span> <span class="U2">site,&nbsp;'pid</span> <span class="U2">']);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">165</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">166</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;O</span> <span class="U2">nly&nbsp;add&nbsp;a&nbsp;</span> <span class="U2">domain&nbsp;if&nbsp;</span> <span class="U2">it&nbsp;has&nbsp;eve</span> <span class="U2">nts&nbsp;with&nbsp;a</span> <span class="U2">&nbsp;stampTime</span> <span class="U2">&nbsp;earlier&nbsp;t</span> <span class="U2">han&nbsp;the&nbsp;up</span> <span class="U2">dateTime,</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">167</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;w</span> <span class="U2">hich&nbsp;is&nbsp;an</span> <span class="U2">y&nbsp;domain&nbsp;o</span> <span class="U2">bject&nbsp;with</span> <span class="U2">&nbsp;an&nbsp;eventM</span> <span class="U2">etaStamp&nbsp;p</span> <span class="U2">roperty.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">168</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;</span> <span class="U2">pidDomains</span> <span class="U2">ToBeResync</span> <span class="U2">ed&nbsp;=&nbsp;_.fil</span> <span class="U2">ter(filter</span> <span class="U2">Domains,&nbsp;f</span> <span class="U2">unction(do</span> <span class="U2">main)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">169</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">return&nbsp;_.h</span> <span class="U2">as(returne</span> <span class="U2">dDomains[d</span> <span class="U2">omain],&nbsp;'e</span> <span class="U2">ventMetaSt</span> <span class="U2">amp');</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">170</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">171</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">172</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span> <span class="U2">!_.isEmpty</span> <span class="U2">(pidDomain</span> <span class="U2">sToBeResyn</span> <span class="U2">ced))&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">173</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">pidsToResy</span> <span class="U2">ncDomains[</span> <span class="U2">sitePid]&nbsp;=</span> <span class="U2">&nbsp;pidDomain</span> <span class="U2">sToBeResyn</span> <span class="U2">ced;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">174</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">self.logge</span> <span class="U2">r.info('re</span> <span class="U2">cord-re-en</span> <span class="U2">richment-u</span> <span class="U2">til.retrie</span> <span class="U2">vePatientS</span> <span class="U2">yncDomains</span> <span class="U2">():&nbsp;Prepar</span> <span class="U2">ing&nbsp;to&nbsp;res</span> <span class="U2">ync&nbsp;these&nbsp;</span> <span class="U2">domains&nbsp;fo</span> <span class="U2">r&nbsp;patient&nbsp;</span> <span class="U2">%s:&nbsp;%s',&nbsp;p</span> <span class="U2">id,&nbsp;pidDom</span> <span class="U2">ainsToBeRe</span> <span class="U2">synced);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">175</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">176</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;});</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">177</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">178</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;return&nbsp;c</span> <span class="U2">allback();</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">179</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">180</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;fun</span> <span class="U2">ction(erro</span> <span class="U2">r)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">181</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if</span> <span class="U2">&nbsp;(error)&nbsp;{</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">182</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;return&nbsp;c</span> <span class="U2">allback(er</span> <span class="U2">ror);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">183</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">184</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">185</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;se</span> <span class="U2">lf.logger.</span> <span class="U2">debug('rec</span> <span class="U2">ord-re-enr</span> <span class="U2">ichment-ut</span> <span class="U2">il.retriev</span> <span class="U2">ePatientSy</span> <span class="U2">ncDomains(</span> <span class="U2">):&nbsp;mapped&nbsp;</span> <span class="U2">pids&nbsp;to&nbsp;do</span> <span class="U2">mains&nbsp;to&nbsp;b</span> <span class="U2">e&nbsp;resynced</span> <span class="U2">&nbsp;%j',&nbsp;pids</span> <span class="U2">ToResyncDo</span> <span class="U2">mains);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">186</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;re</span> <span class="U2">turn&nbsp;callb</span> <span class="U2">ack(null,&nbsp;</span> <span class="U2">pidsToResy</span> <span class="U2">ncDomains)</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">187</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;});</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">188</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">};</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">189</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">190</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">191</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//--------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">---</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">192</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;This&nbsp;me</span> <span class="U2">thod&nbsp;itera</span> <span class="U2">tes&nbsp;throug</span> <span class="U2">h&nbsp;the&nbsp;obje</span> <span class="U2">ct&nbsp;in&nbsp;'pid</span> <span class="U2">sToResyncD</span> <span class="U2">omains'&nbsp;an</span> <span class="U2">d&nbsp;for&nbsp;each</span> <span class="U2">&nbsp;domain</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">193</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;in&nbsp;the&nbsp;</span> <span class="U2">list&nbsp;for&nbsp;t</span> <span class="U2">hat&nbsp;PID,&nbsp;c</span> <span class="U2">alls&nbsp;jdsCl</span> <span class="U2">ient.getPa</span> <span class="U2">tientDomai</span> <span class="U2">nData()&nbsp;to</span> <span class="U2">&nbsp;get&nbsp;all&nbsp;o</span> <span class="U2">f&nbsp;the</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">194</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;data&nbsp;fo</span> <span class="U2">r&nbsp;that&nbsp;pat</span> <span class="U2">ient&nbsp;for&nbsp;t</span> <span class="U2">hat&nbsp;domain</span> <span class="U2">.&nbsp;It&nbsp;then&nbsp;</span> <span class="U2">builds&nbsp;a&nbsp;j</span> <span class="U2">ob&nbsp;for&nbsp;eac</span> <span class="U2">h&nbsp;record&nbsp;w</span> <span class="U2">ith&nbsp;a&nbsp;stam</span> <span class="U2">pTime&nbsp;whic</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">195</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;is&nbsp;earl</span> <span class="U2">ier&nbsp;than&nbsp;'</span> <span class="U2">updateTime</span> <span class="U2">'&nbsp;and&nbsp;publ</span> <span class="U2">ishes&nbsp;it&nbsp;t</span> <span class="U2">o&nbsp;beanstal</span> <span class="U2">k.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">196</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">197</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;If&nbsp;'upd</span> <span class="U2">ateTime'&nbsp;i</span> <span class="U2">s&nbsp;falsy,&nbsp;t</span> <span class="U2">hen&nbsp;this&nbsp;m</span> <span class="U2">ethod&nbsp;will</span> <span class="U2">&nbsp;create&nbsp;jo</span> <span class="U2">bs&nbsp;for&nbsp;all</span> <span class="U2">&nbsp;of&nbsp;the&nbsp;re</span> <span class="U2">cords&nbsp;retu</span> <span class="U2">rned</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">198</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;for&nbsp;eac</span> <span class="U2">h&nbsp;domain.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">199</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">200</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;pidsToR</span> <span class="U2">esyncDomai</span> <span class="U2">ns:&nbsp;An&nbsp;obj</span> <span class="U2">ect&nbsp;contai</span> <span class="U2">ning&nbsp;lists</span> <span class="U2">&nbsp;of&nbsp;domain</span> <span class="U2">s&nbsp;to&nbsp;resyn</span> <span class="U2">c&nbsp;keyed&nbsp;by</span> <span class="U2">&nbsp;PIDs,&nbsp;e.g</span> <span class="U2">.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">201</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">202</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">//&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">'</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;3':&nbsp;['med</span> <span class="U2">',&nbsp;'allerg</span> <span class="U2">y',&nbsp;'consu</span> <span class="U2">lt'],</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">203</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">//&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">'</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;1':&nbsp;['med</span> <span class="U2">',&nbsp;'consul</span> <span class="U2">t'],</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">204</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">//&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">'</span> <span class="C2">SITE</span> <span class="U2">;8':&nbsp;['all</span> <span class="U2">ergy'],</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">205</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">206</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">207</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;referen</span> <span class="U2">ceInfo:&nbsp;An</span> <span class="U2">&nbsp;object&nbsp;co</span> <span class="U2">ntaining&nbsp;i</span> <span class="U2">nfo&nbsp;for&nbsp;tr</span> <span class="U2">acking&nbsp;the</span> <span class="U2">&nbsp;flow&nbsp;of&nbsp;a</span> <span class="U2">&nbsp;job&nbsp;throu</span> <span class="U2">gh</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">208</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;th</span> <span class="U2">e&nbsp;system&nbsp;v</span> <span class="U2">ia&nbsp;the&nbsp;log</span> <span class="U2">&nbsp;files,&nbsp;e.</span> <span class="U2">g.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">209</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;&nbsp;&nbsp;&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">210</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;sessionId</span> <span class="U2">:&nbsp;'c45e45b</span> <span class="U2">f-55ab-453</span> <span class="U2">e-bd5e-7e9</span> <span class="U2">f66c58d03'</span> <span class="U2">,</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">211</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;utilityTy</span> <span class="U2">pe:&nbsp;'recor</span> <span class="U2">d-update-e</span> <span class="U2">nrichment'</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">212</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;&nbsp;&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">213</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">214</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;updateT</span> <span class="U2">ime:&nbsp;A&nbsp;tim</span> <span class="U2">estamp&nbsp;str</span> <span class="U2">ing&nbsp;in&nbsp;YYY</span> <span class="U2">YMMDDHHmms</span> <span class="U2">s&nbsp;format.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">215</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">216</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;callbac</span> <span class="U2">k:&nbsp;The&nbsp;fun</span> <span class="U2">ction&nbsp;to&nbsp;c</span> <span class="U2">all&nbsp;when&nbsp;t</span> <span class="U2">his&nbsp;method</span> <span class="U2">&nbsp;is&nbsp;comple</span> <span class="U2">te&nbsp;or&nbsp;when</span> <span class="U2">&nbsp;an&nbsp;error&nbsp;</span> <span class="U2">occurs.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">217</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//--------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">---</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">218</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">ReEnrichUt</span> <span class="U2">il.prototy</span> <span class="U2">pe.getReco</span> <span class="U2">rdsAndCrea</span> <span class="U2">teJobs&nbsp;=&nbsp;f</span> <span class="U2">unction(pi</span> <span class="U2">dsToResync</span> <span class="U2">Domains,&nbsp;u</span> <span class="U2">pdateTime,</span> <span class="U2">&nbsp;reference</span> <span class="U2">Info,&nbsp;call</span> <span class="U2">back)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">219</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;se</span> <span class="U2">lf&nbsp;=&nbsp;this;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">220</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;self.l</span> <span class="U2">ogger.info</span> <span class="U2">('record-r</span> <span class="U2">e-enrichme</span> <span class="U2">nt-util.ge</span> <span class="U2">tRecordsAn</span> <span class="U2">dCreateJob</span> <span class="U2">s():&nbsp;enter</span> <span class="U2">ing&nbsp;method</span> <span class="U2">');</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">221</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">222</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;pi</span> <span class="U2">dToDomainC</span> <span class="U2">omboList&nbsp;=</span> <span class="U2">&nbsp;buildPidT</span> <span class="U2">oDomainCom</span> <span class="U2">boList(pid</span> <span class="U2">sToResyncD</span> <span class="U2">omains);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">223</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;pi</span> <span class="U2">dStats&nbsp;=&nbsp;b</span> <span class="U2">uildPidSta</span> <span class="U2">ts(pidsToR</span> <span class="U2">esyncDomai</span> <span class="U2">ns,&nbsp;refere</span> <span class="U2">nceInfo);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">224</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;to</span> <span class="U2">talJobsPub</span> <span class="U2">lished&nbsp;=&nbsp;0</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">225</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;pi</span> <span class="U2">dCompleteL</span> <span class="U2">ist&nbsp;=&nbsp;[];</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">226</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;in</span> <span class="U2">completeCo</span> <span class="U2">llection&nbsp;=</span> <span class="U2">&nbsp;{};</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">227</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">228</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">229</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;self.l</span> <span class="U2">ogger.debu</span> <span class="U2">g('record-</span> <span class="U2">re-enrichm</span> <span class="U2">ent-util.g</span> <span class="U2">etRecordsA</span> <span class="U2">ndCreateJo</span> <span class="U2">bs():&nbsp;begi</span> <span class="U2">nning&nbsp;asyn</span> <span class="U2">c&nbsp;to&nbsp;get&nbsp;d</span> <span class="U2">omain&nbsp;data</span> <span class="U2">&nbsp;for&nbsp;patie</span> <span class="U2">nts&nbsp;from&nbsp;J</span> <span class="U2">DS');</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">230</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Lim</span> <span class="U2">it&nbsp;to&nbsp;1&nbsp;to</span> <span class="U2">&nbsp;avoid&nbsp;run</span> <span class="U2">ning&nbsp;out&nbsp;o</span> <span class="U2">f&nbsp;memory&nbsp;o</span> <span class="U2">n&nbsp;large&nbsp;da</span> <span class="U2">ta&nbsp;sets</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">231</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;async.</span> <span class="U2">eachLimit(</span> <span class="U2">pidToDomai</span> <span class="U2">nComboList</span> <span class="U2">,&nbsp;1,&nbsp;funct</span> <span class="U2">ion(pidAnd</span> <span class="U2">Domain,&nbsp;as</span> <span class="U2">yncCallbac</span> <span class="U2">k)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">232</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;va</span> <span class="U2">r&nbsp;pid&nbsp;=&nbsp;pi</span> <span class="U2">dAndDomain</span> <span class="U2">.pid;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">233</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;va</span> <span class="U2">r&nbsp;domain&nbsp;=</span> <span class="U2">&nbsp;pidAndDom</span> <span class="U2">ain.domain</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">234</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">235</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;va</span> <span class="U2">r&nbsp;pidRefer</span> <span class="U2">enceInfo&nbsp;=</span> <span class="U2">&nbsp;pidStats[</span> <span class="U2">pid].refer</span> <span class="U2">enceInfo;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">236</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;va</span> <span class="U2">r&nbsp;childLog</span> <span class="U2">ger&nbsp;=&nbsp;self</span> <span class="U2">.logger.ch</span> <span class="U2">ild(pidRef</span> <span class="U2">erenceInfo</span> <span class="U2">);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">237</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">238</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if</span> <span class="U2">&nbsp;(!pidStat</span> <span class="U2">s[pid].sta</span> <span class="U2">rted)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">239</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;childLog</span> <span class="U2">ger.info('</span> <span class="U2">record-re-</span> <span class="U2">enrichment</span> <span class="U2">-util.getR</span> <span class="U2">ecordsAndC</span> <span class="U2">reateJobs(</span> <span class="U2">):&nbsp;STARTED</span> <span class="U2">&nbsp;patient:&nbsp;</span> <span class="U2">%s',&nbsp;pid);</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">240</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;pidStats</span> <span class="U2">[pid].star</span> <span class="U2">ted&nbsp;=&nbsp;true</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">241</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">242</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">243</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;se</span> <span class="U2">lf.logger.</span> <span class="U2">info('reco</span> <span class="U2">rd-re-enri</span> <span class="U2">chment-uti</span> <span class="U2">l.getRecor</span> <span class="U2">dsAndCreat</span> <span class="U2">eJobs():&nbsp;r</span> <span class="U2">etrieving&nbsp;</span> <span class="U2">%s&nbsp;data&nbsp;fo</span> <span class="U2">r&nbsp;%s&nbsp;from&nbsp;</span> <span class="U2">JDS',&nbsp;doma</span> <span class="U2">in,&nbsp;pid);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">244</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;se</span> <span class="U2">lf.jdsClie</span> <span class="U2">nt.getPati</span> <span class="U2">entDomainD</span> <span class="U2">ata(pid,&nbsp;d</span> <span class="U2">omain,&nbsp;fun</span> <span class="U2">ction(erro</span> <span class="U2">r,&nbsp;respons</span> <span class="U2">e,&nbsp;result)</span> <span class="U2">&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">245</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;if&nbsp;(erro</span> <span class="U2">r)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">246</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;</span> <span class="U2">errorMessa</span> <span class="U2">ge&nbsp;=&nbsp;util.</span> <span class="U2">format('re</span> <span class="U2">cord-re-en</span> <span class="U2">richment-u</span> <span class="U2">til.getRec</span> <span class="U2">ordsAndCre</span> <span class="U2">ateJobs():</span> <span class="U2">&nbsp;Error&nbsp;fro</span> <span class="U2">m&nbsp;JDS&nbsp;when</span> <span class="U2">&nbsp;attemptin</span> <span class="U2">g&nbsp;to&nbsp;retri</span> <span class="U2">eve&nbsp;%s&nbsp;dat</span> <span class="U2">a&nbsp;for&nbsp;pati</span> <span class="U2">ent&nbsp;%s.&nbsp;er</span> <span class="U2">ror&nbsp;%j',&nbsp;d</span> <span class="U2">omain,&nbsp;pid</span> <span class="U2">,&nbsp;error);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">247</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chil</span> <span class="U2">dLogger.er</span> <span class="U2">ror(errorM</span> <span class="U2">essage);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">248</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chil</span> <span class="U2">dLogger.er</span> <span class="U2">ror(create</span> <span class="U2">ErrorStatu</span> <span class="U2">s('Get&nbsp;dom</span> <span class="U2">ain&nbsp;data&nbsp;f</span> <span class="U2">rom&nbsp;JDS',&nbsp;</span> <span class="U2">pid,&nbsp;domai</span> <span class="U2">n,&nbsp;error))</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">249</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addI</span> <span class="U2">ncompleteD</span> <span class="U2">omain(inco</span> <span class="U2">mpleteColl</span> <span class="U2">ection,&nbsp;pi</span> <span class="U2">d,&nbsp;domain)</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">250</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;retu</span> <span class="U2">rn&nbsp;asyncCa</span> <span class="U2">llback();</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">251</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">252</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">253</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;if&nbsp;(!res</span> <span class="U2">ponse&nbsp;||&nbsp;r</span> <span class="U2">esponse.st</span> <span class="U2">atusCode&nbsp;!</span> <span class="U2">==&nbsp;200)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">254</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;</span> <span class="U2">message&nbsp;=&nbsp;</span> <span class="U2">util.forma</span> <span class="U2">t('record-</span> <span class="U2">re-enrichm</span> <span class="U2">ent-util.g</span> <span class="U2">etRecordsA</span> <span class="U2">ndCreateJo</span> <span class="U2">bs():&nbsp;Unex</span> <span class="U2">pected&nbsp;res</span> <span class="U2">ponse&nbsp;from</span> <span class="U2">&nbsp;JDS&nbsp;when&nbsp;</span> <span class="U2">attempting</span> <span class="U2">&nbsp;to&nbsp;retrie</span> <span class="U2">ve&nbsp;%s&nbsp;data</span> <span class="U2">&nbsp;for&nbsp;patie</span> <span class="U2">nt&nbsp;%s.&nbsp;err</span> <span class="U2">or&nbsp;%j,&nbsp;res</span> <span class="U2">ponse&nbsp;%j',</span> <span class="U2">&nbsp;domain,&nbsp;p</span> <span class="U2">id,&nbsp;error,</span> <span class="U2">&nbsp;result);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">255</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chil</span> <span class="U2">dLogger.er</span> <span class="U2">ror(messag</span> <span class="U2">e);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">256</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addI</span> <span class="U2">ncompleteD</span> <span class="U2">omain(inco</span> <span class="U2">mpleteColl</span> <span class="U2">ection,&nbsp;pi</span> <span class="U2">d,&nbsp;domain)</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">257</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;retu</span> <span class="U2">rn&nbsp;asyncCa</span> <span class="U2">llback();</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">258</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">259</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">260</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;var&nbsp;doma</span> <span class="U2">inItems&nbsp;=&nbsp;</span> <span class="U2">getPropert</span> <span class="U2">y(result,&nbsp;</span> <span class="U2">['data',&nbsp;'</span> <span class="U2">items']);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">261</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;var&nbsp;jobs</span> <span class="U2">ToPublish&nbsp;</span> <span class="U2">=&nbsp;buildJob</span> <span class="U2">sToPublish</span> <span class="U2">(self.upda</span> <span class="U2">teConfig.s</span> <span class="U2">olrOnly,up</span> <span class="U2">dateTime,&nbsp;</span> <span class="U2">domain,&nbsp;do</span> <span class="U2">mainItems,</span> <span class="U2">&nbsp;pidRefere</span> <span class="U2">nceInfo);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">262</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">263</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;childLog</span> <span class="U2">ger.info('</span> <span class="U2">record-re-</span> <span class="U2">enrichment</span> <span class="U2">-util.getR</span> <span class="U2">ecordsAndC</span> <span class="U2">reateJobs(</span> <span class="U2">):&nbsp;Created</span> <span class="U2">&nbsp;%s&nbsp;record</span> <span class="U2">&nbsp;update&nbsp;jo</span> <span class="U2">bs&nbsp;for&nbsp;%s&nbsp;</span> <span class="U2">domain&nbsp;dat</span> <span class="U2">a&nbsp;for&nbsp;pati</span> <span class="U2">ent&nbsp;%s.&nbsp;No</span> <span class="U2">w&nbsp;publishi</span> <span class="U2">ng&nbsp;jobs.',</span> <span class="U2">&nbsp;_.size(jo</span> <span class="U2">bsToPublis</span> <span class="U2">h),&nbsp;domain</span> <span class="U2">,&nbsp;pid);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">264</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">265</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;self.wri</span> <span class="U2">teJobsToBe</span> <span class="U2">anstalk(ch</span> <span class="U2">ildLogger,</span> <span class="U2">&nbsp;jobsToPub</span> <span class="U2">lish,&nbsp;func</span> <span class="U2">tion(error</span> <span class="U2">,&nbsp;domainJo</span> <span class="U2">bsPublishe</span> <span class="U2">d)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">266</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;</span> <span class="U2">errorMessa</span> <span class="U2">ge;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">267</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span> <span class="U2">error)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">268</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">errorMessa</span> <span class="U2">ge&nbsp;=&nbsp;util.</span> <span class="U2">format('re</span> <span class="U2">cord-re-en</span> <span class="U2">richment-u</span> <span class="U2">til:&nbsp;Error</span> <span class="U2">&nbsp;returned&nbsp;</span> <span class="U2">by&nbsp;writeJo</span> <span class="U2">bsToBeanst</span> <span class="U2">alk&nbsp;for&nbsp;pi</span> <span class="U2">d&nbsp;%s,&nbsp;doma</span> <span class="U2">in&nbsp;%s:&nbsp;%s'</span> <span class="U2">,&nbsp;pid,&nbsp;dom</span> <span class="U2">ain,&nbsp;error</span> <span class="U2">);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">269</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">childLogge</span> <span class="U2">r.error('r</span> <span class="U2">ecord-re-e</span> <span class="U2">nrichment-</span> <span class="U2">util.getRe</span> <span class="U2">cordsAndCr</span> <span class="U2">eateJobs()</span> <span class="U2">:&nbsp;Error&nbsp;re</span> <span class="U2">turned&nbsp;by&nbsp;</span> <span class="U2">writeJobsT</span> <span class="U2">oBeanstalk</span> <span class="U2">:&nbsp;%s',&nbsp;err</span> <span class="U2">orMessage)</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">270</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;el</span> <span class="U2">se&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">271</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">pidStats[p</span> <span class="U2">id].domain</span> <span class="U2">sComplete.</span> <span class="U2">push(domai</span> <span class="U2">n);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">272</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">273</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">274</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pidS</span> <span class="U2">tats[pid].</span> <span class="U2">jobsPublis</span> <span class="U2">hed&nbsp;+=&nbsp;dom</span> <span class="U2">ainJobsPub</span> <span class="U2">lished;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">275</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tota</span> <span class="U2">lJobsPubli</span> <span class="U2">shed&nbsp;+=&nbsp;do</span> <span class="U2">mainJobsPu</span> <span class="U2">blished;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">276</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">277</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addD</span> <span class="U2">istinct(pi</span> <span class="U2">dCompleteL</span> <span class="U2">ist,&nbsp;pid);</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">278</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">279</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chil</span> <span class="U2">dLogger.in</span> <span class="U2">fo('record</span> <span class="U2">-re-enrich</span> <span class="U2">ment-util.</span> <span class="U2">getRecords</span> <span class="U2">AndCreateJ</span> <span class="U2">obs():&nbsp;Fin</span> <span class="U2">ished&nbsp;%s&nbsp;o</span> <span class="U2">ut&nbsp;of&nbsp;%s&nbsp;p</span> <span class="U2">atients',&nbsp;</span> <span class="U2">_.size(pid</span> <span class="U2">CompleteLi</span> <span class="U2">st),&nbsp;_.siz</span> <span class="U2">e(pidStats</span> <span class="U2">));</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">280</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chil</span> <span class="U2">dLogger.in</span> <span class="U2">fo('record</span> <span class="U2">-re-enrich</span> <span class="U2">ment-util.</span> <span class="U2">getRecords</span> <span class="U2">AndCreateJ</span> <span class="U2">obs():&nbsp;Pub</span> <span class="U2">lished&nbsp;%s&nbsp;</span> <span class="U2">out&nbsp;of&nbsp;%s&nbsp;</span> <span class="U2">%s&nbsp;jobs&nbsp;fo</span> <span class="U2">r&nbsp;patient&nbsp;</span> <span class="U2">%s',&nbsp;domai</span> <span class="U2">nJobsPubli</span> <span class="U2">shed,&nbsp;_.si</span> <span class="U2">ze(jobsToP</span> <span class="U2">ublish),&nbsp;d</span> <span class="U2">omain,&nbsp;pid</span> <span class="U2">);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">281</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chil</span> <span class="U2">dLogger.in</span> <span class="U2">fo('record</span> <span class="U2">-re-enrich</span> <span class="U2">ment-util.</span> <span class="U2">getRecords</span> <span class="U2">AndCreateJ</span> <span class="U2">obs():&nbsp;Tot</span> <span class="U2">al&nbsp;jobs&nbsp;pu</span> <span class="U2">blished&nbsp;as</span> <span class="U2">&nbsp;of&nbsp;this&nbsp;t</span> <span class="U2">ime:&nbsp;%s',&nbsp;</span> <span class="U2">totalJobsP</span> <span class="U2">ublished);</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">282</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">283</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span> <span class="U2">_.isEmpty(</span> <span class="U2">_.differen</span> <span class="U2">ce(pidsToR</span> <span class="U2">esyncDomai</span> <span class="U2">ns[pid],&nbsp;p</span> <span class="U2">idStats[pi</span> <span class="U2">d].domains</span> <span class="U2">Complete))</span> <span class="U2">)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">284</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">self.logge</span> <span class="U2">r.info('re</span> <span class="U2">cord-re-en</span> <span class="U2">richment-u</span> <span class="U2">til.getRec</span> <span class="U2">ordsAndCre</span> <span class="U2">ateJobs():</span> <span class="U2">&nbsp;FINISHED&nbsp;</span> <span class="U2">patient&nbsp;%s</span> <span class="U2">',&nbsp;pid);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">285</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">286</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">287</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chil</span> <span class="U2">dLogger.de</span> <span class="U2">bug('recor</span> <span class="U2">d-re-enric</span> <span class="U2">hment-util</span> <span class="U2">.getRecord</span> <span class="U2">sAndCreate</span> <span class="U2">Jobs():&nbsp;Fi</span> <span class="U2">nished&nbsp;cal</span> <span class="U2">l&nbsp;to&nbsp;write</span> <span class="U2">JobsToBean</span> <span class="U2">stalk&nbsp;for&nbsp;</span> <span class="U2">patient&nbsp;%s</span> <span class="U2">&nbsp;and&nbsp;domai</span> <span class="U2">n&nbsp;%s.&nbsp;Jobs</span> <span class="U2">&nbsp;published</span> <span class="U2">&nbsp;successfu</span> <span class="U2">lly.',&nbsp;pid</span> <span class="U2">,&nbsp;domain);</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">288</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asyn</span> <span class="U2">cCallback(</span> <span class="U2">);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">289</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;});</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">290</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">291</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">292</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;fun</span> <span class="U2">ction()&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">293</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;se</span> <span class="U2">lf.logger.</span> <span class="U2">info('reco</span> <span class="U2">rd-re-enri</span> <span class="U2">chment-uti</span> <span class="U2">l.getRecor</span> <span class="U2">dsAndCreat</span> <span class="U2">eJobs():&nbsp;F</span> <span class="U2">inished&nbsp;cr</span> <span class="U2">eating&nbsp;and</span> <span class="U2">&nbsp;publishin</span> <span class="U2">g&nbsp;jobs.');</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">294</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;se</span> <span class="U2">lf.logger.</span> <span class="U2">info({</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">295</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;incomple</span> <span class="U2">te:&nbsp;incomp</span> <span class="U2">leteCollec</span> <span class="U2">tion</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">296</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</span> <span class="U2">&nbsp;'Incomple</span> <span class="U2">te&nbsp;domains</span> <span class="U2">&nbsp;by&nbsp;PID:')</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">297</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;re</span> <span class="U2">turn&nbsp;callb</span> <span class="U2">ack();</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">298</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;});</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">299</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">};</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">300</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">301</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">302</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//--------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">---</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">303</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;This&nbsp;fu</span> <span class="U2">nction&nbsp;ite</span> <span class="U2">rates&nbsp;thro</span> <span class="U2">ugh&nbsp;each&nbsp;i</span> <span class="U2">tem&nbsp;in&nbsp;the</span> <span class="U2">&nbsp;domainIte</span> <span class="U2">ms&nbsp;list,&nbsp;c</span> <span class="U2">reating&nbsp;a</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">304</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;'record</span> <span class="U2">-update'&nbsp;j</span> <span class="U2">ob&nbsp;for&nbsp;eac</span> <span class="U2">h&nbsp;item&nbsp;tha</span> <span class="U2">t&nbsp;was&nbsp;crea</span> <span class="U2">ted&nbsp;before</span> <span class="U2">&nbsp;the&nbsp;'upda</span> <span class="U2">teTime'&nbsp;or</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">305</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;all&nbsp;rec</span> <span class="U2">ords&nbsp;if&nbsp;'u</span> <span class="U2">pdateTime'</span> <span class="U2">&nbsp;is&nbsp;falsy.</span> <span class="U2">&nbsp;The&nbsp;resul</span> <span class="U2">ting&nbsp;array</span> <span class="U2">&nbsp;of&nbsp;jobs&nbsp;i</span> <span class="U2">s&nbsp;returned</span> <span class="U2">.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">306</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">307</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;solrOnl</span> <span class="U2">y:&nbsp;True&nbsp;if</span> <span class="U2">&nbsp;this&nbsp;is&nbsp;o</span> <span class="U2">nly&nbsp;a&nbsp;solr</span> <span class="U2">&nbsp;update.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">308</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">309</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;updateT</span> <span class="U2">ime:&nbsp;A&nbsp;tim</span> <span class="U2">estamp&nbsp;in&nbsp;</span> <span class="U2">YYYYMMDDHH</span> <span class="U2">mmss&nbsp;forma</span> <span class="U2">t.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">310</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">311</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;domain:</span> <span class="U2">&nbsp;The&nbsp;domai</span> <span class="U2">n&nbsp;of&nbsp;all&nbsp;o</span> <span class="U2">f&nbsp;the&nbsp;doma</span> <span class="U2">inItems&nbsp;(e</span> <span class="U2">.g.&nbsp;'aller</span> <span class="U2">gy').</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">312</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">313</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;domainI</span> <span class="U2">tems:&nbsp;A&nbsp;co</span> <span class="U2">llection&nbsp;o</span> <span class="U2">f&nbsp;items&nbsp;as</span> <span class="U2">&nbsp;returned&nbsp;</span> <span class="U2">from&nbsp;JDS.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">314</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//--------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">---</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">315</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">function&nbsp;b</span> <span class="U2">uildJobsTo</span> <span class="U2">Publish(so</span> <span class="U2">lrOnly,&nbsp;up</span> <span class="U2">dateTime,&nbsp;</span> <span class="U2">domain,&nbsp;do</span> <span class="U2">mainItems,</span> <span class="U2">&nbsp;pidRefere</span> <span class="U2">nceInfo)&nbsp;{</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">316</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;jo</span> <span class="U2">bsToPublis</span> <span class="U2">h&nbsp;=&nbsp;[];</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">317</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">318</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;_.each</span> <span class="U2">(domainIte</span> <span class="U2">ms,&nbsp;functi</span> <span class="U2">on(item)&nbsp;{</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">319</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;va</span> <span class="U2">r&nbsp;updateRe</span> <span class="U2">cord&nbsp;=&nbsp;upd</span> <span class="U2">ateTime&nbsp;?&nbsp;</span> <span class="U2">(item.stam</span> <span class="U2">pTime&nbsp;&lt;&nbsp;up</span> <span class="U2">dateTime)&nbsp;</span> <span class="U2">:&nbsp;true;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">320</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;va</span> <span class="U2">r&nbsp;newJob;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">321</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if</span> <span class="U2">&nbsp;(updateRe</span> <span class="U2">cord)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">322</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;newJob&nbsp;=</span> <span class="U2">&nbsp;jobUtil.c</span> <span class="U2">reateRecor</span> <span class="U2">dUpdate(ge</span> <span class="U2">tPatientId</span> <span class="U2">entifierFr</span> <span class="U2">omRecordPi</span> <span class="U2">d(item.pid</span> <span class="U2">),&nbsp;domain,</span> <span class="U2">&nbsp;item,&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">323</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;refe</span> <span class="U2">renceInfo:</span> <span class="U2">&nbsp;pidRefere</span> <span class="U2">nceInfo</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">324</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;});</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">325</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">326</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;if&nbsp;(solr</span> <span class="U2">Only)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">327</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newJ</span> <span class="U2">ob.solrOnl</span> <span class="U2">y&nbsp;=&nbsp;true;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">328</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">329</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">330</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;jobsToPu</span> <span class="U2">blish.push</span> <span class="U2">(newJob);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">331</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">332</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;});</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">333</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">334</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="U2">&nbsp;jobsToPub</span> <span class="U2">lish;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">335</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">336</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">337</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">338</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//--------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">---</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">339</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;This&nbsp;fu</span> <span class="U2">nction&nbsp;wri</span> <span class="U2">tes&nbsp;jobs&nbsp;t</span> <span class="U2">o&nbsp;the&nbsp;tube</span> <span class="U2">.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">340</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">341</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;childLo</span> <span class="U2">gger:&nbsp;A&nbsp;bu</span> <span class="U2">nyan&nbsp;logge</span> <span class="U2">r&nbsp;to&nbsp;use&nbsp;w</span> <span class="U2">hen&nbsp;all&nbsp;lo</span> <span class="U2">gging&nbsp;in&nbsp;t</span> <span class="U2">his&nbsp;functi</span> <span class="U2">on.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">342</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">343</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;jobsToP</span> <span class="U2">ublish:&nbsp;Pu</span> <span class="U2">ts&nbsp;one&nbsp;or&nbsp;</span> <span class="U2">more&nbsp;jobs&nbsp;</span> <span class="U2">on&nbsp;a&nbsp;Beans</span> <span class="U2">talk&nbsp;tube.</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">344</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">345</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;callbac</span> <span class="U2">k:&nbsp;The&nbsp;cal</span> <span class="U2">lback&nbsp;hand</span> <span class="U2">ler.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">346</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//--------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">---</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">347</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">ReEnrichUt</span> <span class="U2">il.prototy</span> <span class="U2">pe.writeJo</span> <span class="U2">bsToBeanst</span> <span class="U2">alk&nbsp;=&nbsp;func</span> <span class="U2">tion(child</span> <span class="U2">Logger,&nbsp;jo</span> <span class="U2">bsToPublis</span> <span class="U2">h,&nbsp;callbac</span> <span class="U2">k)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">348</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;se</span> <span class="U2">lf&nbsp;=&nbsp;this;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">349</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">350</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;childL</span> <span class="U2">ogger.debu</span> <span class="U2">g('record-</span> <span class="U2">re-enrichm</span> <span class="U2">ent-util.w</span> <span class="U2">riteJobsTo</span> <span class="U2">Beanstalk:</span> <span class="U2">&nbsp;entering&nbsp;</span> <span class="U2">method');</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">351</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;tu</span> <span class="U2">beName&nbsp;=&nbsp;s</span> <span class="U2">elf.tubena</span> <span class="U2">me;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">352</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;ho</span> <span class="U2">st&nbsp;=&nbsp;self.</span> <span class="U2">updateConf</span> <span class="U2">ig.beansta</span> <span class="U2">lk.repoDef</span> <span class="U2">aults.host</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">353</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;po</span> <span class="U2">rt&nbsp;=&nbsp;self.</span> <span class="U2">updateConf</span> <span class="U2">ig.beansta</span> <span class="U2">lk.repoDef</span> <span class="U2">aults.port</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">354</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;cl</span> <span class="U2">ient&nbsp;=&nbsp;new</span> <span class="U2">&nbsp;Beanstalk</span> <span class="U2">Client(chi</span> <span class="U2">ldLogger,&nbsp;</span> <span class="U2">host,&nbsp;port</span> <span class="U2">);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">355</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">356</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;ta</span> <span class="U2">sks&nbsp;=&nbsp;buil</span> <span class="U2">dJobTaskLi</span> <span class="U2">st(client,</span> <span class="U2">&nbsp;jobsToPub</span> <span class="U2">lish);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">357</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">358</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;jo</span> <span class="U2">bsPublishe</span> <span class="U2">dCount&nbsp;=&nbsp;0</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">359</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">360</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;client</span> <span class="U2">.connect(f</span> <span class="U2">unction(er</span> <span class="U2">ror)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">361</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if</span> <span class="U2">&nbsp;(error)&nbsp;{</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">362</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;return&nbsp;c</span> <span class="U2">lient.end(</span> <span class="U2">function()</span> <span class="U2">&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">363</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;retu</span> <span class="U2">rn&nbsp;callbac</span> <span class="U2">k(util.for</span> <span class="U2">mat('Faile</span> <span class="U2">d&nbsp;to&nbsp;conne</span> <span class="U2">ct&nbsp;to&nbsp;bean</span> <span class="U2">stalk.&nbsp;Hos</span> <span class="U2">t:&nbsp;%s;&nbsp;Por</span> <span class="U2">t:&nbsp;%s;&nbsp;err</span> <span class="U2">or:&nbsp;%j',&nbsp;h</span> <span class="U2">ost,&nbsp;port,</span> <span class="U2">&nbsp;error),&nbsp;j</span> <span class="U2">obsPublish</span> <span class="U2">edCount);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">364</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;});</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">365</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">366</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">367</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//</span> <span class="U2">&nbsp;Need&nbsp;this</span> <span class="U2">&nbsp;to&nbsp;put&nbsp;jo</span> <span class="U2">bs&nbsp;in&nbsp;the&nbsp;</span> <span class="U2">tube.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">368</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">-----</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">369</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cl</span> <span class="U2">ient.use(t</span> <span class="U2">ubeName,&nbsp;f</span> <span class="U2">unction(er</span> <span class="U2">ror)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">370</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;if&nbsp;(erro</span> <span class="U2">r)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">371</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;retu</span> <span class="U2">rn&nbsp;client.</span> <span class="U2">end(functi</span> <span class="U2">on()&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">372</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">return&nbsp;cal</span> <span class="U2">lback(util</span> <span class="U2">.format('F</span> <span class="U2">ailed&nbsp;to&nbsp;u</span> <span class="U2">se&nbsp;tube.&nbsp;H</span> <span class="U2">ost:&nbsp;%s;&nbsp;P</span> <span class="U2">ort:&nbsp;%s;&nbsp;T</span> <span class="U2">ubeName:&nbsp;%</span> <span class="U2">s;&nbsp;error:&nbsp;</span> <span class="U2">%j',&nbsp;host,</span> <span class="U2">&nbsp;port,&nbsp;tub</span> <span class="U2">eName,&nbsp;err</span> <span class="U2">or),&nbsp;jobsP</span> <span class="U2">ublishedCo</span> <span class="U2">unt);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">373</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">374</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">375</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">376</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;//&nbsp;Need&nbsp;</span> <span class="U2">this&nbsp;to&nbsp;bu</span> <span class="U2">ry&nbsp;jobs.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">377</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;//------</span> <span class="U2">----------</span> <span class="U2">--------</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">378</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;client.w</span> <span class="U2">atch(tubeN</span> <span class="U2">ame,&nbsp;funct</span> <span class="U2">ion(error)</span> <span class="U2">&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">379</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span> <span class="U2">error)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">380</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">return&nbsp;cli</span> <span class="U2">ent.end(fu</span> <span class="U2">nction()&nbsp;{</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">381</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="U2">&nbsp;callback(</span> <span class="U2">util.forma</span> <span class="U2">t('Failed&nbsp;</span> <span class="U2">to&nbsp;watch&nbsp;t</span> <span class="U2">ube.&nbsp;&nbsp;Host</span> <span class="U2">:&nbsp;%s;&nbsp;Port</span> <span class="U2">:&nbsp;%s;&nbsp;Tube</span> <span class="U2">Name:&nbsp;%s;&nbsp;</span> <span class="U2">error:&nbsp;%j'</span> <span class="U2">,&nbsp;host,&nbsp;po</span> <span class="U2">rt,&nbsp;tubeNa</span> <span class="U2">me,&nbsp;error)</span> <span class="U2">,&nbsp;jobsPubl</span> <span class="U2">ishedCount</span> <span class="U2">);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">382</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">});</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">383</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">384</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">385</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asyn</span> <span class="U2">c.series(t</span> <span class="U2">asks,&nbsp;func</span> <span class="U2">tion(error</span> <span class="U2">,&nbsp;result)&nbsp;</span> <span class="U2">{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">386</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">if&nbsp;(error)</span> <span class="U2">&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">387</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;childL</span> <span class="U2">ogger.erro</span> <span class="U2">r('record-</span> <span class="U2">re-enrichm</span> <span class="U2">ent-util.w</span> <span class="U2">riteJobsTo</span> <span class="U2">Beanstalk:</span> <span class="U2">&nbsp;Failed&nbsp;to</span> <span class="U2">&nbsp;process&nbsp;t</span> <span class="U2">asks&nbsp;to&nbsp;wr</span> <span class="U2">ite&nbsp;jobs&nbsp;t</span> <span class="U2">o&nbsp;tubes.&nbsp;&nbsp;</span> <span class="U2">error:&nbsp;%j;</span> <span class="U2">&nbsp;result:&nbsp;%</span> <span class="U2">j',&nbsp;error,</span> <span class="U2">&nbsp;result);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">388</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">389</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">390</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">if&nbsp;(result</span> <span class="U2">)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">391</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Res</span> <span class="U2">ult&nbsp;is&nbsp;a&nbsp;l</span> <span class="U2">ist&nbsp;of&nbsp;ids</span> <span class="U2">&nbsp;of&nbsp;the&nbsp;in</span> <span class="U2">serted&nbsp;bea</span> <span class="U2">nstalk&nbsp;job</span> <span class="U2">s</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">392</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Arr</span> <span class="U2">ay&nbsp;may&nbsp;con</span> <span class="U2">tain&nbsp;an&nbsp;'u</span> <span class="U2">ndefined'&nbsp;</span> <span class="U2">in&nbsp;an&nbsp;erro</span> <span class="U2">r&nbsp;situatio</span> <span class="U2">n&nbsp;-&nbsp;will&nbsp;c</span> <span class="U2">ause&nbsp;this&nbsp;</span> <span class="U2">number&nbsp;to&nbsp;</span> <span class="U2">be&nbsp;off</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">393</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;jobsPu</span> <span class="U2">blishedCou</span> <span class="U2">nt&nbsp;+=&nbsp;_.si</span> <span class="U2">ze(result)</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">394</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">395</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">396</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">client.end</span> <span class="U2">(function(</span> <span class="U2">)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">397</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;childL</span> <span class="U2">ogger.debu</span> <span class="U2">g('record-</span> <span class="U2">re-enrichm</span> <span class="U2">ent-util.w</span> <span class="U2">riteJobsTo</span> <span class="U2">Beanstalk:</span> <span class="U2">&nbsp;finished&nbsp;</span> <span class="U2">placing&nbsp;jo</span> <span class="U2">bs&nbsp;into&nbsp;be</span> <span class="U2">anstalk&nbsp;tu</span> <span class="U2">be');</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">398</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="U2">&nbsp;callback(</span> <span class="U2">error,&nbsp;job</span> <span class="U2">sPublished</span> <span class="U2">Count);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">399</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">});</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">400</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">401</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;});</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">402</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">403</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;});</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">404</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">};</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">405</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">406</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">407</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//--------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">---</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">408</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;This&nbsp;me</span> <span class="U2">thod&nbsp;runs&nbsp;</span> <span class="U2">the&nbsp;Data&nbsp;R</span> <span class="U2">e-enrichme</span> <span class="U2">nt&nbsp;process</span> <span class="U2">&nbsp;one&nbsp;step&nbsp;</span> <span class="U2">at&nbsp;a&nbsp;time&nbsp;</span> <span class="U2">in&nbsp;correct</span> <span class="U2">&nbsp;order.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">409</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">410</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;pids:&nbsp;A</span> <span class="U2">n&nbsp;array&nbsp;of</span> <span class="U2">&nbsp;PIDS&nbsp;to&nbsp;p</span> <span class="U2">rocess</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">411</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">412</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;updateT</span> <span class="U2">ime:&nbsp;A&nbsp;tim</span> <span class="U2">estamp&nbsp;in&nbsp;</span> <span class="U2">YYYYMMDDHH</span> <span class="U2">mmss&nbsp;forma</span> <span class="U2">t.&nbsp;Only&nbsp;do</span> <span class="U2">main&nbsp;event</span> <span class="U2">&nbsp;items&nbsp;dat</span> <span class="U2">ed</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">413</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be</span> <span class="U2">fore&nbsp;this&nbsp;</span> <span class="U2">value&nbsp;will</span> <span class="U2">&nbsp;be&nbsp;re-pro</span> <span class="U2">cessed.&nbsp;If</span> <span class="U2">&nbsp;this&nbsp;valu</span> <span class="U2">e&nbsp;is&nbsp;null&nbsp;</span> <span class="U2">or&nbsp;undefin</span> <span class="U2">ed,</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">414</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;th</span> <span class="U2">en&nbsp;no&nbsp;filt</span> <span class="U2">er&nbsp;will&nbsp;be</span> <span class="U2">&nbsp;applied.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">415</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">416</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;domains</span> <span class="U2">:&nbsp;An&nbsp;array</span> <span class="U2">&nbsp;of&nbsp;domain</span> <span class="U2">s&nbsp;to&nbsp;re-pr</span> <span class="U2">ocess</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">417</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">418</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;referen</span> <span class="U2">ceInfo:&nbsp;An</span> <span class="U2">&nbsp;object&nbsp;co</span> <span class="U2">ntaining&nbsp;i</span> <span class="U2">nfo&nbsp;for&nbsp;tr</span> <span class="U2">acking&nbsp;the</span> <span class="U2">&nbsp;flow&nbsp;of&nbsp;a</span> <span class="U2">&nbsp;job&nbsp;throu</span> <span class="U2">gh</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">419</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;th</span> <span class="U2">e&nbsp;system&nbsp;v</span> <span class="U2">ia&nbsp;the&nbsp;log</span> <span class="U2">&nbsp;files,&nbsp;e.</span> <span class="U2">g.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">420</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;&nbsp;&nbsp;&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">421</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;sessionId</span> <span class="U2">:&nbsp;'c45e45b</span> <span class="U2">f-55ab-453</span> <span class="U2">e-bd5e-7e9</span> <span class="U2">f66c58d03'</span> <span class="U2">,</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">422</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;utilityTy</span> <span class="U2">pe:&nbsp;'recor</span> <span class="U2">d-update-e</span> <span class="U2">nrichment'</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">423</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;&nbsp;&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">424</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">425</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//&nbsp;callbac</span> <span class="U2">k:&nbsp;The&nbsp;cal</span> <span class="U2">lback&nbsp;hand</span> <span class="U2">ler.</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">426</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">//--------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">----------</span> <span class="U2">---</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">427</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">ReEnrichUt</span> <span class="U2">il.prototy</span> <span class="U2">pe.runUtil</span> <span class="U2">ity&nbsp;=&nbsp;func</span> <span class="U2">tion(pids,</span> <span class="U2">&nbsp;updateTim</span> <span class="U2">e,&nbsp;domains</span> <span class="U2">,&nbsp;referenc</span> <span class="U2">eInfo,&nbsp;cal</span> <span class="U2">lback)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">428</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;se</span> <span class="U2">lf&nbsp;=&nbsp;this;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">429</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;er</span> <span class="U2">rorMessage</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">430</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">431</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;self.r</span> <span class="U2">etrievePat</span> <span class="U2">ientList(p</span> <span class="U2">ids,&nbsp;funct</span> <span class="U2">ion(error,</span> <span class="U2">&nbsp;pidList)&nbsp;</span> <span class="U2">{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">432</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if</span> <span class="U2">&nbsp;(error)&nbsp;{</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">433</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;errorMes</span> <span class="U2">sage&nbsp;=&nbsp;for</span> <span class="U2">mat('recor</span> <span class="U2">d-re-enric</span> <span class="U2">hment-util</span> <span class="U2">:&nbsp;Exiting&nbsp;</span> <span class="U2">due&nbsp;to&nbsp;err</span> <span class="U2">or&nbsp;returne</span> <span class="U2">d&nbsp;by&nbsp;retri</span> <span class="U2">evePatient</span> <span class="U2">List:&nbsp;%s',</span> <span class="U2">&nbsp;error);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">434</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;return&nbsp;c</span> <span class="U2">allback(er</span> <span class="U2">rorMessage</span> <span class="U2">);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">435</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">436</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">437</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;se</span> <span class="U2">lf.retriev</span> <span class="U2">ePatientSy</span> <span class="U2">ncDomains(</span> <span class="U2">updateTime</span> <span class="U2">,&nbsp;domains,</span> <span class="U2">&nbsp;pidList,&nbsp;</span> <span class="U2">function(e</span> <span class="U2">rror,&nbsp;pids</span> <span class="U2">ToResyncDo</span> <span class="U2">mains)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">438</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;if&nbsp;(erro</span> <span class="U2">r)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">439</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;erro</span> <span class="U2">rMessage&nbsp;=</span> <span class="U2">&nbsp;format('r</span> <span class="U2">ecord-re-e</span> <span class="U2">nrichment-</span> <span class="U2">util:&nbsp;Exit</span> <span class="U2">ing&nbsp;due&nbsp;to</span> <span class="U2">&nbsp;error&nbsp;ret</span> <span class="U2">urned&nbsp;by&nbsp;r</span> <span class="U2">etrievePat</span> <span class="U2">ientSyncSt</span> <span class="U2">atuses:&nbsp;%s</span> <span class="U2">',&nbsp;error);</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">440</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;retu</span> <span class="U2">rn&nbsp;callbac</span> <span class="U2">k(errorMes</span> <span class="U2">sage);</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">441</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">442</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">443</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;self.get</span> <span class="U2">RecordsAnd</span> <span class="U2">CreateJobs</span> <span class="U2">(pidsToRes</span> <span class="U2">yncDomains</span> <span class="U2">,&nbsp;updateTi</span> <span class="U2">me,&nbsp;refere</span> <span class="U2">nceInfo,&nbsp;f</span> <span class="U2">unction(er</span> <span class="U2">ror)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">444</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span> <span class="U2">error)&nbsp;{</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">445</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">errorMessa</span> <span class="U2">ge&nbsp;=&nbsp;forma</span> <span class="U2">t('record-</span> <span class="U2">re-enrichm</span> <span class="U2">ent-util:&nbsp;</span> <span class="U2">Exiting&nbsp;du</span> <span class="U2">e&nbsp;to&nbsp;error</span> <span class="U2">&nbsp;returned&nbsp;</span> <span class="U2">by&nbsp;getReco</span> <span class="U2">rdsAndCrea</span> <span class="U2">teJobs:&nbsp;%s</span> <span class="U2">',&nbsp;error);</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">446</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">return&nbsp;cal</span> <span class="U2">lback(erro</span> <span class="U2">rMessage);</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">447</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">448</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">449</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call</span> <span class="U2">back();</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">450</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;});</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">451</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})</span> <span class="U2">;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">452</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;});</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">453</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">};</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">454</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">455</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">module.exp</span> <span class="U2">orts&nbsp;=&nbsp;ReE</span> <span class="U2">nrichUtil;</span> <span class="U2"></span> </td> 
    </tr> 
   </tbody>
  </table> 
  <p class="copyright" style="margin-top: 25px; padding-top: 2px; border-top: solid #a0a0a0 1px; max-width: none;">Araxis Merge (but not the data content of this report) is Copyright Â© 1993-2016 Araxis Ltd (<a href="http://www.araxis.com/" title="Link to the Araxis corporate web site">www.araxis.com</a>). All rights reserved.</p>   
 </body>
</html>