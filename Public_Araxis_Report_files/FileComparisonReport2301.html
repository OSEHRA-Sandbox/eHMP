<!--?xml version="1.0"?--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:mg="http://www.araxis.com/2002/Merge/Reporting" xmlns="http://www.w3.org/1999/xhtml">
 <head> 
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> 
  <!--The layout and design of this report is Copyright Â© 2003-2016 Araxis Ltd. All rights reserved.--> 
  <!--The copyright of the data content of this report belongs to the relevant copyright holders.--> 
  <title>2301. EPMO Open Source Coordination Office Redaction File Detail Report</title> 
  <style type="text/css">
body { background: #fff;  color: #000; margin: 0px 14px 14px 14px; }
h1, h2, h3, h4, h5 {
  padding: 0em;
  margin: 1.5em 0em .25em 0em;
  text-align: left;
  font-weight: normal;
  font-family: Arial, Helvetica, sans-serif;
  font-size: 70%;
  max-width: 55em;
}
body, h4, h5, p, ol, ul, li, td, th { font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left; }

h4, h5, p, ol, ul, li { font-size: 70%; }
input {
  font-family: Arial, Helvetica, sans-serif;
  font-size: 120%;
}

h1 { margin: 14px 0em 1.2em 0em; font-size: 112%; line-height: 130%;}
h2 { font-size: 125%; line-height: 84%;}
h3 { margin-top: 1.4em; font-size: 81%; }
h4 { margin-top: 1em; font-size: 70%; }
h5 { margin-top: 1em; font-size: 100%; font-style: italic;}
h1 strong, h2 strong, h3 strong, h4 strong { font-weight: bold; }

p { margin: 6px 0em 6px 0em; max-width: 55em;}
p.code, code {}
p { font-size: 70%; line-height: 125%; }
table { font-size: 70%;}

p.copyright, .small { font-size: 60%; line-height: 120%; }
p.copyright { margin: 3px 0px 0px 0px; padding: 0px; text-align: left; }
acronym { font-variant: small-caps; }
div.pad { padding: 3px; }
span.lineEndings { color: red; font-size: 70%; }

table.mgRowGroup, table.mgRowGroupFolder { border: 1px solid #a0a0a0; margin: 10px 0px 10px 0px; width: 100%; table-layout: fixed; border-collapse: collapse; }
table.mgRowGroup td { vertical-align: top; padding: 0; }
table.mgRowGroupFolder td { vertical-align: top; padding: 1px 0 1px 0; }
div.IP { width: 2px; height: 1em; float: left; }

img.mgFldrIcon {float: left; text-align: left; margin: -1px 2px 0px 0px;  height: 16px; width: 16px; border: none; vertical-align: top; background-color: transparent;}
div.mgFldrIcon {float: left; width: auto;}
span.left {float: left;width: auto;}
span.right {float: right;width: auto;}

table.bordered { border-collapse: collapse; border: 1px solid #a0a0a0; margin: 10px 0px 10px 0px;}
table.bordered th, table.bordered td { vertical-align: top; padding: 3px; border: 1px solid #a0a0a0;}
table.bordered th { background-color: #e5e5e5; }
table.bordered td.group { background-color: #f5f5f5; }
span.disabledNavigation { color: #a0a0a0; }
div.navigation { margin-top: 14px; font-size: 70%; }
div.comment { font-weight: normal; color: #000; font-family: Verdana, Arial, Helvetica, sans-serif; background-color: #fcfed8; padding: 2px 5px 2px 5px; border: 1px solid #E3E5C3; margin: 1px 2px 3px 2px; -moz-border-radius: 7px; border-radius: 7px; }

                span.U1, span.U1 a {float: left; width: auto;color: #000000; background-color: #FFFFFF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.U1 a {text-decoration: underline;}
td.U1 {color: #000000; background-color: #FFFFFF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.R1, span.R1 a {float: left; width: auto;color: #800000; background-color: #F3E6D8; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.R1 a {text-decoration: underline;}
td.R1 {color: #800000; background-color: #F3E6D8; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.I1, span.I1 a {float: left; width: auto;color: #800000; background-color: #D1E8CF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.I1 a {text-decoration: underline;}
td.I1 {color: #800000; background-color: #D1E8CF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.C1, span.C1 a {float: left; width: auto;color: #800000; background-color: #DACDE6; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.C1 a {text-decoration: underline;}
td.C1 {color: #800000; background-color: #DACDE6; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
td.nbgC1 {color: #800000; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; background-color: #FFFFFF; }
span.U2, span.U2 a {float: left; width: auto;color: #000000; background-color: #FFFFFF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.U2 a {text-decoration: underline;}
td.U2 {color: #000000; background-color: #FFFFFF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.R2, span.R2 a {float: left; width: auto;color: #800000; background-color: #F3E6D8; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.R2 a {text-decoration: underline;}
td.R2 {color: #800000; background-color: #F3E6D8; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.I2, span.I2 a {float: left; width: auto;color: #800000; background-color: #D1E8CF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.I2 a {text-decoration: underline;}
td.I2 {color: #800000; background-color: #D1E8CF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.C2, span.C2 a {float: left; width: auto;color: #800000; background-color: #DACDE6; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.C2 a {text-decoration: underline;}
td.C2 {color: #800000; background-color: #DACDE6; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
td.nbgC2 {color: #800000; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; background-color: #FFFFFF; }

span.selected {background-color: #3d80df; color: #fff;}
span.selected a {background-color: #3d80df; color: #fff; text-decoration: underline;}
span.symbol {cursor: pointer;}
      </style> 
 </head> 
 <body> 
  <h1><strong>2301. EPMO Open Source Coordination Office Redaction File Detail Report</strong></h1> 
  <p>Produced by <strong>Araxis Merge</strong> on <strong>10/13/2017 11:30:55 AM Central Daylight Time</strong>. See <a href="http://www.araxis.com/" title="Link to the Araxis corporate web site">www.araxis.com</a> for information about Merge. This report uses XHTML and CSS2, and is best viewed with a modern standards-compliant browser. For optimum results when printing this report, use landscape orientation and enable printing of background images and colours in your browser.</p> 
  <h3><strong>2301.1&nbsp;Files compared</strong></h3> 
  <table class="bordered"> 
   <tbody>
    <tr> 
     <th>#</th> 
     <th>Location</th> 
     <th>File</th> 
     <th>Last Modified</th> 
    </tr> 
    <tr> 
     <td>1</td> 
     <td>ehmp.zip\rdk\rdk\product\tests\acceptance-tests\features\steps</td> 
     <td>activities_steps.rb</td> 
     <td>Wed Sep 6 17:14:38 2017 UTC</td> 
    </tr> 
    <tr> 
     <td>2</td> 
     <td>ehmp.zip\rdk\rdk\product\tests\acceptance-tests\features\steps</td> 
     <td>activities_steps.rb</td> 
     <td>Tue Oct 10 18:47:33 2017 UTC</td> 
    </tr> 
   </tbody>
  </table> 
  <h3><strong>2301.2&nbsp;Comparison summary</strong></h3> 
  <table class="bordered"> 
   <tbody>
    <tr> 
     <th rowspan="2" style="vertical-align: bottom;">Description</th> 
     <th colspan="2">Between<br>Files 1 and 2</th> 
    </tr> 
    <tr> 
     <th style="text-align: right;">Text Blocks</th> 
     <th style="text-align: right;">Lines</th> 
    </tr> 
    <tr> 
     <td>Unchanged</td> 
     <td style="text-align: right;">11</td> 
     <td style="text-align: right;">646</td> 
    </tr> 
    <tr> 
     <td>Changed</td> 
     <td style="text-align: right;">10</td> 
     <td style="text-align: right;">24</td> 
    </tr> 
    <tr> 
     <td>Inserted</td> 
     <td style="text-align: right;">0</td> 
     <td style="text-align: right;">0</td> 
    </tr> 
    <tr> 
     <td>Removed</td> 
     <td style="text-align: right;">0</td> 
     <td style="text-align: right;">0</td> 
    </tr> 
   </tbody>
  </table> 
  <h3><strong>2301.3&nbsp;Comparison options</strong></h3> 
  <table class="bordered" style="width: 55em;"> 
   <tbody>
    <tr> 
     <th>Whitespace</th> 
     <td></td> 
    </tr> 
    <tr> 
     <th>Character case</th> 
     <td>Differences in character case are significant</td> 
    </tr> 
    <tr> 
     <th>Line endings</th> 
     <td>Differences in line endings (<code>CR</code> and <code>LF</code> characters) are ignored</td> 
    </tr> 
    <tr> 
     <th>CR/LF characters</th> 
     <td>Not shown in the comparison detail</td> 
    </tr> 
   </tbody>
  </table> 
  <h3><strong>2301.4&nbsp;Active regular expressions</strong></h3> 
  <p>No regular expressions were active.</p> 
  <h3><strong>2301.5&nbsp;Comparison detail</strong></h3> 
  <table class="mgRowGroup"> 
   <colgroup>
    <col style="width: 5em;"> 
    <col style="width: 1em;"> 
    <col width="*"> 
    <col style="width: 1em;"> 
    <col style="width: 5em;"> 
    <col style="width: 1em;"> 
    <col width="*"> 
   </colgroup>
   <tbody>
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">1</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">require&nbsp;'s</span> <span class="U2">et'</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">2</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^the</span> <span class="U2">&nbsp;client&nbsp;re</span> <span class="U2">quests&nbsp;act</span> <span class="U2">ivities&nbsp;in</span> <span class="U2">stances&nbsp;fo</span> <span class="U2">r&nbsp;pid&nbsp;"([^</span> <span class="U2">"]*)"$/)&nbsp;d</span> <span class="U2">o&nbsp;|pid|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">3</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('acti</span> <span class="U2">vities-ins</span> <span class="U2">tances-ava</span> <span class="U2">ilable')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">4</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('conte</span> <span class="U2">xt',&nbsp;'pati</span> <span class="U2">ent')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">5</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('pid',</span> <span class="U2">&nbsp;pid)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">6</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">7</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;path</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">8</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;HTTPar</span> <span class="U2">tyRDK.get(</span> <span class="U2">path)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">9</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">10</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">11</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^the</span> <span class="U2">&nbsp;client&nbsp;re</span> <span class="U2">quests&nbsp;act</span> <span class="U2">ivities&nbsp;av</span> <span class="U2">ailable$/)</span> <span class="U2">&nbsp;do</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">12</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('acti</span> <span class="U2">vities-ava</span> <span class="U2">ilable')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">13</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">14</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;path</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">15</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;HTTPar</span> <span class="U2">tyRDK.get(</span> <span class="U2">path)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">16</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">17</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">18</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Given(/^th</span> <span class="U2">e&nbsp;client&nbsp;h</span> <span class="U2">as&nbsp;the&nbsp;cur</span> <span class="U2">rent&nbsp;deplo</span> <span class="U2">ymentid$/)</span> <span class="U2">&nbsp;do</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">19</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;step&nbsp;'th</span> <span class="U2">e&nbsp;client&nbsp;r</span> <span class="U2">equests&nbsp;ac</span> <span class="U2">tivities&nbsp;a</span> <span class="U2">vailable'</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">20</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;step&nbsp;'a&nbsp;</span> <span class="U2">successful</span> <span class="U2">&nbsp;response&nbsp;</span> <span class="U2">is&nbsp;returne</span> <span class="U2">d'</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">21</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;step&nbsp;'cl</span> <span class="U2">ient&nbsp;grabs</span> <span class="U2">&nbsp;the&nbsp;deplo</span> <span class="U2">ymentId'</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">22</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">23</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">24</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^cli</span> <span class="U2">ent&nbsp;grabs&nbsp;</span> <span class="U2">the&nbsp;deploy</span> <span class="U2">mentId$/)&nbsp;</span> <span class="U2">do</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">25</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;json_obj</span> <span class="U2">ect&nbsp;=&nbsp;JSON</span> <span class="U2">.parse(@re</span> <span class="U2">sponse.bod</span> <span class="U2">y)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">26</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;item_arr</span> <span class="U2">ay&nbsp;=&nbsp;json_</span> <span class="U2">object['da</span> <span class="U2">ta']['item</span> <span class="U2">s']</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">27</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;all_ids&nbsp;</span> <span class="U2">=&nbsp;[]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">28</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;item_arr</span> <span class="U2">ay.each&nbsp;do</span> <span class="U2">&nbsp;|&nbsp;item_ob</span> <span class="U2">ject&nbsp;|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">29</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;ite</span> <span class="U2">m_object['</span> <span class="U2">id']&nbsp;==&nbsp;'O</span> <span class="U2">rder.Reque</span> <span class="U2">st'</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">30</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all_</span> <span class="U2">ids.push(i</span> <span class="U2">tem_object</span> <span class="U2">['deployme</span> <span class="U2">ntId'])</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">31</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">32</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">33</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@deploym</span> <span class="U2">ent_id&nbsp;=&nbsp;a</span> <span class="U2">ll_ids.las</span> <span class="U2">t</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">34</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(@</span> <span class="U2">deployment</span> <span class="U2">_id).to_no</span> <span class="U2">t&nbsp;be_nil,&nbsp;</span> <span class="U2">"Could&nbsp;not</span> <span class="U2">&nbsp;find&nbsp;a&nbsp;va</span> <span class="U2">lid&nbsp;deploy</span> <span class="U2">mentId.&nbsp;&nbsp;T</span> <span class="U2">est&nbsp;is&nbsp;loo</span> <span class="U2">king&nbsp;for&nbsp;t</span> <span class="U2">he&nbsp;deploym</span> <span class="U2">entId&nbsp;of&nbsp;O</span> <span class="U2">rder.Reque</span> <span class="U2">st"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">35</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">36</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">37</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^the</span> <span class="U2">&nbsp;client&nbsp;re</span> <span class="U2">quests&nbsp;a&nbsp;s</span> <span class="U2">ingle&nbsp;inst</span> <span class="U2">ance&nbsp;activ</span> <span class="U2">ity&nbsp;for&nbsp;pi</span> <span class="U2">d&nbsp;"([^"]*)</span> <span class="U2">"$/)&nbsp;do&nbsp;|a</span> <span class="U2">rg1|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">38</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('acti</span> <span class="U2">vities-sin</span> <span class="U2">gle-instan</span> <span class="U2">ce')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">39</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('id',&nbsp;</span> <span class="U2">@processin</span> <span class="U2">stanceid)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">40</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">41</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;path</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">42</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;HTTPar</span> <span class="U2">tyRDK.get(</span> <span class="U2">path)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">43</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">44</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">45</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">def&nbsp;start_</span> <span class="U2">activity_p</span> <span class="U2">ayload(pid</span> <span class="U2">)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">46</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;pid_arra</span> <span class="U2">y&nbsp;=&nbsp;pid.sp</span> <span class="U2">lit(';')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">47</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;facility</span> <span class="U2">&nbsp;=&nbsp;pid_arr</span> <span class="U2">ay[0]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">48</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;patient_</span> <span class="U2">id&nbsp;=&nbsp;pid_a</span> <span class="U2">rray[1]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">49</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">50</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;"#{fac</span> <span class="U2">ility}&nbsp;&nbsp;#{</span> <span class="U2">patient_id</span> <span class="U2">}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">51</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;tomorrow</span> <span class="U2">&nbsp;=&nbsp;Date.to</span> <span class="U2">day.next_d</span> <span class="U2">ay.strftim</span> <span class="U2">e("%Y%m%d0</span> <span class="U2">00000")</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">52</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;nextmont</span> <span class="U2">h&nbsp;=&nbsp;Date.t</span> <span class="U2">oday.next_</span> <span class="U2">month.strf</span> <span class="U2">time("%Y%m</span> <span class="U2">%d000000")</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">53</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;timestam</span> <span class="U2">p&nbsp;=&nbsp;Time.n</span> <span class="U2">ow.strftim</span> <span class="U2">e&nbsp;"%Y-%m-%</span> <span class="U2">dT%H:%M:%S</span> <span class="U2">.%LZ"&nbsp;#&nbsp;20</span> <span class="U2">16-08-04T1</span> <span class="U2">8:58:58.62</span> <span class="U2">4Z</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">54</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;timeonly</span> <span class="U2">&nbsp;=&nbsp;Time.no</span> <span class="U2">w.strftime</span> <span class="U2">&nbsp;"%H:%M:%S</span> <span class="U2">"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">55</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;title&nbsp;=&nbsp;</span> <span class="U2">"TestAddRe</span> <span class="U2">quest&nbsp;#{Da</span> <span class="U2">te.today}&nbsp;</span> <span class="U2">#{timeonly</span> <span class="U2">}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">56</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;user_id&nbsp;</span> <span class="U2">=&nbsp;'1000000</span> <span class="U2">0270'</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">57</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;title</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">58</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">59</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@activit</span> <span class="U2">y_title&nbsp;=&nbsp;</span> <span class="U2">title</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">60</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@activit</span> <span class="U2">y_user_id&nbsp;</span> <span class="U2">=&nbsp;user_id</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">61</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">62</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;#&nbsp;TODO:&nbsp;</span> <span class="U2">HOW&nbsp;TO&nbsp;HAN</span> <span class="U2">DLE&nbsp;THE&nbsp;VI</span> <span class="U2">SIT&nbsp;HARD&nbsp;C</span> <span class="U2">ODED</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">63</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">#{"deploym</span> <span class="U2">entId"=&gt;"V</span> <span class="U2">istaCore:O</span> <span class="U2">rder",&nbsp;"pr</span> <span class="U2">ocessDefId</span> <span class="U2">"=&gt;"Order.</span> <span class="U2">Request",&nbsp;</span> <span class="U2">"parameter</span> <span class="U2">"=&gt;{"reque</span> <span class="U2">stActivity</span> <span class="U2">"=&gt;{"objec</span> <span class="U2">tType"=&gt;"r</span> <span class="U2">equestActi</span> <span class="U2">vity",&nbsp;"pa</span> <span class="U2">tientUid"=</span> <span class="U2">&gt;"urn:va:p</span> <span class="U2">atient:</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">:3:3",&nbsp;"au</span> <span class="U2">thorUid"=&gt;</span> <span class="U2">"urn:va:us</span> <span class="U2">er:</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">:100000000</span> <span class="U2">16",&nbsp;"crea</span> <span class="U2">tionDateTi</span> <span class="U2">me"=&gt;"2016</span> <span class="U2">0815000000</span> <span class="U2">",&nbsp;"domain</span> <span class="U2">"=&gt;"ehmp-a</span> <span class="U2">ctivity",&nbsp;</span> <span class="U2">"subDomain</span> <span class="U2">"=&gt;"reques</span> <span class="U2">t",&nbsp;"visit</span> <span class="U2">"=&gt;{"locat</span> <span class="U2">ion"=&gt;"urn</span> <span class="U2">:va:locati</span> <span class="U2">on:</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">:195",&nbsp;"se</span> <span class="U2">rviceCateg</span> <span class="U2">ory"=&gt;"I",</span> <span class="U2">&nbsp;"dateTime</span> <span class="U2">"=&gt;"201608</span> <span class="U2">12134500",</span> <span class="U2">&nbsp;"location</span> <span class="U2">Desc"=&gt;"Ca</span> <span class="U2">rdiology"}</span> <span class="U2">,&nbsp;"ehmpSta</span> <span class="U2">te"=&gt;"acce</span> <span class="U2">pted",&nbsp;"di</span> <span class="U2">splayName"</span> <span class="U2">=&gt;"Test&nbsp;",</span> <span class="U2">&nbsp;"referenc</span> <span class="U2">eId"=&gt;"",&nbsp;</span> <span class="U2">"instanceN</span> <span class="U2">ame"=&gt;"Tes</span> <span class="U2">t",&nbsp;"data"</span> <span class="U2">=&gt;{"activi</span> <span class="U2">ty"=&gt;{"obj</span> <span class="U2">ectType"=&gt;</span> <span class="U2">"activity"</span> <span class="U2">,&nbsp;"deploym</span> <span class="U2">entId"=&gt;"V</span> <span class="U2">istaCore:"</span> <span class="U2">,&nbsp;"process</span> <span class="U2">Definition</span> <span class="U2">Id"=&gt;"Orde</span> <span class="U2">r.Request"</span> <span class="U2">,&nbsp;"process</span> <span class="U2">InstanceId</span> <span class="U2">"=&gt;"",&nbsp;"st</span> <span class="U2">ate"=&gt;"acc</span> <span class="U2">epted",&nbsp;"i</span> <span class="U2">nitiator"=</span> <span class="U2">&gt;"10000000</span> <span class="U2">016",&nbsp;"ass</span> <span class="U2">ignTo"=&gt;"P</span> <span class="U2">erson",&nbsp;"t</span> <span class="U2">imeStamp"=</span> <span class="U2">&gt;"",&nbsp;"urge</span> <span class="U2">ncy"=&gt;"9",</span> <span class="U2">&nbsp;"assigned</span> <span class="U2">To"=&gt;"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;100000002</span> <span class="U2">70",&nbsp;"inst</span> <span class="U2">anceName"=</span> <span class="U2">&gt;"TestAddR</span> <span class="U2">equ",&nbsp;"dom</span> <span class="U2">ain"=&gt;"Req</span> <span class="U2">uest",&nbsp;"so</span> <span class="U2">urceFacili</span> <span class="U2">tyId"=&gt;"50</span> <span class="U2">0",&nbsp;"desti</span> <span class="U2">nationFaci</span> <span class="U2">lityId"=&gt;"</span> <span class="U2">500",&nbsp;"typ</span> <span class="U2">e"=&gt;"Order</span> <span class="U2">"},&nbsp;"signa</span> <span class="U2">ls"=&gt;[],&nbsp;"</span> <span class="U2">requests"=</span> <span class="U2">&gt;{"objectT</span> <span class="U2">ype"=&gt;"req</span> <span class="U2">uest",&nbsp;"ta</span> <span class="U2">skinstance</span> <span class="U2">Id"=&gt;"",&nbsp;"</span> <span class="U2">urgency"=&gt;</span> <span class="U2">"routine",</span> <span class="U2">&nbsp;"earliest</span> <span class="U2">Date"=&gt;"20</span> <span class="U2">1608160000</span> <span class="U2">00",&nbsp;"late</span> <span class="U2">stDate"=&gt;"</span> <span class="U2">2016091500</span> <span class="U2">0000",&nbsp;"ti</span> <span class="U2">tle"=&gt;"Tes</span> <span class="U2">tAddReques</span> <span class="U2">t&nbsp;2016-08-</span> <span class="U2">15&nbsp;13:17:2</span> <span class="U2">5",&nbsp;"assig</span> <span class="U2">nTo"=&gt;"Per</span> <span class="U2">son",&nbsp;"req</span> <span class="U2">uest"=&gt;"Te</span> <span class="U2">stAddReque</span> <span class="U2">st&nbsp;2016-08</span> <span class="U2">-15&nbsp;13:17:</span> <span class="U2">25",&nbsp;"subm</span> <span class="U2">ittedByUid</span> <span class="U2">"=&gt;"urn:va</span> <span class="U2">:user:</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">:100000000</span> <span class="U2">16",&nbsp;"subm</span> <span class="U2">ittedByNam</span> <span class="U2">e"=&gt;"TDNUR</span> <span class="U2">SE,ONE",&nbsp;"</span> <span class="U2">submittedT</span> <span class="U2">imeStamp"=</span> <span class="U2">&gt;"2016-08-</span> <span class="U2">15T13:17:2</span> <span class="U2">5.475Z",&nbsp;"</span> <span class="U2">visit"=&gt;{"</span> <span class="U2">location"=</span> <span class="U2">&gt;"urn:va:l</span> <span class="U2">ocation:</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">:195",&nbsp;"se</span> <span class="U2">rviceCateg</span> <span class="U2">ory"=&gt;"I",</span> <span class="U2">&nbsp;"dateTime</span> <span class="U2">"=&gt;"201608</span> <span class="U2">12134500",</span> <span class="U2">&nbsp;"location</span> <span class="U2">Desc"=&gt;"Ca</span> <span class="U2">rdiology"}</span> <span class="U2">,&nbsp;"route"=</span> <span class="U2">&gt;{"facilit</span> <span class="U2">y"=&gt;"500",</span> <span class="U2">&nbsp;"facility</span> <span class="U2">Name"=&gt;"",</span> <span class="U2">&nbsp;"person"=</span> <span class="U2">&gt;"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;100000002</span> <span class="U2">70",&nbsp;"pers</span> <span class="U2">onName"=&gt;"</span> <span class="U2">USER,&nbsp;PANO</span> <span class="U2">RAMA"}},&nbsp;"</span> <span class="U2">responses"</span> <span class="U2">=&gt;[]}},&nbsp;"i</span> <span class="U2">cn"=&gt;"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;3",&nbsp;"pid"</span> <span class="U2">=&gt;"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;3",&nbsp;"inst</span> <span class="U2">anceName"=</span> <span class="U2">&gt;"TestAddR</span> <span class="U2">equest&nbsp;201</span> <span class="U2">6-08-15&nbsp;13</span> <span class="U2">:17:25",&nbsp;"</span> <span class="U2">formAction</span> <span class="U2">"=&gt;"accept</span> <span class="U2">ed",&nbsp;"urge</span> <span class="U2">ncy"=&gt;"9",</span> <span class="U2">&nbsp;"subDomai</span> <span class="U2">n"=&gt;"Reque</span> <span class="U2">st",&nbsp;"assi</span> <span class="U2">gnedTo"=&gt;"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;100000002</span> <span class="U2">70",&nbsp;"type</span> <span class="U2">"=&gt;"Order"</span> <span class="U2">,&nbsp;"facilit</span> <span class="U2">y"=&gt;"500",</span> <span class="U2">&nbsp;"destinat</span> <span class="U2">ionFacilit</span> <span class="U2">y"=&gt;"500",</span> <span class="U2">&nbsp;"descript</span> <span class="U2">ion"=&gt;"Tes</span> <span class="U2">tDesc&nbsp;2016</span> <span class="U2">-08-15&nbsp;13:</span> <span class="U2">17:25"}}</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">64</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">#{"deploym</span> <span class="U2">entId":"Vi</span> <span class="U2">staCore:Or</span> <span class="U2">der:",&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">"processDe</span> <span class="U2">fId":"Orde</span> <span class="U2">r.Request"</span> <span class="U2">,"paramete</span> <span class="U2">r":{"reque</span> <span class="U2">stActivity</span> <span class="U2">":{"object</span> <span class="U2">Type":"req</span> <span class="U2">uestActivi</span> <span class="U2">ty","patie</span> <span class="U2">ntUid":"ur</span> <span class="U2">n:va:patie</span> <span class="U2">nt:</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">:3:3","aut</span> <span class="U2">horUid":"u</span> <span class="U2">rn:va:user</span> <span class="U2">:</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">:100000000</span> <span class="U2">16",&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">"creationD</span> <span class="U2">ateTime":"</span> <span class="U2">2016081600</span> <span class="U2">0000","dom</span> <span class="U2">ain":"ehmp</span> <span class="U2">-activity"</span> <span class="U2">,"subDomai</span> <span class="U2">n":"reques</span> <span class="U2">t","visit"</span> <span class="U2">:{"locatio</span> <span class="U2">n":"urn:va</span> <span class="U2">:location:</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">:195","ser</span> <span class="U2">viceCatego</span> <span class="U2">ry":"I","d</span> <span class="U2">ateTime":"</span> <span class="U2">2016081213</span> <span class="U2">4500","loc</span> <span class="U2">ationDesc"</span> <span class="U2">:"Cardiolo</span> <span class="U2">gy"},"ehmp</span> <span class="U2">State":"ac</span> <span class="U2">cepted","d</span> <span class="U2">isplayName</span> <span class="U2">":"Test","</span> <span class="U2">referenceI</span> <span class="U2">d":"","ins</span> <span class="U2">tanceName"</span> <span class="U2">:"TestAddR</span> <span class="U2">e","data":</span> <span class="U2">{"activity</span> <span class="U2">":{"object</span> <span class="U2">Type":"act</span> <span class="U2">ivity","de</span> <span class="U2">ploymentId</span> <span class="U2">":"VistaCo</span> <span class="U2">re:Order",</span> <span class="U2">"processDe</span> <span class="U2">finitionId</span> <span class="U2">":"Order.R</span> <span class="U2">equest","p</span> <span class="U2">rocessInst</span> <span class="U2">anceId":""</span> <span class="U2">,"state":"</span> <span class="U2">accepted",</span> <span class="U2">"initiator</span> <span class="U2">":"1000000</span> <span class="U2">0016","tim</span> <span class="U2">eStamp":""</span> <span class="U2">,"urgency"</span> <span class="U2">:"9","assi</span> <span class="U2">gnedTo":"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;100000002</span> <span class="U2">70","insta</span> <span class="U2">nceName":"</span> <span class="U2">TestAddReq</span> <span class="U2">uest&nbsp;2016-</span> <span class="U2">","domain"</span> <span class="U2">:"Request"</span> <span class="U2">,"sourceFa</span> <span class="U2">cilityId":</span> <span class="U2">"500","des</span> <span class="U2">tinationFa</span> <span class="U2">cilityId":</span> <span class="U2">"500","typ</span> <span class="U2">e":"Order"</span> <span class="U2">,"assignTo</span> <span class="U2">":"Person"</span> <span class="U2">},"signals</span> <span class="U2">":[],"requ</span> <span class="U2">ests":[{"o</span> <span class="U2">bjectType"</span> <span class="U2">:"request"</span> <span class="U2">,"taskinst</span> <span class="U2">anceId":""</span> <span class="U2">,"urgency"</span> <span class="U2">:"routine"</span> <span class="U2">,"earliest</span> <span class="U2">Date":"201</span> <span class="U2">6081700000</span> <span class="U2">0","latest</span> <span class="U2">Date":"201</span> <span class="U2">6091600000</span> <span class="U2">0","title"</span> <span class="U2">:"TestAd",</span> <span class="U2">"request":</span> <span class="U2">"TestAddRe</span> <span class="U2">quest&nbsp;2016</span> <span class="U2">-08-16&nbsp;14:</span> <span class="U2">12:14","su</span> <span class="U2">bmittedByU</span> <span class="U2">id":"urn:v</span> <span class="U2">a:user:</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">:100000000</span> <span class="U2">16","submi</span> <span class="U2">ttedByName</span> <span class="U2">":"TDNURSE</span> <span class="U2">,ONE","sub</span> <span class="U2">mittedTime</span> <span class="U2">Stamp":"20</span> <span class="U2">16-08-16T1</span> <span class="U2">4:12:14.65</span> <span class="U2">3Z","visit</span> <span class="U2">":{"locati</span> <span class="U2">on":"urn:v</span> <span class="U2">a:location</span> <span class="U2">:</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">:195","ser</span> <span class="U2">viceCatego</span> <span class="U2">ry":"I","d</span> <span class="U2">ateTime":"</span> <span class="U2">2016081213</span> <span class="U2">4500","loc</span> <span class="U2">ationDesc"</span> <span class="U2">:"Cardiolo</span> <span class="U2">gy"},"assi</span> <span class="U2">gnTo":"Per</span> <span class="U2">son","rout</span> <span class="U2">e":{"facil</span> <span class="U2">ity":"500"</span> <span class="U2">,"facility</span> <span class="U2">Name":"","</span> <span class="U2">person":"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;100000002</span> <span class="U2">70","perso</span> <span class="U2">nName":"US</span> <span class="U2">ER,&nbsp;PANORA</span> <span class="U2">MA"}}],"re</span> <span class="U2">sponses":[</span> <span class="U2">]}},"icn":</span> <span class="U2">"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;3","pid":</span> <span class="U2">"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;3","insta</span> <span class="U2">nceName":"</span> <span class="U2">TestAddReq</span> <span class="U2">uest&nbsp;2016-</span> <span class="U2">08-16&nbsp;14:1</span> <span class="U2">2:14","for</span> <span class="U2">mAction":"</span> <span class="U2">accepted",</span> <span class="U2">"urgency":</span> <span class="U2">"9","subDo</span> <span class="U2">main":"Req</span> <span class="U2">uest","ass</span> <span class="U2">ignedTo":"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;100000002</span> <span class="U2">70","type"</span> <span class="U2">:"Order","</span> <span class="U2">facility":</span> <span class="U2">"500","des</span> <span class="U2">tinationFa</span> <span class="U2">cility":"5</span> <span class="U2">00","descr</span> <span class="U2">iption":"T</span> <span class="U2">estDesc&nbsp;20</span> <span class="U2">16-08-16&nbsp;1</span> <span class="U2">4:12:14"}}</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">65</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">payload_js</span> <span class="U2">on&nbsp;=&nbsp;JSON.</span> <span class="U2">parse(%Q[{</span> <span class="U2">"deploymen</span> <span class="U2">tId":"#{@d</span> <span class="U2">eployment_</span> <span class="U2">id}","proc</span> <span class="U2">essDefId":</span> <span class="U2">"Order.Req</span> <span class="U2">uest","par</span> <span class="U2">ameter":{"</span> <span class="U2">requestAct</span> <span class="U2">ivity":{"o</span> <span class="U2">bjectType"</span> <span class="U2">:"requestA</span> <span class="U2">ctivity","</span> <span class="U2">patientUid</span> <span class="U2">":"urn:va:</span> <span class="U2">patient:#{</span> <span class="U2">facility}:</span> <span class="U2">#{patient_</span> <span class="U2">id}:#{pati</span> <span class="U2">ent_id}","</span> <span class="U2">authorUid"</span> <span class="U2">:"urn:va:u</span> <span class="U2">ser:</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">:#{user_id</span> <span class="U2">}","creati</span> <span class="U2">onDateTime</span> <span class="U2">":"#{tomor</span> <span class="U2">row}","dom</span> <span class="U2">ain":"ehmp</span> <span class="U2">-activity"</span> <span class="U2">,"subDomai</span> <span class="U2">n":"reques</span> <span class="U2">t","visit"</span> <span class="U2">:{"locatio</span> <span class="U2">n":"urn:va</span> <span class="U2">:location:</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">:158","ser</span> <span class="U2">viceCatego</span> <span class="U2">ry":"X","d</span> <span class="U2">ateTime":"</span> <span class="U2">2014081413</span> <span class="U2">0730","loc</span> <span class="U2">ationDesc"</span> <span class="U2">:"7A&nbsp;GEN&nbsp;M</span> <span class="U2">ED"},"ehmp</span> <span class="U2">State":"ac</span> <span class="U2">cepted","d</span> <span class="U2">isplayName</span> <span class="U2">":"#{title</span> <span class="U2">}","refere</span> <span class="U2">nceId":"",</span> <span class="U2">"instanceN</span> <span class="U2">ame":"#{ti</span> <span class="U2">tle}","dat</span> <span class="U2">a":{"activ</span> <span class="U2">ity":{"obj</span> <span class="U2">ectType":"</span> <span class="U2">activity",</span> <span class="U2">"deploymen</span> <span class="U2">tId":"#{@d</span> <span class="U2">eployment_</span> <span class="U2">id}","proc</span> <span class="U2">essDefinit</span> <span class="U2">ionId":"Or</span> <span class="U2">der.Reques</span> <span class="U2">t","proces</span> <span class="U2">sInstanceI</span> <span class="U2">d":"","sta</span> <span class="U2">te":"accep</span> <span class="U2">ted","init</span> <span class="U2">iator":"#{</span> <span class="U2">user_id}",</span> <span class="U2">"assignTo"</span> <span class="U2">:"Me","tim</span> <span class="U2">eStamp":""</span> <span class="U2">,"urgency"</span> <span class="U2">:9,"assign</span> <span class="U2">edTo":"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;#{user_id</span> <span class="U2">}","instan</span> <span class="U2">ceName":"#</span> <span class="U2">{title}","</span> <span class="U2">domain":"R</span> <span class="U2">equest","s</span> <span class="U2">ourceFacil</span> <span class="U2">ityId":"50</span> <span class="U2">0","type":</span> <span class="U2">"Order"},"</span> <span class="U2">signals":[</span> <span class="U2">],&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">"requests"</span> <span class="U2">:[{"object</span> <span class="U2">Type":"req</span> <span class="U2">uest","tas</span> <span class="U2">kinstanceI</span> <span class="U2">d":"","urg</span> <span class="U2">ency":"rou</span> <span class="U2">tine","ear</span> <span class="U2">liestDate"</span> <span class="U2">:"#{tomorr</span> <span class="U2">ow}","late</span> <span class="U2">stDate":"#</span> <span class="U2">{nextmonth</span> <span class="U2">}","title"</span> <span class="U2">:"#{title}</span> <span class="U2">","assignT</span> <span class="U2">o":"Me","s</span> <span class="U2">ubmittedBy</span> <span class="U2">Uid":"urn:</span> <span class="U2">va:user:</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">:#{user_id</span> <span class="U2">}","submit</span> <span class="U2">tedByName"</span> <span class="U2">:"USER,PAN</span> <span class="U2">ORAMA","su</span> <span class="U2">bmittedTim</span> <span class="U2">eStamp":"#</span> <span class="U2">{timestamp</span> <span class="U2">}","visit"</span> <span class="U2">:{"locatio</span> <span class="U2">n":"urn:va</span> <span class="U2">:location:</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">:158","ser</span> <span class="U2">viceCatego</span> <span class="U2">ry":"X","d</span> <span class="U2">ateTime":"</span> <span class="U2">2014081413</span> <span class="U2">0730","loc</span> <span class="U2">ationDesc"</span> <span class="U2">:"7A&nbsp;GEN&nbsp;M</span> <span class="U2">ED"}}],"re</span> <span class="U2">sponses":[</span> <span class="U2">]}},"icn":</span> <span class="U2">"#{pid}","</span> <span class="U2">pid":"#{pi</span> <span class="U2">d}","insta</span> <span class="U2">nceName":"</span> <span class="U2">#{title}",</span> <span class="U2">"formActio</span> <span class="U2">n":"accept</span> <span class="U2">ed","urgen</span> <span class="U2">cy":"9","s</span> <span class="U2">ubDomain":</span> <span class="U2">"Request",</span> <span class="U2">"assignedT</span> <span class="U2">o":"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;#{user_id</span> <span class="U2">}","type":</span> <span class="U2">"Order","f</span> <span class="U2">acility":"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">","descrip</span> <span class="U2">tion":"Tes</span> <span class="U2">t&nbsp;Descript</span> <span class="U2">ion."}}]).</span> <span class="U2">to_json</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">66</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">67</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">68</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^the</span> <span class="U2">&nbsp;client&nbsp;st</span> <span class="U2">arts&nbsp;an&nbsp;ac</span> <span class="U2">tivity&nbsp;on&nbsp;</span> <span class="U2">patient&nbsp;"(</span> <span class="U2">[^"]*)"$/)</span> <span class="U2">&nbsp;do&nbsp;|pid|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">69</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('acti</span> <span class="U2">vities-sta</span> <span class="U2">rt')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">70</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;headers&nbsp;</span> <span class="U2">=&nbsp;{}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">71</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;headers[</span> <span class="U2">'Content-T</span> <span class="U2">ype']&nbsp;=&nbsp;"a</span> <span class="U2">pplication</span> <span class="U2">/json"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">72</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">73</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">74</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;payload_</span> <span class="U2">json&nbsp;=&nbsp;sta</span> <span class="U2">rt_activit</span> <span class="U2">y_payload&nbsp;</span> <span class="U2">pid</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">75</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;HTTPar</span> <span class="U2">tyRDK.post</span> <span class="U2">(path,&nbsp;pay</span> <span class="U2">load_json,</span> <span class="U2">&nbsp;headers)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">76</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">77</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">78</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Given(/^th</span> <span class="U2">e&nbsp;client&nbsp;h</span> <span class="U2">as&nbsp;started</span> <span class="U2">&nbsp;an&nbsp;activi</span> <span class="U2">ty$/)&nbsp;do</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">79</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;@proce</span> <span class="U2">ssinstance</span> <span class="U2">id</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">80</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">81</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(@</span> <span class="U2">processins</span> <span class="U2">tanceid).t</span> <span class="U2">o_not&nbsp;be_n</span> <span class="U2">il</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">82</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(@</span> <span class="U2">processins</span> <span class="U2">tanceid).t</span> <span class="U2">o_not&nbsp;be_n</span> <span class="U2">il,&nbsp;"Expec</span> <span class="U2">ted&nbsp;an&nbsp;act</span> <span class="U2">ivity&nbsp;to&nbsp;h</span> <span class="U2">ave&nbsp;been&nbsp;s</span> <span class="U2">tarted&nbsp;in&nbsp;</span> <span class="U2">a&nbsp;previous</span> <span class="U2">&nbsp;test"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">83</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">84</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">85</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Given(/^th</span> <span class="U2">e&nbsp;response</span> <span class="U2">&nbsp;contains&nbsp;</span> <span class="U2">a&nbsp;process&nbsp;</span> <span class="U2">instance&nbsp;i</span> <span class="U2">d$/)&nbsp;do</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">86</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;json_obj</span> <span class="U2">ect&nbsp;=&nbsp;JSON</span> <span class="U2">.parse(@re</span> <span class="U2">sponse.bod</span> <span class="U2">y)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">87</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">88</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@process</span> <span class="U2">instanceid</span> <span class="U2">&nbsp;=&nbsp;json_ob</span> <span class="U2">ject['data</span> <span class="U2">']['proces</span> <span class="U2">sInstanceI</span> <span class="U2">d']</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">89</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(@</span> <span class="U2">processins</span> <span class="U2">tanceid).t</span> <span class="U2">o_not&nbsp;be_n</span> <span class="U2">il</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">90</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;@proce</span> <span class="U2">ssinstance</span> <span class="U2">id</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">91</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">92</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">93</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">def&nbsp;reques</span> <span class="U2">t_activiti</span> <span class="U2">es_instanc</span> <span class="U2">es_availab</span> <span class="U2">le(user,&nbsp;t</span> <span class="U2">able)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">94</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('acti</span> <span class="U2">vities-ins</span> <span class="U2">tances-ava</span> <span class="U2">ilable')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">95</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('conte</span> <span class="U2">xt',&nbsp;'staf</span> <span class="U2">f')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">96</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('mode'</span> <span class="U2">,&nbsp;'open')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">97</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|&nbsp;label,&nbsp;</span> <span class="U2">value&nbsp;|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">98</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;reques</span> <span class="U2">t.add_para</span> <span class="U2">meter(labe</span> <span class="U2">l,&nbsp;value)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">99</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">100</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">101</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;path</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">102</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;HTTPar</span> <span class="U2">tyRDK.get_</span> <span class="U2">as_user(pa</span> <span class="U2">th,&nbsp;user,&nbsp;</span> <span class="U2">&nbsp;TestClien</span> <span class="U2">ts.passwor</span> <span class="U2">d_for(user</span> <span class="U2">))</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">103</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">104</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">105</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^the</span> <span class="U2">&nbsp;client&nbsp;re</span> <span class="U2">quests&nbsp;ope</span> <span class="U2">n&nbsp;activiti</span> <span class="U2">es&nbsp;for&nbsp;the</span> <span class="U2">&nbsp;staff&nbsp;con</span> <span class="U2">text$/)&nbsp;do</span> <span class="U2">&nbsp;|table|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">106</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">request_ac</span> <span class="U2">tivities_i</span> <span class="U2">nstances_a</span> <span class="U2">vailable&nbsp;"</span> <span class="C2">PW&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">",&nbsp;table</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">107</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">108</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">109</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^the</span> <span class="U2">&nbsp;clicent&nbsp;r</span> <span class="U2">equests&nbsp;op</span> <span class="U2">en&nbsp;activit</span> <span class="U2">ies&nbsp;for&nbsp;th</span> <span class="U2">e&nbsp;patient&nbsp;</span> <span class="U2">context$/)</span> <span class="U2">&nbsp;do&nbsp;|table</span> <span class="U2">|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">110</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('acti</span> <span class="U2">vities-ins</span> <span class="U2">tances-ava</span> <span class="U2">ilable')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">111</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('conte</span> <span class="U2">xt',&nbsp;'pati</span> <span class="U2">ent')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">112</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('mode'</span> <span class="U2">,&nbsp;'open')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">113</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|&nbsp;label,&nbsp;</span> <span class="U2">value&nbsp;|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">114</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;reques</span> <span class="U2">t.add_para</span> <span class="U2">meter(labe</span> <span class="U2">l,&nbsp;value)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">115</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">116</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">117</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;path</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">118</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;HTTPar</span> <span class="U2">tyRDK.get(</span> <span class="U2">path)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">119</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">120</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">121</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^the</span> <span class="U2">&nbsp;clicent&nbsp;r</span> <span class="U2">equests&nbsp;cl</span> <span class="U2">osed&nbsp;activ</span> <span class="U2">ities&nbsp;for&nbsp;</span> <span class="U2">the&nbsp;patien</span> <span class="U2">t&nbsp;context$</span> <span class="U2">/)&nbsp;do&nbsp;|tab</span> <span class="U2">le|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">122</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end_date</span> <span class="U2">&nbsp;=&nbsp;Date.to</span> <span class="U2">day.next_m</span> <span class="U2">onth(6).st</span> <span class="U2">rftime("%Y</span> <span class="U2">%m%d1000")</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">123</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;start_da</span> <span class="U2">te&nbsp;=&nbsp;Date.</span> <span class="U2">today.prev</span> <span class="U2">_month(18)</span> <span class="U2">.strftime(</span> <span class="U2">"%Y%m%d100</span> <span class="U2">0")</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">124</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('acti</span> <span class="U2">vities-ins</span> <span class="U2">tances-ava</span> <span class="U2">ilable')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">125</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('conte</span> <span class="U2">xt',&nbsp;'pati</span> <span class="U2">ent')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">126</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('mode'</span> <span class="U2">,&nbsp;'closed'</span> <span class="U2">)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">127</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('endDa</span> <span class="U2">te',&nbsp;end_d</span> <span class="U2">ate)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">128</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('start</span> <span class="U2">Date',&nbsp;sta</span> <span class="U2">rt_date)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">129</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|&nbsp;label,&nbsp;</span> <span class="U2">value&nbsp;|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">130</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;reques</span> <span class="U2">t.add_para</span> <span class="U2">meter(labe</span> <span class="U2">l,&nbsp;value)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">131</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">132</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">133</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;path</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">134</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;HTTPar</span> <span class="U2">tyRDK.get(</span> <span class="U2">path)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">135</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">136</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">137</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^the</span> <span class="U2">&nbsp;clicent&nbsp;r</span> <span class="U2">equests&nbsp;op</span> <span class="U2">en&nbsp;and&nbsp;clo</span> <span class="U2">sed&nbsp;activi</span> <span class="U2">ties&nbsp;for&nbsp;t</span> <span class="U2">he&nbsp;patient</span> <span class="U2">&nbsp;context$/</span> <span class="U2">)&nbsp;do&nbsp;|tabl</span> <span class="U2">e|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">138</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end_date</span> <span class="U2">&nbsp;=&nbsp;Date.to</span> <span class="U2">day.next_m</span> <span class="U2">onth(6).st</span> <span class="U2">rftime("%Y</span> <span class="U2">%m%d1000")</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">139</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;start_da</span> <span class="U2">te&nbsp;=&nbsp;Date.</span> <span class="U2">today.prev</span> <span class="U2">_month(18)</span> <span class="U2">.strftime(</span> <span class="U2">"%Y%m%d100</span> <span class="U2">0")</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">140</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('acti</span> <span class="U2">vities-ins</span> <span class="U2">tances-ava</span> <span class="U2">ilable')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">141</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('conte</span> <span class="U2">xt',&nbsp;'pati</span> <span class="U2">ent')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">142</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('endDa</span> <span class="U2">te',&nbsp;end_d</span> <span class="U2">ate)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">143</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('start</span> <span class="U2">Date',&nbsp;sta</span> <span class="U2">rt_date)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">144</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|&nbsp;label,&nbsp;</span> <span class="U2">value&nbsp;|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">145</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;reques</span> <span class="U2">t.add_para</span> <span class="U2">meter(labe</span> <span class="U2">l,&nbsp;value)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">146</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">147</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">148</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;path</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">149</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;HTTPar</span> <span class="U2">tyRDK.get(</span> <span class="U2">path)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">150</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">151</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">152</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^the</span> <span class="U2">&nbsp;response&nbsp;</span> <span class="U2">contains&nbsp;a</span> <span class="U2">&nbsp;task&nbsp;for&nbsp;</span> <span class="U2">the&nbsp;new&nbsp;pr</span> <span class="U2">ocess&nbsp;inst</span> <span class="U2">ance&nbsp;id$/)</span> <span class="U2">&nbsp;do</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">153</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;source_a</span> <span class="U2">llvalues&nbsp;=</span> <span class="U2">&nbsp;all_value</span> <span class="U2">s_in_set(@</span> <span class="U2">response.b</span> <span class="U2">ody,&nbsp;'data</span> <span class="U2">.items.PRO</span> <span class="U2">CESSINSTAN</span> <span class="U2">CEID')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">154</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">155</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(s</span> <span class="U2">ource_allv</span> <span class="U2">alues).to&nbsp;</span> <span class="U2">include(@p</span> <span class="U2">rocessinst</span> <span class="U2">anceid)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">156</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">157</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">158</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^the</span> <span class="U2">&nbsp;user&nbsp;tdnu</span> <span class="U2">rse&nbsp;has&nbsp;st</span> <span class="U2">arted&nbsp;an&nbsp;a</span> <span class="U2">ctivity&nbsp;as</span> <span class="U2">signed&nbsp;to&nbsp;</span> <span class="U2">a&nbsp;person&nbsp;w</span> <span class="U2">ith&nbsp;parame</span> <span class="U2">ters$/)&nbsp;do</span> <span class="U2">&nbsp;|table|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">159</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('acti</span> <span class="U2">vities-sta</span> <span class="U2">rt')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">160</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;headers&nbsp;</span> <span class="U2">=&nbsp;{}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">161</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;headers[</span> <span class="U2">'Content-T</span> <span class="U2">ype']&nbsp;=&nbsp;"a</span> <span class="U2">pplication</span> <span class="U2">/json"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">162</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">163</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">164</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;paramete</span> <span class="U2">rs&nbsp;=&nbsp;{}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">165</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|&nbsp;paramet</span> <span class="U2">er,&nbsp;value&nbsp;</span> <span class="U2">|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">166</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;parame</span> <span class="U2">ters[param</span> <span class="U2">eter]&nbsp;=&nbsp;va</span> <span class="U2">lue</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">167</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">168</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;payload_</span> <span class="U2">json&nbsp;=&nbsp;sta</span> <span class="U2">rt_person_</span> <span class="U2">activity(p</span> <span class="U2">arameters)</span> <span class="U2">.to_json&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">169</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">@response&nbsp;</span> <span class="U2">=&nbsp;HTTParty</span> <span class="U2">RDK.post_a</span> <span class="U2">s_user(pat</span> <span class="U2">h,&nbsp;"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;</span> <span class="C2">USER&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;</span> <span class="U2">",&nbsp;"</span> <span class="C2">PW&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">",&nbsp;payload</span> <span class="U2">_json,&nbsp;hea</span> <span class="U2">ders)</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">170</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">171</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">172</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^the</span> <span class="U2">&nbsp;user&nbsp;tdnu</span> <span class="U2">rse&nbsp;has&nbsp;st</span> <span class="U2">arted&nbsp;an&nbsp;a</span> <span class="U2">ctivity&nbsp;as</span> <span class="U2">signed&nbsp;to&nbsp;</span> <span class="U2">a&nbsp;person&nbsp;i</span> <span class="U2">n&nbsp;the&nbsp;futu</span> <span class="U2">re&nbsp;with&nbsp;pa</span> <span class="U2">rameters$/</span> <span class="U2">)&nbsp;do&nbsp;|tabl</span> <span class="U2">e|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">173</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('acti</span> <span class="U2">vities-sta</span> <span class="U2">rt')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">174</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;headers&nbsp;</span> <span class="U2">=&nbsp;{}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">175</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;headers[</span> <span class="U2">'Content-T</span> <span class="U2">ype']&nbsp;=&nbsp;"a</span> <span class="U2">pplication</span> <span class="U2">/json"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">176</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">177</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">178</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;paramete</span> <span class="U2">rs&nbsp;=&nbsp;{}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">179</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|&nbsp;paramet</span> <span class="U2">er,&nbsp;value&nbsp;</span> <span class="U2">|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">180</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;parame</span> <span class="U2">ters[param</span> <span class="U2">eter]&nbsp;=&nbsp;va</span> <span class="U2">lue</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">181</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">182</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;paramete</span> <span class="U2">rs["earlie</span> <span class="U2">stDate"]&nbsp;=</span> <span class="U2">&nbsp;Date.toda</span> <span class="U2">y.next.nex</span> <span class="U2">t.strftime</span> <span class="U2">("%Y%m%d04</span> <span class="U2">0000")</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">183</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;payload_</span> <span class="U2">json&nbsp;=&nbsp;sta</span> <span class="U2">rt_person_</span> <span class="U2">activity(p</span> <span class="U2">arameters)</span> <span class="U2">.to_json</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">184</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">@response&nbsp;</span> <span class="U2">=&nbsp;HTTParty</span> <span class="U2">RDK.post_a</span> <span class="U2">s_user(pat</span> <span class="U2">h,&nbsp;"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;</span> <span class="C2">USER&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;</span> <span class="U2">",&nbsp;"</span> <span class="C2">PW&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">",&nbsp;payload</span> <span class="U2">_json,&nbsp;hea</span> <span class="U2">ders)</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">185</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">186</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">187</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Given(/^th</span> <span class="U2">e&nbsp;user&nbsp;"([</span> <span class="U2">^"]*)"&nbsp;has</span> <span class="U2">&nbsp;started&nbsp;a</span> <span class="U2">n&nbsp;activity</span> <span class="U2">&nbsp;assigned&nbsp;</span> <span class="U2">to&nbsp;a&nbsp;perso</span> <span class="U2">n&nbsp;with&nbsp;par</span> <span class="U2">ameters$/)</span> <span class="U2">&nbsp;do&nbsp;|user,</span> <span class="U2">&nbsp;table|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">188</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('acti</span> <span class="U2">vities-sta</span> <span class="U2">rt')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">189</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">190</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;paramete</span> <span class="U2">rs&nbsp;=&nbsp;{}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">191</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|&nbsp;paramet</span> <span class="U2">er,&nbsp;value&nbsp;</span> <span class="U2">|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">192</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;parame</span> <span class="U2">ters[param</span> <span class="U2">eter]&nbsp;=&nbsp;va</span> <span class="U2">lue</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">193</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">194</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;payload_</span> <span class="U2">json&nbsp;=&nbsp;sta</span> <span class="U2">rt_person_</span> <span class="U2">activity(p</span> <span class="U2">arameters)</span> <span class="U2">.to_json&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">195</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;HTTPar</span> <span class="U2">tyRDK.post</span> <span class="U2">_as_user(p</span> <span class="U2">ath,&nbsp;user,</span> <span class="U2">&nbsp;TestClien</span> <span class="U2">ts.passwor</span> <span class="U2">d_for(user</span> <span class="U2">),&nbsp;payload</span> <span class="U2">_json,&nbsp;Tas</span> <span class="U2">kHelper.he</span> <span class="U2">aders)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">196</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(@</span> <span class="U2">response.c</span> <span class="U2">ode).to&nbsp;eq</span> <span class="U2">(200),&nbsp;"re</span> <span class="U2">sponse&nbsp;cod</span> <span class="U2">e&nbsp;was&nbsp;#{@r</span> <span class="U2">esponse.co</span> <span class="U2">de}:&nbsp;respo</span> <span class="U2">nse&nbsp;body&nbsp;#</span> <span class="U2">{@response</span> <span class="U2">.body}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">197</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;json&nbsp;=&nbsp;J</span> <span class="U2">SON.parse(</span> <span class="U2">@response.</span> <span class="U2">body)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">198</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@process</span> <span class="U2">instanceid</span> <span class="U2">&nbsp;=&nbsp;json['d</span> <span class="U2">ata']['pro</span> <span class="U2">cessInstan</span> <span class="U2">ceId']</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">199</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">200</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">201</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Given(/^th</span> <span class="U2">e&nbsp;user&nbsp;tdn</span> <span class="U2">urse&nbsp;has&nbsp;s</span> <span class="U2">tarted&nbsp;an&nbsp;</span> <span class="U2">activity&nbsp;f</span> <span class="U2">or&nbsp;any&nbsp;tea</span> <span class="U2">m&nbsp;with&nbsp;par</span> <span class="U2">ameters$/)</span> <span class="U2">&nbsp;do&nbsp;|table</span> <span class="U2">|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">202</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('acti</span> <span class="U2">vities-sta</span> <span class="U2">rt')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">203</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;headers&nbsp;</span> <span class="U2">=&nbsp;{}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">204</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;headers[</span> <span class="U2">'Content-T</span> <span class="U2">ype']&nbsp;=&nbsp;"a</span> <span class="U2">pplication</span> <span class="U2">/json"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">205</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">206</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">207</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;paramete</span> <span class="U2">rs&nbsp;=&nbsp;{}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">208</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|&nbsp;paramet</span> <span class="U2">er,&nbsp;value&nbsp;</span> <span class="U2">|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">209</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;parame</span> <span class="U2">ters[param</span> <span class="U2">eter]&nbsp;=&nbsp;va</span> <span class="U2">lue</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">210</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">211</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;payload_</span> <span class="U2">json&nbsp;=&nbsp;sta</span> <span class="U2">rt_anyteam</span> <span class="U2">_activity(</span> <span class="U2">parameters</span> <span class="U2">).to_json&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">212</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">@response&nbsp;</span> <span class="U2">=&nbsp;HTTParty</span> <span class="U2">RDK.post_a</span> <span class="U2">s_user(pat</span> <span class="U2">h,&nbsp;"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;</span> <span class="C2">USER&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;</span> <span class="U2">",&nbsp;"</span> <span class="C2">PW&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">",&nbsp;payload</span> <span class="U2">_json,&nbsp;hea</span> <span class="U2">ders)</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">213</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">214</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">215</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Given(/^th</span> <span class="U2">e&nbsp;user&nbsp;tdn</span> <span class="U2">urse&nbsp;has&nbsp;s</span> <span class="U2">tarted&nbsp;an&nbsp;</span> <span class="U2">activity&nbsp;f</span> <span class="U2">or&nbsp;my&nbsp;team</span> <span class="U2">s&nbsp;with&nbsp;par</span> <span class="U2">ameters$/)</span> <span class="U2">&nbsp;do&nbsp;|table</span> <span class="U2">|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">216</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('acti</span> <span class="U2">vities-sta</span> <span class="U2">rt')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">217</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;headers&nbsp;</span> <span class="U2">=&nbsp;{}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">218</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;headers[</span> <span class="U2">'Content-T</span> <span class="U2">ype']&nbsp;=&nbsp;"a</span> <span class="U2">pplication</span> <span class="U2">/json"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">219</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">220</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">221</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;paramete</span> <span class="U2">rs&nbsp;=&nbsp;{}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">222</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|&nbsp;paramet</span> <span class="U2">er,&nbsp;value&nbsp;</span> <span class="U2">|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">223</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;parame</span> <span class="U2">ters[param</span> <span class="U2">eter]&nbsp;=&nbsp;va</span> <span class="U2">lue</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">224</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">225</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;payload_</span> <span class="U2">json&nbsp;=&nbsp;sta</span> <span class="U2">rt_myteam_</span> <span class="U2">activity(p</span> <span class="U2">arameters)</span> <span class="U2">.to_json&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">226</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">@response&nbsp;</span> <span class="U2">=&nbsp;HTTParty</span> <span class="U2">RDK.post_a</span> <span class="U2">s_user(pat</span> <span class="U2">h,&nbsp;"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;</span> <span class="C2">USER&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;</span> <span class="U2">",&nbsp;"</span> <span class="C2">PW&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">",&nbsp;payload</span> <span class="U2">_json,&nbsp;hea</span> <span class="U2">ders)</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">227</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">228</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">229</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Given(/^th</span> <span class="U2">e&nbsp;user&nbsp;tdn</span> <span class="U2">urse&nbsp;has&nbsp;s</span> <span class="U2">tarted&nbsp;an&nbsp;</span> <span class="U2">activity&nbsp;a</span> <span class="U2">ssigned&nbsp;to</span> <span class="U2">&nbsp;me&nbsp;with&nbsp;p</span> <span class="U2">arameters$</span> <span class="U2">/)&nbsp;do&nbsp;|tab</span> <span class="U2">le|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">230</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('acti</span> <span class="U2">vities-sta</span> <span class="U2">rt')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">231</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">232</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">233</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;paramete</span> <span class="U2">rs&nbsp;=&nbsp;{}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">234</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|&nbsp;paramet</span> <span class="U2">er,&nbsp;value&nbsp;</span> <span class="U2">|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">235</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;parame</span> <span class="U2">ters[param</span> <span class="U2">eter]&nbsp;=&nbsp;va</span> <span class="U2">lue</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">236</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">237</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;payload_</span> <span class="U2">json&nbsp;=&nbsp;sta</span> <span class="U2">rt_activit</span> <span class="U2">y_assigned</span> <span class="U2">tome(param</span> <span class="U2">eters).to_</span> <span class="U2">json&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">238</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">@response&nbsp;</span> <span class="U2">=&nbsp;HTTParty</span> <span class="U2">RDK.post_a</span> <span class="U2">s_user(pat</span> <span class="U2">h,&nbsp;"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;</span> <span class="C2">USER&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;</span> <span class="U2">",&nbsp;"</span> <span class="C2">PW&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">",&nbsp;payload</span> <span class="U2">_json,&nbsp;Tas</span> <span class="U2">kHelper.he</span> <span class="U2">aders)</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">239</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">240</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">241</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Given(/^th</span> <span class="U2">e&nbsp;user&nbsp;"([</span> <span class="U2">^"]*)"&nbsp;has</span> <span class="U2">&nbsp;started&nbsp;a</span> <span class="U2">&nbsp;consult&nbsp;w</span> <span class="U2">ith&nbsp;parame</span> <span class="U2">ters$/)&nbsp;do</span> <span class="U2">&nbsp;|user,&nbsp;ta</span> <span class="U2">ble|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">242</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(@</span> <span class="U2">deployment</span> <span class="U2">_id).to_no</span> <span class="U2">t&nbsp;be_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">243</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;activiti</span> <span class="U2">es_start_c</span> <span class="U2">all&nbsp;user,&nbsp;</span> <span class="U2">table</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">244</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">245</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">246</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Given(/^th</span> <span class="U2">e&nbsp;user&nbsp;"([</span> <span class="U2">^"]*)"&nbsp;has</span> <span class="U2">&nbsp;started&nbsp;a</span> <span class="U2">&nbsp;discharge</span> <span class="U2">&nbsp;with&nbsp;para</span> <span class="U2">meters$/)&nbsp;</span> <span class="U2">do&nbsp;|user,&nbsp;</span> <span class="U2">table|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">247</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(@</span> <span class="U2">deployment</span> <span class="U2">_id).to_no</span> <span class="U2">t&nbsp;be_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">248</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;discharg</span> <span class="U2">e_start_ca</span> <span class="U2">ll&nbsp;user,&nbsp;t</span> <span class="U2">able</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">249</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">250</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">251</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Given(/^th</span> <span class="U2">e&nbsp;user&nbsp;tdn</span> <span class="U2">urse&nbsp;has&nbsp;s</span> <span class="U2">tarted&nbsp;an&nbsp;</span> <span class="U2">activity&nbsp;f</span> <span class="U2">or&nbsp;Patient</span> <span class="U2">'s&nbsp;Teams&nbsp;w</span> <span class="U2">ith&nbsp;parame</span> <span class="U2">ters$/)&nbsp;do</span> <span class="U2">&nbsp;|table|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">252</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('acti</span> <span class="U2">vities-sta</span> <span class="U2">rt')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">253</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;headers&nbsp;</span> <span class="U2">=&nbsp;{}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">254</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;headers[</span> <span class="U2">'Content-T</span> <span class="U2">ype']&nbsp;=&nbsp;"a</span> <span class="U2">pplication</span> <span class="U2">/json"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">255</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">256</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">257</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;paramete</span> <span class="U2">rs&nbsp;=&nbsp;{}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">258</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|&nbsp;paramet</span> <span class="U2">er,&nbsp;value&nbsp;</span> <span class="U2">|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">259</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;parame</span> <span class="U2">ters[param</span> <span class="U2">eter]&nbsp;=&nbsp;va</span> <span class="U2">lue</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">260</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">261</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;payload_</span> <span class="U2">json&nbsp;=&nbsp;sta</span> <span class="U2">rt_patient</span> <span class="U2">team_activ</span> <span class="U2">ity(parame</span> <span class="U2">ters).to_j</span> <span class="U2">son&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">262</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">@response&nbsp;</span> <span class="U2">=&nbsp;HTTParty</span> <span class="U2">RDK.post_a</span> <span class="U2">s_user(pat</span> <span class="U2">h,&nbsp;"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;</span> <span class="C2">USER&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;</span> <span class="U2">",&nbsp;"</span> <span class="C2">PW&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">",&nbsp;payload</span> <span class="U2">_json,&nbsp;hea</span> <span class="U2">ders)</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">263</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">264</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">265</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">def&nbsp;all_va</span> <span class="U2">lues_in_se</span> <span class="U2">t(response</span> <span class="U2">_body,&nbsp;fie</span> <span class="U2">ldsource)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">266</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;json&nbsp;=&nbsp;J</span> <span class="U2">SON.parse(</span> <span class="U2">response_b</span> <span class="U2">ody)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">267</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;output_s</span> <span class="U2">tring&nbsp;=&nbsp;""</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">268</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">269</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;fieldsou</span> <span class="U2">rce&nbsp;=&nbsp;fiel</span> <span class="U2">dsource</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">270</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;steps_so</span> <span class="U2">urce&nbsp;=&nbsp;fie</span> <span class="U2">ldsource.s</span> <span class="U2">plit('.')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">271</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">272</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;source_a</span> <span class="U2">llvalues&nbsp;=</span> <span class="U2">&nbsp;[]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">273</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">274</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;json_ver</span> <span class="U2">ify&nbsp;=&nbsp;Json</span> <span class="U2">Verifier.n</span> <span class="U2">ew</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">275</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;json_ver</span> <span class="U2">ify.save_a</span> <span class="U2">ll_values_</span> <span class="U2">of_path(0,</span> <span class="U2">&nbsp;steps_sou</span> <span class="U2">rce,&nbsp;json,</span> <span class="U2">&nbsp;output_st</span> <span class="U2">ring,&nbsp;sour</span> <span class="U2">ce_allvalu</span> <span class="U2">es)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">276</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;#&nbsp;p&nbsp;"---</span> <span class="U2">-----&nbsp;#{fi</span> <span class="U2">eldsource}</span> <span class="U2">"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">277</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;#&nbsp;p&nbsp;"arr</span> <span class="U2">aylength:&nbsp;</span> <span class="U2">#{source_a</span> <span class="U2">llvalues.l</span> <span class="U2">ength}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">278</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;source_a</span> <span class="U2">llvalues_s</span> <span class="U2">et&nbsp;=&nbsp;Sorte</span> <span class="U2">dSet.new(s</span> <span class="U2">ource_allv</span> <span class="U2">alues)&nbsp;#&nbsp;s</span> <span class="U2">ource_allv</span> <span class="U2">alues.to_s</span> <span class="U2">et</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">279</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;#&nbsp;p&nbsp;"set</span> <span class="U2">length:&nbsp;#{</span> <span class="U2">source_all</span> <span class="U2">values_set</span> <span class="U2">.length}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">280</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;source_a</span> <span class="U2">llvalues_s</span> <span class="U2">et</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">281</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">282</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">283</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^the</span> <span class="U2">&nbsp;activity&nbsp;</span> <span class="U2">response&nbsp;d</span> <span class="U2">oes&nbsp;not&nbsp;co</span> <span class="U2">ntain&nbsp;the&nbsp;</span> <span class="U2">title$/)&nbsp;d</span> <span class="U2">o</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">284</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;source_a</span> <span class="U2">llvalues&nbsp;=</span> <span class="U2">&nbsp;all_value</span> <span class="U2">s_in_set(@</span> <span class="U2">response.b</span> <span class="U2">ody,&nbsp;'data</span> <span class="U2">.items.INS</span> <span class="U2">TANCENAME'</span> <span class="U2">)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">285</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">286</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(s</span> <span class="U2">ource_allv</span> <span class="U2">alues).to_</span> <span class="U2">not&nbsp;includ</span> <span class="U2">e(@new_act</span> <span class="U2">ivity_titl</span> <span class="U2">e)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">287</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">288</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">289</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^the</span> <span class="U2">&nbsp;activity&nbsp;</span> <span class="U2">response&nbsp;d</span> <span class="U2">oes&nbsp;contai</span> <span class="U2">n&nbsp;the&nbsp;titl</span> <span class="U2">e$/)&nbsp;do</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">290</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;source_a</span> <span class="U2">llvalues&nbsp;=</span> <span class="U2">&nbsp;all_value</span> <span class="U2">s_in_set(@</span> <span class="U2">response.b</span> <span class="U2">ody,&nbsp;'data</span> <span class="U2">.items.INS</span> <span class="U2">TANCENAME'</span> <span class="U2">)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">291</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">292</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(s</span> <span class="U2">ource_allv</span> <span class="U2">alues).to&nbsp;</span> <span class="U2">include(@n</span> <span class="U2">ew_activit</span> <span class="U2">y_title)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">293</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">294</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">295</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^the</span> <span class="U2">&nbsp;user&nbsp;"([^</span> <span class="U2">"]*)"&nbsp;requ</span> <span class="U2">ests&nbsp;open&nbsp;</span> <span class="U2">activities</span> <span class="U2">&nbsp;for&nbsp;the&nbsp;p</span> <span class="U2">atient&nbsp;con</span> <span class="U2">text$/)&nbsp;do</span> <span class="U2">&nbsp;|patient_</span> <span class="U2">access_cod</span> <span class="U2">e,&nbsp;table|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">296</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('acti</span> <span class="U2">vities-ins</span> <span class="U2">tances-ava</span> <span class="U2">ilable')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">297</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('conte</span> <span class="U2">xt',&nbsp;'pati</span> <span class="U2">ent')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">298</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('mode'</span> <span class="U2">,&nbsp;'open')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">299</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|&nbsp;label,&nbsp;</span> <span class="U2">value&nbsp;|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">300</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;reques</span> <span class="U2">t.add_para</span> <span class="U2">meter(labe</span> <span class="U2">l,&nbsp;value)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">301</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">302</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">303</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;path</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">304</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;verify_c</span> <span class="U2">ode&nbsp;=&nbsp;Test</span> <span class="U2">Clients.pa</span> <span class="U2">ssword_for</span> <span class="U2">(patient_a</span> <span class="U2">ccess_code</span> <span class="U2">)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">305</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(v</span> <span class="U2">erify_code</span> <span class="U2">).to_not&nbsp;b</span> <span class="U2">e_nil,&nbsp;"Te</span> <span class="U2">st&nbsp;Framewo</span> <span class="U2">rk&nbsp;does&nbsp;no</span> <span class="U2">t&nbsp;have&nbsp;a&nbsp;s</span> <span class="U2">aved&nbsp;verif</span> <span class="U2">y&nbsp;code&nbsp;for</span> <span class="U2">&nbsp;#{patient</span> <span class="U2">_access_co</span> <span class="U2">de}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">306</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">307</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;HTTPar</span> <span class="U2">tyRDK.get_</span> <span class="U2">as_user(pa</span> <span class="U2">th,&nbsp;patien</span> <span class="U2">t_access_c</span> <span class="U2">ode,&nbsp;verif</span> <span class="U2">y_code)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">308</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">309</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">310</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^the</span> <span class="U2">&nbsp;activity&nbsp;</span> <span class="U2">response&nbsp;o</span> <span class="U2">nly&nbsp;contai</span> <span class="U2">ns&nbsp;activit</span> <span class="U2">ies&nbsp;starte</span> <span class="U2">d&nbsp;by&nbsp;pu(\d</span> <span class="U2">+)$/)&nbsp;do&nbsp;|</span> <span class="U2">arg1|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">311</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;source_a</span> <span class="U2">llvalues_n</span> <span class="U2">ames&nbsp;=&nbsp;all</span> <span class="U2">_values_in</span> <span class="U2">_set(@resp</span> <span class="U2">onse.body,</span> <span class="U2">&nbsp;'data.ite</span> <span class="U2">ms.CREATED</span> <span class="U2">BYNAME')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">312</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;source_a</span> <span class="U2">llvalues_i</span> <span class="U2">d&nbsp;=&nbsp;all_va</span> <span class="U2">lues_in_se</span> <span class="U2">t(@respons</span> <span class="U2">e.body,&nbsp;'d</span> <span class="U2">ata.items.</span> <span class="U2">CREATEDBYI</span> <span class="U2">D')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">313</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">314</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(s</span> <span class="U2">ource_allv</span> <span class="U2">alues_name</span> <span class="U2">s.length).</span> <span class="U2">to_not&nbsp;be&nbsp;</span> <span class="U2">&gt;&nbsp;1,&nbsp;"expe</span> <span class="U2">cted&nbsp;only&nbsp;</span> <span class="U2">1&nbsp;created&nbsp;</span> <span class="U2">by&nbsp;name,&nbsp;r</span> <span class="U2">eceived&nbsp;#{</span> <span class="U2">source_all</span> <span class="U2">values_nam</span> <span class="U2">es.length}</span> <span class="U2">&nbsp;(#{source</span> <span class="U2">_allvalues</span> <span class="U2">_names})"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">315</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(s</span> <span class="U2">ource_allv</span> <span class="U2">alues_name</span> <span class="U2">s).to&nbsp;incl</span> <span class="U2">ude('USER,</span> <span class="U2">PANORAMA')</span> <span class="U2">&nbsp;if&nbsp;source</span> <span class="U2">_allvalues</span> <span class="U2">_names.len</span> <span class="U2">gth&nbsp;&gt;&nbsp;0</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">316</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">317</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(s</span> <span class="U2">ource_allv</span> <span class="U2">alues_id.l</span> <span class="U2">ength).to_</span> <span class="U2">not&nbsp;be&nbsp;&gt;&nbsp;1</span> <span class="U2">,&nbsp;"expecte</span> <span class="U2">d&nbsp;only&nbsp;1&nbsp;c</span> <span class="U2">reated&nbsp;by&nbsp;</span> <span class="U2">name,&nbsp;rece</span> <span class="U2">ived&nbsp;#{sou</span> <span class="U2">rce_allval</span> <span class="U2">ues_id.len</span> <span class="U2">gth}&nbsp;(#{so</span> <span class="U2">urce_allva</span> <span class="U2">lues_id})"</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">318</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">expect(sou</span> <span class="U2">rce_allval</span> <span class="U2">ues_id).to</span> <span class="U2">&nbsp;include('</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;100000002</span> <span class="U2">70')&nbsp;if&nbsp;so</span> <span class="U2">urce_allva</span> <span class="U2">lues_names</span> <span class="U2">.length&nbsp;&gt;&nbsp;</span> <span class="U2">0</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">319</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">320</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">321</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^the</span> <span class="U2">&nbsp;activity&nbsp;</span> <span class="U2">response&nbsp;o</span> <span class="U2">nly&nbsp;contai</span> <span class="U2">ns&nbsp;activit</span> <span class="U2">ies&nbsp;starte</span> <span class="U2">d&nbsp;by&nbsp;tdnur</span> <span class="U2">se$/)&nbsp;do</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">322</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;source_a</span> <span class="U2">llvalues_n</span> <span class="U2">ames&nbsp;=&nbsp;all</span> <span class="U2">_values_in</span> <span class="U2">_set(@resp</span> <span class="U2">onse.body,</span> <span class="U2">&nbsp;'data.ite</span> <span class="U2">ms.CREATED</span> <span class="U2">BYNAME')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">323</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;source_a</span> <span class="U2">llvalues_i</span> <span class="U2">d&nbsp;=&nbsp;all_va</span> <span class="U2">lues_in_se</span> <span class="U2">t(@respons</span> <span class="U2">e.body,&nbsp;'d</span> <span class="U2">ata.items.</span> <span class="U2">CREATEDBYI</span> <span class="U2">D')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">324</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">325</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(s</span> <span class="U2">ource_allv</span> <span class="U2">alues_name</span> <span class="U2">s.length).</span> <span class="U2">to&nbsp;eq(1)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">326</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(s</span> <span class="U2">ource_allv</span> <span class="U2">alues_name</span> <span class="U2">s).to&nbsp;incl</span> <span class="U2">ude('TDNUR</span> <span class="U2">SE,ONE')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">327</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">328</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(s</span> <span class="U2">ource_allv</span> <span class="U2">alues_id.l</span> <span class="U2">ength).to&nbsp;</span> <span class="U2">eq(1),&nbsp;"ex</span> <span class="U2">pected&nbsp;onl</span> <span class="U2">y&nbsp;1&nbsp;create</span> <span class="U2">d&nbsp;by&nbsp;name,</span> <span class="U2">&nbsp;received&nbsp;</span> <span class="U2">#{source_a</span> <span class="U2">llvalues_i</span> <span class="U2">d.length}&nbsp;</span> <span class="U2">(#{source_</span> <span class="U2">allvalues_</span> <span class="U2">id})"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">329</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">expect(sou</span> <span class="U2">rce_allval</span> <span class="U2">ues_id).to</span> <span class="U2">&nbsp;include('</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;100000000</span> <span class="U2">16')</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">330</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">331</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">332</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Given(/^th</span> <span class="U2">e&nbsp;successf</span> <span class="U2">ul&nbsp;respons</span> <span class="U2">e&nbsp;contains</span> <span class="U2">&nbsp;a&nbsp;process</span> <span class="U2">InstanceId</span> <span class="U2">$/)&nbsp;do</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">333</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;json&nbsp;=&nbsp;J</span> <span class="U2">SON.parse(</span> <span class="U2">@response.</span> <span class="U2">body)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">334</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@process</span> <span class="U2">instanceid</span> <span class="U2">&nbsp;=&nbsp;json['d</span> <span class="U2">ata']['pro</span> <span class="U2">cessInstan</span> <span class="U2">ceId']</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">335</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
   </tbody>
  </table> 
  <p class="copyright" style="margin-top: 25px; padding-top: 2px; border-top: solid #a0a0a0 1px; max-width: none;">Araxis Merge (but not the data content of this report) is Copyright Â© 1993-2016 Araxis Ltd (<a href="http://www.araxis.com/" title="Link to the Araxis corporate web site">www.araxis.com</a>). All rights reserved.</p>   
 </body>
</html>