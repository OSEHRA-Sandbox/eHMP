<!--?xml version="1.0"?--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:mg="http://www.araxis.com/2002/Merge/Reporting" xmlns="http://www.w3.org/1999/xhtml">
 <head> 
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> 
  <!--The layout and design of this report is Copyright Â© 2003-2016 Araxis Ltd. All rights reserved.--> 
  <!--The copyright of the data content of this report belongs to the relevant copyright holders.--> 
  <title>2313. EPMO Open Source Coordination Office Redaction File Detail Report</title> 
  <style type="text/css">
body { background: #fff;  color: #000; margin: 0px 14px 14px 14px; }
h1, h2, h3, h4, h5 {
  padding: 0em;
  margin: 1.5em 0em .25em 0em;
  text-align: left;
  font-weight: normal;
  font-family: Arial, Helvetica, sans-serif;
  font-size: 70%;
  max-width: 55em;
}
body, h4, h5, p, ol, ul, li, td, th { font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left; }

h4, h5, p, ol, ul, li { font-size: 70%; }
input {
  font-family: Arial, Helvetica, sans-serif;
  font-size: 120%;
}

h1 { margin: 14px 0em 1.2em 0em; font-size: 112%; line-height: 130%;}
h2 { font-size: 125%; line-height: 84%;}
h3 { margin-top: 1.4em; font-size: 81%; }
h4 { margin-top: 1em; font-size: 70%; }
h5 { margin-top: 1em; font-size: 100%; font-style: italic;}
h1 strong, h2 strong, h3 strong, h4 strong { font-weight: bold; }

p { margin: 6px 0em 6px 0em; max-width: 55em;}
p.code, code {}
p { font-size: 70%; line-height: 125%; }
table { font-size: 70%;}

p.copyright, .small { font-size: 60%; line-height: 120%; }
p.copyright { margin: 3px 0px 0px 0px; padding: 0px; text-align: left; }
acronym { font-variant: small-caps; }
div.pad { padding: 3px; }
span.lineEndings { color: red; font-size: 70%; }

table.mgRowGroup, table.mgRowGroupFolder { border: 1px solid #a0a0a0; margin: 10px 0px 10px 0px; width: 100%; table-layout: fixed; border-collapse: collapse; }
table.mgRowGroup td { vertical-align: top; padding: 0; }
table.mgRowGroupFolder td { vertical-align: top; padding: 1px 0 1px 0; }
div.IP { width: 2px; height: 1em; float: left; }

img.mgFldrIcon {float: left; text-align: left; margin: -1px 2px 0px 0px;  height: 16px; width: 16px; border: none; vertical-align: top; background-color: transparent;}
div.mgFldrIcon {float: left; width: auto;}
span.left {float: left;width: auto;}
span.right {float: right;width: auto;}

table.bordered { border-collapse: collapse; border: 1px solid #a0a0a0; margin: 10px 0px 10px 0px;}
table.bordered th, table.bordered td { vertical-align: top; padding: 3px; border: 1px solid #a0a0a0;}
table.bordered th { background-color: #e5e5e5; }
table.bordered td.group { background-color: #f5f5f5; }
span.disabledNavigation { color: #a0a0a0; }
div.navigation { margin-top: 14px; font-size: 70%; }
div.comment { font-weight: normal; color: #000; font-family: Verdana, Arial, Helvetica, sans-serif; background-color: #fcfed8; padding: 2px 5px 2px 5px; border: 1px solid #E3E5C3; margin: 1px 2px 3px 2px; -moz-border-radius: 7px; border-radius: 7px; }

                span.U1, span.U1 a {float: left; width: auto;color: #000000; background-color: #FFFFFF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.U1 a {text-decoration: underline;}
td.U1 {color: #000000; background-color: #FFFFFF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.R1, span.R1 a {float: left; width: auto;color: #800000; background-color: #F3E6D8; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.R1 a {text-decoration: underline;}
td.R1 {color: #800000; background-color: #F3E6D8; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.I1, span.I1 a {float: left; width: auto;color: #800000; background-color: #D1E8CF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.I1 a {text-decoration: underline;}
td.I1 {color: #800000; background-color: #D1E8CF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.C1, span.C1 a {float: left; width: auto;color: #800000; background-color: #DACDE6; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.C1 a {text-decoration: underline;}
td.C1 {color: #800000; background-color: #DACDE6; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
td.nbgC1 {color: #800000; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; background-color: #FFFFFF; }
span.U2, span.U2 a {float: left; width: auto;color: #000000; background-color: #FFFFFF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.U2 a {text-decoration: underline;}
td.U2 {color: #000000; background-color: #FFFFFF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.R2, span.R2 a {float: left; width: auto;color: #800000; background-color: #F3E6D8; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.R2 a {text-decoration: underline;}
td.R2 {color: #800000; background-color: #F3E6D8; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.I2, span.I2 a {float: left; width: auto;color: #800000; background-color: #D1E8CF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.I2 a {text-decoration: underline;}
td.I2 {color: #800000; background-color: #D1E8CF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.C2, span.C2 a {float: left; width: auto;color: #800000; background-color: #DACDE6; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.C2 a {text-decoration: underline;}
td.C2 {color: #800000; background-color: #DACDE6; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
td.nbgC2 {color: #800000; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; background-color: #FFFFFF; }

span.selected {background-color: #3d80df; color: #fff;}
span.selected a {background-color: #3d80df; color: #fff; text-decoration: underline;}
span.symbol {cursor: pointer;}
      </style> 
 </head> 
 <body> 
  <h1><strong>2313. EPMO Open Source Coordination Office Redaction File Detail Report</strong></h1> 
  <p>Produced by <strong>Araxis Merge</strong> on <strong>10/13/2017 11:30:55 AM Central Daylight Time</strong>. See <a href="http://www.araxis.com/" title="Link to the Araxis corporate web site">www.araxis.com</a> for information about Merge. This report uses XHTML and CSS2, and is best viewed with a modern standards-compliant browser. For optimum results when printing this report, use landscape orientation and enable printing of background images and colours in your browser.</p> 
  <h3><strong>2313.1&nbsp;Files compared</strong></h3> 
  <table class="bordered"> 
   <tbody>
    <tr> 
     <th>#</th> 
     <th>Location</th> 
     <th>File</th> 
     <th>Last Modified</th> 
    </tr> 
    <tr> 
     <td>1</td> 
     <td>ehmp.zip\rdk\rdk\product\tests\acceptance-tests\features\steps</td> 
     <td>Data_sync_status_steps.rb</td> 
     <td>Wed Sep 6 17:14:30 2017 UTC</td> 
    </tr> 
    <tr> 
     <td>2</td> 
     <td>ehmp.zip\rdk\rdk\product\tests\acceptance-tests\features\steps</td> 
     <td>Data_sync_status_steps.rb</td> 
     <td>Tue Oct 10 18:47:26 2017 UTC</td> 
    </tr> 
   </tbody>
  </table> 
  <h3><strong>2313.2&nbsp;Comparison summary</strong></h3> 
  <table class="bordered"> 
   <tbody>
    <tr> 
     <th rowspan="2" style="vertical-align: bottom;">Description</th> 
     <th colspan="2">Between<br>Files 1 and 2</th> 
    </tr> 
    <tr> 
     <th style="text-align: right;">Text Blocks</th> 
     <th style="text-align: right;">Lines</th> 
    </tr> 
    <tr> 
     <td>Unchanged</td> 
     <td style="text-align: right;">2</td> 
     <td style="text-align: right;">492</td> 
    </tr> 
    <tr> 
     <td>Changed</td> 
     <td style="text-align: right;">1</td> 
     <td style="text-align: right;">2</td> 
    </tr> 
    <tr> 
     <td>Inserted</td> 
     <td style="text-align: right;">0</td> 
     <td style="text-align: right;">0</td> 
    </tr> 
    <tr> 
     <td>Removed</td> 
     <td style="text-align: right;">0</td> 
     <td style="text-align: right;">0</td> 
    </tr> 
   </tbody>
  </table> 
  <h3><strong>2313.3&nbsp;Comparison options</strong></h3> 
  <table class="bordered" style="width: 55em;"> 
   <tbody>
    <tr> 
     <th>Whitespace</th> 
     <td></td> 
    </tr> 
    <tr> 
     <th>Character case</th> 
     <td>Differences in character case are significant</td> 
    </tr> 
    <tr> 
     <th>Line endings</th> 
     <td>Differences in line endings (<code>CR</code> and <code>LF</code> characters) are ignored</td> 
    </tr> 
    <tr> 
     <th>CR/LF characters</th> 
     <td>Not shown in the comparison detail</td> 
    </tr> 
   </tbody>
  </table> 
  <h3><strong>2313.4&nbsp;Active regular expressions</strong></h3> 
  <p>No regular expressions were active.</p> 
  <h3><strong>2313.5&nbsp;Comparison detail</strong></h3> 
  <table class="mgRowGroup"> 
   <colgroup>
    <col style="width: 5em;"> 
    <col style="width: 1em;"> 
    <col width="*"> 
    <col style="width: 1em;"> 
    <col style="width: 5em;"> 
    <col style="width: 1em;"> 
    <col width="*"> 
   </colgroup>
   <tbody>
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">1</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">class&nbsp;Site</span> <span class="U2">Initialize</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">2</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;def&nbsp;site</span> <span class="U2">_initializ</span> <span class="U2">e</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">3</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;</span> <span class="U2">define_sou</span> <span class="U2">rce_site&nbsp;=</span> <span class="U2">&nbsp;{&nbsp;'PANORA</span> <span class="U2">MA'&nbsp;=&gt;&nbsp;'</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">',&nbsp;'KODAK'</span> <span class="U2">&nbsp;=&gt;&nbsp;'</span> <span class="C2">SITE</span> <span class="U2">',&nbsp;'DOD'&nbsp;=</span> <span class="U2">&gt;&nbsp;'DOD',&nbsp;'</span> <span class="U2">DAS'&nbsp;=&gt;&nbsp;'D</span> <span class="U2">AS',&nbsp;'HDR'</span> <span class="U2">&nbsp;=&gt;&nbsp;'HDR'&nbsp;</span> <span class="U2">}</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">4</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="U2">&nbsp;define_so</span> <span class="U2">urce_site</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">5</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">6</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">7</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">8</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^the</span> <span class="U2">&nbsp;client&nbsp;re</span> <span class="U2">quests&nbsp;syn</span> <span class="U2">c&nbsp;status&nbsp;f</span> <span class="U2">or&nbsp;the&nbsp;pat</span> <span class="U2">ient&nbsp;"(.*?</span> <span class="U2">)"&nbsp;in&nbsp;RDK&nbsp;</span> <span class="U2">format$/)&nbsp;</span> <span class="U2">do&nbsp;|pid|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">9</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;temp&nbsp;=&nbsp;R</span> <span class="U2">DKQuery.ne</span> <span class="U2">w('synchro</span> <span class="U2">nization-s</span> <span class="U2">tatus')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">10</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;temp.add</span> <span class="U2">_parameter</span> <span class="U2">("pid",&nbsp;pi</span> <span class="U2">d)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">11</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;t</span> <span class="U2">emp.path</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">12</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">13</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;begin</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">14</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;@respo</span> <span class="U2">nse&nbsp;=&nbsp;HTTP</span> <span class="U2">artyRDK.ge</span> <span class="U2">t(path)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">15</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;rescue&nbsp;E</span> <span class="U2">xception&nbsp;=</span> <span class="U2">&gt;&nbsp;e</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">16</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;puts&nbsp;"</span> <span class="U2">Time&nbsp;out;&nbsp;</span> <span class="U2">"&nbsp;+&nbsp;e</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">17</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">18</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">19</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(@</span> <span class="U2">response.c</span> <span class="U2">ode).to&nbsp;eq</span> <span class="U2">(200),&nbsp;"co</span> <span class="U2">de:&nbsp;#{@res</span> <span class="U2">ponse.code</span> <span class="U2">},&nbsp;body:&nbsp;#</span> <span class="U2">{@response</span> <span class="U2">.body}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">20</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">21</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">22</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^the</span> <span class="U2">&nbsp;client&nbsp;re</span> <span class="U2">quests&nbsp;syn</span> <span class="U2">c&nbsp;data&nbsp;sta</span> <span class="U2">tus&nbsp;for&nbsp;th</span> <span class="U2">e&nbsp;patient&nbsp;</span> <span class="U2">"(.*?)"&nbsp;in</span> <span class="U2">&nbsp;RDK&nbsp;forma</span> <span class="U2">t$/)&nbsp;do&nbsp;|p</span> <span class="U2">id|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">23</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;temp&nbsp;=&nbsp;R</span> <span class="U2">DKQuery.ne</span> <span class="U2">w('synchro</span> <span class="U2">nization-s</span> <span class="U2">tatus')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">24</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;temp.add</span> <span class="U2">_parameter</span> <span class="U2">("pid",&nbsp;pi</span> <span class="U2">d)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">25</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;t</span> <span class="U2">emp.path</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">26</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">27</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">28</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;begin</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">29</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;@respo</span> <span class="U2">nse&nbsp;=&nbsp;HTTP</span> <span class="U2">artyRDK.ge</span> <span class="U2">t(path)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">30</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;rescue&nbsp;E</span> <span class="U2">xception&nbsp;=</span> <span class="U2">&gt;&nbsp;e</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">31</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;puts&nbsp;"</span> <span class="U2">Time&nbsp;out;&nbsp;</span> <span class="U2">"&nbsp;+&nbsp;e</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">32</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">33</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">34</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;if&nbsp;@resp</span> <span class="U2">onse.nil?</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">35</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;fail&nbsp;"</span> <span class="U2">Time&nbsp;out&nbsp;o</span> <span class="U2">n&nbsp;sync/dat</span> <span class="U2">astatus"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">36</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;else</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">37</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(@response</span> <span class="U2">.code).to&nbsp;</span> <span class="U2">eq(200),&nbsp;"</span> <span class="U2">code:&nbsp;#{@r</span> <span class="U2">esponse.co</span> <span class="U2">de},&nbsp;body:</span> <span class="U2">&nbsp;#{@respon</span> <span class="U2">se.body}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">38</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">39</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">40</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">41</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">42</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^the</span> <span class="U2">&nbsp;data&nbsp;stat</span> <span class="U2">us&nbsp;attribu</span> <span class="U2">te&nbsp;should&nbsp;</span> <span class="U2">be&nbsp;true$/)</span> <span class="U2">&nbsp;do</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">43</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;rdk_json</span> <span class="U2">_object&nbsp;=&nbsp;</span> <span class="U2">JSON.parse</span> <span class="U2">(@response</span> <span class="U2">.body)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">44</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;data_sta</span> <span class="U2">tus_attrib</span> <span class="U2">ute&nbsp;=&nbsp;rdk_</span> <span class="U2">json_objec</span> <span class="U2">t.values</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">45</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;result_s</span> <span class="U2">tatus_valu</span> <span class="U2">e&nbsp;=&nbsp;[]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">46</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;data_sta</span> <span class="U2">tus_attrib</span> <span class="U2">ute.each&nbsp;d</span> <span class="U2">o&nbsp;|attribu</span> <span class="U2">te_value|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">47</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;att</span> <span class="U2">ribute_val</span> <span class="U2">ue.class&nbsp;=</span> <span class="U2">=&nbsp;Hash</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">48</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resu</span> <span class="U2">lt_status_</span> <span class="U2">value&nbsp;=&nbsp;at</span> <span class="U2">tribute_va</span> <span class="U2">lue.values</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">49</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;else</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">50</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resu</span> <span class="U2">lt_status_</span> <span class="U2">value&nbsp;&lt;&lt;&nbsp;a</span> <span class="U2">ttribute_v</span> <span class="U2">alue</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">51</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">52</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">53</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;fail&nbsp;"Ex</span> <span class="U2">pected&nbsp;res</span> <span class="U2">ult:&nbsp;True&nbsp;</span> <span class="U2">\n&nbsp;got:&nbsp;fa</span> <span class="U2">lse&nbsp;\n&nbsp;Bod</span> <span class="U2">y:&nbsp;#{rdk_j</span> <span class="U2">son_object</span> <span class="U2">}&nbsp;"&nbsp;&nbsp;if&nbsp;re</span> <span class="U2">sult_statu</span> <span class="U2">s_value.in</span> <span class="U2">clude?&nbsp;fal</span> <span class="U2">se&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">54</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">55</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">56</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^the</span> <span class="U2">&nbsp;data&nbsp;stat</span> <span class="U2">us&nbsp;attribu</span> <span class="U2">te&nbsp;for&nbsp;"(.</span> <span class="U2">*?)"&nbsp;shoul</span> <span class="U2">d&nbsp;be&nbsp;true&nbsp;</span> <span class="U2">if&nbsp;all&nbsp;oth</span> <span class="U2">er&nbsp;attribu</span> <span class="U2">tes&nbsp;are&nbsp;tr</span> <span class="U2">ue$/)&nbsp;do&nbsp;|</span> <span class="U2">_arg1|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">57</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;rdk_json</span> <span class="U2">_object&nbsp;=&nbsp;</span> <span class="U2">JSON.parse</span> <span class="U2">(@response</span> <span class="U2">.body)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">58</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;all_site</span> <span class="U2">s&nbsp;=&nbsp;rdk_js</span> <span class="U2">on_object[</span> <span class="U2">"allSites"</span> <span class="U2">]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">59</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;data_sta</span> <span class="U2">tus_attrib</span> <span class="U2">ute&nbsp;=&nbsp;rdk_</span> <span class="U2">json_objec</span> <span class="U2">t.values</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">60</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;result_s</span> <span class="U2">tatus_valu</span> <span class="U2">e&nbsp;=&nbsp;[]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">61</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;data_sta</span> <span class="U2">tus_attrib</span> <span class="U2">ute.each&nbsp;d</span> <span class="U2">o&nbsp;|attribu</span> <span class="U2">te_value|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">62</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;att</span> <span class="U2">ribute_val</span> <span class="U2">ue.class&nbsp;=</span> <span class="U2">=&nbsp;Hash</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">63</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resu</span> <span class="U2">lt_status_</span> <span class="U2">value&nbsp;=&nbsp;at</span> <span class="U2">tribute_va</span> <span class="U2">lue.values</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">64</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;else</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">65</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resu</span> <span class="U2">lt_status_</span> <span class="U2">value&nbsp;&lt;&lt;&nbsp;a</span> <span class="U2">ttribute_v</span> <span class="U2">alue</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">66</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">67</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">68</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">69</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;if&nbsp;all_s</span> <span class="U2">ites</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">70</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;fail&nbsp;"</span> <span class="U2">Expected&nbsp;r</span> <span class="U2">esult:&nbsp;Fal</span> <span class="U2">se&nbsp;\n&nbsp;got:</span> <span class="U2">&nbsp;True&nbsp;\n&nbsp;B</span> <span class="U2">ody:&nbsp;#{rdk</span> <span class="U2">_json_obje</span> <span class="U2">ct}&nbsp;"&nbsp;&nbsp;if&nbsp;</span> <span class="U2">result_sta</span> <span class="U2">tus_value.</span> <span class="U2">include?&nbsp;f</span> <span class="U2">alse&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">71</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;else</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">72</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;fail&nbsp;"</span> <span class="U2">Expected&nbsp;r</span> <span class="U2">esult:&nbsp;Tru</span> <span class="U2">e&nbsp;\n&nbsp;got:&nbsp;</span> <span class="U2">False&nbsp;\n&nbsp;B</span> <span class="U2">ody:&nbsp;#{rdk</span> <span class="U2">_json_obje</span> <span class="U2">ct}&nbsp;"&nbsp;&nbsp;unl</span> <span class="U2">ess&nbsp;result</span> <span class="U2">_status_va</span> <span class="U2">lue.includ</span> <span class="U2">e?&nbsp;false&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">73</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">74</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">75</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">76</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">77</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^the</span> <span class="U2">&nbsp;data&nbsp;stor</span> <span class="U2">ed&nbsp;attribu</span> <span class="U2">te&nbsp;should&nbsp;</span> <span class="U2">be&nbsp;true&nbsp;wh</span> <span class="U2">en&nbsp;the&nbsp;exp</span> <span class="U2">ected&nbsp;doma</span> <span class="U2">in&nbsp;for&nbsp;RDK</span> <span class="U2">&nbsp;match&nbsp;wit</span> <span class="U2">h&nbsp;JDS&nbsp;for&nbsp;</span> <span class="U2">the&nbsp;patien</span> <span class="U2">t&nbsp;"(.*?)"$</span> <span class="U2">/)&nbsp;do&nbsp;|pid</span> <span class="U2">|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">78</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;rdk_json</span> <span class="U2">_object&nbsp;=&nbsp;</span> <span class="U2">JSON.parse</span> <span class="U2">(@response</span> <span class="U2">.body)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">79</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;rdk_json</span> <span class="U2">_sync_stat</span> <span class="U2">us&nbsp;=&nbsp;rdk_j</span> <span class="U2">son_object</span> <span class="U2">["data"]["</span> <span class="U2">items"][0]</span> <span class="U2">["syncStat</span> <span class="U2">usByVistaS</span> <span class="U2">ystemId"]&nbsp;</span> <span class="U2">&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">80</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">81</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;runtime_</span> <span class="U2">save_statu</span> <span class="U2">s&nbsp;=&nbsp;rdk_js</span> <span class="U2">on_object[</span> <span class="U2">"dataStore</span> <span class="U2">d"]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">82</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(r</span> <span class="U2">untime_sav</span> <span class="U2">e_status).</span> <span class="U2">to&nbsp;be_true</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">83</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">84</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;jds_json</span> <span class="U2">_object&nbsp;=&nbsp;</span> <span class="U2">jds_call(p</span> <span class="U2">id)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">85</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;jds_json</span> <span class="U2">_sync_stat</span> <span class="U2">us&nbsp;=jds_js</span> <span class="U2">on_object[</span> <span class="U2">"data"]["i</span> <span class="U2">tems"][0][</span> <span class="U2">"syncStatu</span> <span class="U2">sByVistaSy</span> <span class="U2">stemId"]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">86</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">87</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;site_nam</span> <span class="U2">e&nbsp;=&nbsp;check_</span> <span class="U2">site_name_</span> <span class="U2">match(rdk_</span> <span class="U2">json_sync_</span> <span class="U2">status,&nbsp;jd</span> <span class="U2">s_json_syn</span> <span class="U2">c_status)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">88</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">89</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;not_mata</span> <span class="U2">ch_domain&nbsp;</span> <span class="U2">=&nbsp;check_ex</span> <span class="U2">pected_dom</span> <span class="U2">ain_match(</span> <span class="U2">site_name,</span> <span class="U2">&nbsp;rdk_json_</span> <span class="U2">sync_statu</span> <span class="U2">s,&nbsp;jds_jso</span> <span class="U2">n_sync_sta</span> <span class="U2">tus)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">90</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">91</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;error_me</span> <span class="U2">ssage&nbsp;=&nbsp;cr</span> <span class="U2">eate_error</span> <span class="U2">_message(n</span> <span class="U2">ot_matach_</span> <span class="U2">domain)&nbsp;un</span> <span class="U2">less&nbsp;not_m</span> <span class="U2">atach_doma</span> <span class="U2">in.empty?</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">92</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;fail&nbsp;err</span> <span class="U2">or_message</span> <span class="U2">&nbsp;unless&nbsp;no</span> <span class="U2">t_matach_d</span> <span class="U2">omain.empt</span> <span class="U2">y?</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">93</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">94</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">95</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^the</span> <span class="U2">&nbsp;client&nbsp;re</span> <span class="U2">quests&nbsp;loa</span> <span class="U2">d&nbsp;parioiti</span> <span class="U2">zed&nbsp;for&nbsp;th</span> <span class="U2">e&nbsp;patient&nbsp;</span> <span class="U2">"(.*?)"&nbsp;ba</span> <span class="U2">se&nbsp;on&nbsp;prio</span> <span class="U2">rity&nbsp;site&nbsp;</span> <span class="U2">list&nbsp;in&nbsp;RD</span> <span class="U2">K&nbsp;format$/</span> <span class="U2">)&nbsp;do&nbsp;|pid,</span> <span class="U2">&nbsp;table|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">96</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;#&nbsp;p&nbsp;path</span> <span class="U2">&nbsp;=&nbsp;QueryRD</span> <span class="U2">KSync.new(</span> <span class="U2">"loadPrior</span> <span class="U2">itized",&nbsp;p</span> <span class="U2">id).add_pa</span> <span class="U2">rameter("p</span> <span class="U2">rioritySel</span> <span class="U2">ect",&nbsp;"use</span> <span class="U2">rSelect")</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">97</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;temp&nbsp;=&nbsp;R</span> <span class="U2">DKQuery.ne</span> <span class="U2">w('synchro</span> <span class="U2">nization-l</span> <span class="U2">oadPriorit</span> <span class="U2">ized')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">98</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;temp.add</span> <span class="U2">_parameter</span> <span class="U2">("pid",&nbsp;pi</span> <span class="U2">d)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">99</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;temp.add</span> <span class="U2">_parameter</span> <span class="U2">("priority</span> <span class="U2">Select",&nbsp;"</span> <span class="U2">userSelect</span> <span class="U2">")</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">100</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;t</span> <span class="U2">emp.path</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">101</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;define_s</span> <span class="U2">ource&nbsp;=&nbsp;Si</span> <span class="U2">teInitiali</span> <span class="U2">ze.new</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">102</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@define_</span> <span class="U2">source_sit</span> <span class="U2">e&nbsp;=&nbsp;define</span> <span class="U2">_source.si</span> <span class="U2">te_initial</span> <span class="U2">ize</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">103</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">104</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|site_nam</span> <span class="U2">e,&nbsp;_k|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">105</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;site_n</span> <span class="U2">ame&nbsp;=&nbsp;site</span> <span class="U2">_name.upca</span> <span class="U2">se</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">106</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;p&nbsp;path</span> <span class="U2">&nbsp;+=&nbsp;"&amp;prio</span> <span class="U2">ritySite=#</span> <span class="U2">{@define_s</span> <span class="U2">ource_site</span> <span class="U2">[site_name</span> <span class="U2">]}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">107</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">108</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">109</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">110</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;begin</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">111</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;@respo</span> <span class="U2">nse&nbsp;=&nbsp;HTTP</span> <span class="U2">artyRDK.ge</span> <span class="U2">t(path)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">112</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;rescue&nbsp;E</span> <span class="U2">xception&nbsp;=</span> <span class="U2">&gt;&nbsp;e</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">113</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;puts&nbsp;"</span> <span class="U2">Time&nbsp;out;&nbsp;</span> <span class="U2">"&nbsp;+&nbsp;e</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">114</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">115</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">116</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;if&nbsp;@resp</span> <span class="U2">onse.nil?</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">117</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;fail&nbsp;"</span> <span class="U2">Time&nbsp;out&nbsp;o</span> <span class="U2">n&nbsp;loadPrio</span> <span class="U2">ritized"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">118</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;else</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">119</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(@response</span> <span class="U2">.code).to&nbsp;</span> <span class="U2">eq(201),&nbsp;"</span> <span class="U2">code:&nbsp;#{@r</span> <span class="U2">esponse.co</span> <span class="U2">de},&nbsp;body:</span> <span class="U2">&nbsp;#{@respon</span> <span class="U2">se.body}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">120</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">121</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">122</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">123</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^the</span> <span class="U2">&nbsp;site&nbsp;"(.*</span> <span class="U2">?)"&nbsp;should</span> <span class="U2">&nbsp;be&nbsp;sync&nbsp;b</span> <span class="U2">efore&nbsp;"(.*</span> <span class="U2">?)"$/)&nbsp;do&nbsp;</span> <span class="U2">|site_name</span> <span class="U2">1,&nbsp;site_na</span> <span class="U2">me2|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">124</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">125</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;expect</span> <span class="U2">(check_sym</span> <span class="U2">c_complete</span> <span class="U2">_for_site(</span> <span class="U2">site_name1</span> <span class="U2">)).to&nbsp;be_t</span> <span class="U2">rue</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">126</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;expect</span> <span class="U2">(check_sym</span> <span class="U2">c_complete</span> <span class="U2">_for_site(</span> <span class="U2">site_name2</span> <span class="U2">)).to&nbsp;be_f</span> <span class="U2">alse</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">127</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">128</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">129</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">def&nbsp;check_</span> <span class="U2">symc_compl</span> <span class="U2">ete_for_si</span> <span class="U2">te(site_na</span> <span class="U2">me)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">130</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;rdk_json</span> <span class="U2">_object&nbsp;=&nbsp;</span> <span class="U2">JSON.parse</span> <span class="U2">(@response</span> <span class="U2">.body)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">131</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;site_nam</span> <span class="U2">e&nbsp;=&nbsp;site_n</span> <span class="U2">ame.upcase</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">132</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;source_s</span> <span class="U2">ite_name&nbsp;=</span> <span class="U2">&nbsp;@define_s</span> <span class="U2">ource_site</span> <span class="U2">[site_name</span> <span class="U2">]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">133</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">134</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;result_s</span> <span class="U2">ite_name&nbsp;=</span> <span class="U2">&nbsp;rdk_json_</span> <span class="U2">object["da</span> <span class="U2">ta"]["item</span> <span class="U2">s"][0]["sy</span> <span class="U2">ncStatusBy</span> <span class="U2">VistaSyste</span> <span class="U2">mId"].keys</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">135</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;fail&nbsp;"Ex</span> <span class="U2">pected:&nbsp;#{</span> <span class="U2">site_name}</span> <span class="U2">&nbsp;\n&nbsp;got:&nbsp;#</span> <span class="U2">{result_si</span> <span class="U2">te_name}&nbsp;"</span> <span class="U2">&nbsp;unless&nbsp;re</span> <span class="U2">sult_site_</span> <span class="U2">name.inclu</span> <span class="U2">de?&nbsp;source</span> <span class="U2">_site_name</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">136</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">137</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;sync_com</span> <span class="U2">plete&nbsp;=&nbsp;rd</span> <span class="U2">k_json_obj</span> <span class="U2">ect["data"</span> <span class="U2">]["items"]</span> <span class="U2">[0]["syncS</span> <span class="U2">tatusByVis</span> <span class="U2">taSystemId</span> <span class="U2">"][source_</span> <span class="U2">site_name]</span> <span class="U2">["syncComp</span> <span class="U2">lete"]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">138</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;return&nbsp;s</span> <span class="U2">ync_comple</span> <span class="U2">te</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">139</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">140</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">141</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">#&nbsp;Then(/^t</span> <span class="U2">he&nbsp;sync&nbsp;st</span> <span class="U2">atus&nbsp;resul</span> <span class="U2">t&nbsp;will&nbsp;get</span> <span class="U2">&nbsp;back&nbsp;base</span> <span class="U2">&nbsp;on&nbsp;priori</span> <span class="U2">ty&nbsp;site&nbsp;li</span> <span class="U2">st&nbsp;for&nbsp;the</span> <span class="U2">&nbsp;patient&nbsp;"</span> <span class="U2">(.*?)"$/)&nbsp;</span> <span class="U2">do&nbsp;|pid,&nbsp;t</span> <span class="U2">able|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">142</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">143</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">#&nbsp;&nbsp;&nbsp;p&nbsp;rdk_</span> <span class="U2">json_objec</span> <span class="U2">t&nbsp;=&nbsp;JSON.p</span> <span class="U2">arse(@resp</span> <span class="U2">onse.body)</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">144</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">#&nbsp;&nbsp;&nbsp;sd</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">145</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">#&nbsp;&nbsp;&nbsp;base_u</span> <span class="U2">rl&nbsp;=&nbsp;Defau</span> <span class="U2">ltLogin.jd</span> <span class="U2">s_url</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">146</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">#&nbsp;&nbsp;&nbsp;p&nbsp;jds_</span> <span class="U2">path&nbsp;=&nbsp;"#{</span> <span class="U2">base_url}/</span> <span class="U2">data/find/</span> <span class="U2">syncstatus</span> <span class="U2">?filter=eq</span> <span class="U2">(pid,#{pid</span> <span class="U2">})"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">147</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">148</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">#&nbsp;&nbsp;&nbsp;p&nbsp;rdk_</span> <span class="U2">path&nbsp;=&nbsp;Que</span> <span class="U2">ryRDKSync.</span> <span class="U2">new("load"</span> <span class="U2">,&nbsp;pid).pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">149</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">150</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">#&nbsp;&nbsp;&nbsp;jds_sy</span> <span class="U2">nc_complet</span> <span class="U2">e&nbsp;=&nbsp;false</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">151</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">#&nbsp;&nbsp;&nbsp;while&nbsp;</span> <span class="U2">jds_sync_c</span> <span class="U2">omplete&nbsp;==</span> <span class="U2">&nbsp;false</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">152</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tabl</span> <span class="U2">e.rows.eac</span> <span class="U2">h&nbsp;do&nbsp;|site</span> <span class="U2">_name,&nbsp;k|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">153</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;si</span> <span class="U2">te_name&nbsp;=&nbsp;</span> <span class="U2">site_name.</span> <span class="U2">upcase</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">154</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;so</span> <span class="U2">urce_site_</span> <span class="U2">name&nbsp;=&nbsp;@de</span> <span class="U2">fine_sourc</span> <span class="U2">e_site[sit</span> <span class="U2">e_name]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">155</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p&nbsp;</span> <span class="U2">jds_sync_c</span> <span class="U2">omplete&nbsp;=&nbsp;</span> <span class="U2">check_symc</span> <span class="U2">_complete(</span> <span class="U2">jds_path,&nbsp;</span> <span class="U2">source_sit</span> <span class="U2">e_name)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">156</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if</span> <span class="U2">&nbsp;jds_sync_</span> <span class="U2">complete</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">157</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">rdk_respon</span> <span class="U2">se&nbsp;=&nbsp;HTTPa</span> <span class="U2">rtyRDK.get</span> <span class="U2">_with_auth</span> <span class="U2">orization(</span> <span class="U2">rdk_path)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">158</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">p&nbsp;rdk_sync</span> <span class="U2">_complete&nbsp;</span> <span class="U2">=&nbsp;check_sy</span> <span class="U2">mc_complet</span> <span class="U2">e(rdk_path</span> <span class="U2">,&nbsp;source_s</span> <span class="U2">ite_name)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">159</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;en</span> <span class="U2">d</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">160</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">161</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">#&nbsp;&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">162</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">#&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">163</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">164</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">def&nbsp;check_</span> <span class="U2">expected_d</span> <span class="U2">omain_matc</span> <span class="U2">h(sites_na</span> <span class="U2">me,&nbsp;rdk_js</span> <span class="U2">on_object,</span> <span class="U2">&nbsp;jds_json_</span> <span class="U2">object)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">165</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;not_mata</span> <span class="U2">ch_domain&nbsp;</span> <span class="U2">=&nbsp;[]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">166</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table&nbsp;=&nbsp;</span> <span class="U2">sites_name</span> <span class="U2">[0]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">167</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ea</span> <span class="U2">ch&nbsp;do&nbsp;|sit</span> <span class="U2">e_name,&nbsp;_i</span> <span class="U2">|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">168</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;rdk_ex</span> <span class="U2">pected_dom</span> <span class="U2">ain&nbsp;=&nbsp;rdk_</span> <span class="U2">json_objec</span> <span class="U2">t[site_nam</span> <span class="U2">e]["domain</span> <span class="U2">ExpectedTo</span> <span class="U2">tals"].siz</span> <span class="U2">e</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">169</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;jds_ex</span> <span class="U2">pected_dom</span> <span class="U2">ain&nbsp;=&nbsp;jds_</span> <span class="U2">json_objec</span> <span class="U2">t[site_nam</span> <span class="U2">e]["domain</span> <span class="U2">ExpectedTo</span> <span class="U2">tals"].siz</span> <span class="U2">e</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">170</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;unless</span> <span class="U2">&nbsp;jds_expec</span> <span class="U2">ted_domain</span> <span class="U2">&nbsp;==&nbsp;rdk_ex</span> <span class="U2">pected_dom</span> <span class="U2">ain</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">171</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not_</span> <span class="U2">matach_dom</span> <span class="U2">ain&nbsp;&lt;&lt;&nbsp;[si</span> <span class="U2">te_name,&nbsp;r</span> <span class="U2">dk_expecte</span> <span class="U2">d_domain,&nbsp;</span> <span class="U2">jds_expect</span> <span class="U2">ed_domain]</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">172</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">173</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">174</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;return&nbsp;n</span> <span class="U2">ot_matach_</span> <span class="U2">domain</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">175</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">176</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">177</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">def&nbsp;check_</span> <span class="U2">site_name_</span> <span class="U2">match(rdk_</span> <span class="U2">json_objec</span> <span class="U2">t,&nbsp;jds_jso</span> <span class="U2">n_object)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">178</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;rdk_site</span> <span class="U2">_name&nbsp;=&nbsp;rd</span> <span class="U2">k_json_obj</span> <span class="U2">ect.keys&nbsp;&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">179</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;jds_site</span> <span class="U2">_name&nbsp;=&nbsp;jd</span> <span class="U2">s_json_obj</span> <span class="U2">ect.keys</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">180</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">181</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;fail&nbsp;"Ex</span> <span class="U2">pected&nbsp;sit</span> <span class="U2">e:&nbsp;'#{jds_</span> <span class="U2">site_name}</span> <span class="U2">'&nbsp;\ngot:&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'</span> <span class="U2">#{rdk_site</span> <span class="U2">_name}'"&nbsp;u</span> <span class="U2">nless&nbsp;(jds</span> <span class="U2">_site_name</span> <span class="U2">&nbsp;-&nbsp;rdk_sit</span> <span class="U2">e_name).em</span> <span class="U2">pty?</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">182</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;return&nbsp;r</span> <span class="U2">dk_site_na</span> <span class="U2">me,&nbsp;jds_si</span> <span class="U2">te_name</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">183</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">184</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">185</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">def&nbsp;check_</span> <span class="U2">symc_compl</span> <span class="U2">ete(path,&nbsp;</span> <span class="U2">source_sit</span> <span class="U2">e_name)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">186</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;response</span> <span class="U2">&nbsp;=&nbsp;HTTPart</span> <span class="U2">yRDK.get(p</span> <span class="U2">ath)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">187</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;sync_com</span> <span class="U2">plete&nbsp;=&nbsp;re</span> <span class="U2">sponse["da</span> <span class="U2">ta"]["item</span> <span class="U2">s"][0]["sy</span> <span class="U2">ncStatusBy</span> <span class="U2">VistaSyste</span> <span class="U2">mId"][sour</span> <span class="U2">ce_site_na</span> <span class="U2">me]["syncC</span> <span class="U2">omplete"]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">188</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;return&nbsp;s</span> <span class="U2">ync_comple</span> <span class="U2">te</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">189</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">190</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">191</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">def&nbsp;check_</span> <span class="U2">site_match</span> <span class="U2">(table,&nbsp;js</span> <span class="U2">on_sync_st</span> <span class="U2">atus)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">192</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;site_nam</span> <span class="U2">e_expected</span> <span class="U2">&nbsp;=&nbsp;[]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">193</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;site_arr</span> <span class="U2">ay&nbsp;=&nbsp;json_</span> <span class="U2">sync_statu</span> <span class="U2">s.keys</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">194</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;#&nbsp;site_a</span> <span class="U2">rray&nbsp;=&nbsp;@js</span> <span class="U2">on_object[</span> <span class="U2">"data"]["i</span> <span class="U2">tems"][0][</span> <span class="U2">"syncStatu</span> <span class="U2">sByVistaSy</span> <span class="U2">stemId"].k</span> <span class="U2">eys</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">195</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|site_nam</span> <span class="U2">e,&nbsp;_expect</span> <span class="U2">ed_domain|</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">196</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;site_n</span> <span class="U2">ame&nbsp;=&nbsp;site</span> <span class="U2">_name.upca</span> <span class="U2">se</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">197</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;site_n</span> <span class="U2">ame_expect</span> <span class="U2">ed&nbsp;&lt;&lt;&nbsp;@def</span> <span class="U2">ine_source</span> <span class="U2">_site[site</span> <span class="U2">_name]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">198</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">199</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;fail&nbsp;"Ex</span> <span class="U2">pected&nbsp;sit</span> <span class="U2">e:&nbsp;'#{site</span> <span class="U2">_name_expe</span> <span class="U2">cted}'&nbsp;\ng</span> <span class="U2">ot:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;'#{sit</span> <span class="U2">e_array}'"</span> <span class="U2">&nbsp;unless&nbsp;(s</span> <span class="U2">ite_name_e</span> <span class="U2">xpected&nbsp;-&nbsp;</span> <span class="U2">site_array</span> <span class="U2">).empty?</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">200</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">201</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">202</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">def&nbsp;old_ch</span> <span class="U2">eck_expect</span> <span class="U2">ed_domain_</span> <span class="U2">match(tabl</span> <span class="U2">e,&nbsp;json_sy</span> <span class="U2">nc_status)</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">203</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expected</span> <span class="U2">_domain_ma</span> <span class="U2">tch&nbsp;=&nbsp;[]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">204</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expected</span> <span class="U2">_domain_an</span> <span class="U2">d_site&nbsp;=&nbsp;[</span> <span class="U2">]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">205</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|site_nam</span> <span class="U2">e,&nbsp;expecte</span> <span class="U2">d_domain|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">206</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;site_n</span> <span class="U2">ame&nbsp;=&nbsp;site</span> <span class="U2">_name.upca</span> <span class="U2">se</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">207</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;source</span> <span class="U2">_site_name</span> <span class="U2">&nbsp;=&nbsp;@define</span> <span class="U2">_source_si</span> <span class="U2">te[site_na</span> <span class="U2">me]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">208</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;result</span> <span class="U2">_array&nbsp;=&nbsp;j</span> <span class="U2">son_sync_s</span> <span class="U2">tatus[sour</span> <span class="U2">ce_site_na</span> <span class="U2">me]["domai</span> <span class="U2">nExpectedT</span> <span class="U2">otals"].si</span> <span class="U2">ze</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">209</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;resu</span> <span class="U2">lt_array&nbsp;=</span> <span class="U2">&nbsp;@json_obj</span> <span class="U2">ect["data"</span> <span class="U2">]["items"]</span> <span class="U2">[0]["syncS</span> <span class="U2">tatusByVis</span> <span class="U2">taSystemId</span> <span class="U2">"][source_</span> <span class="U2">site_name]</span> <span class="U2">["domainEx</span> <span class="U2">pectedTota</span> <span class="U2">ls"].size</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">210</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;result</span> <span class="U2">_array&nbsp;=&nbsp;r</span> <span class="U2">esult_arra</span> <span class="U2">y.to_s</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">211</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;exp</span> <span class="U2">ected_doma</span> <span class="U2">in&nbsp;==&nbsp;resu</span> <span class="U2">lt_array</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">212</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expe</span> <span class="U2">cted_domai</span> <span class="U2">n_match&nbsp;&lt;&lt;</span> <span class="U2">&nbsp;true</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">213</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;else</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">214</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expe</span> <span class="U2">cted_domai</span> <span class="U2">n_match&nbsp;&lt;&lt;</span> <span class="U2">&nbsp;false</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">215</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expe</span> <span class="U2">cted_domai</span> <span class="U2">n_and_site</span> <span class="U2">&nbsp;&lt;&lt;&nbsp;[site_</span> <span class="U2">name]&nbsp;+&nbsp;[e</span> <span class="U2">xpected_do</span> <span class="U2">main]&nbsp;+&nbsp;[r</span> <span class="U2">esult_arra</span> <span class="U2">y]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">216</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">217</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">218</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;error_me</span> <span class="U2">ssage&nbsp;=&nbsp;cr</span> <span class="U2">eate_error</span> <span class="U2">_message(e</span> <span class="U2">xpected_do</span> <span class="U2">main_and_s</span> <span class="U2">ite)&nbsp;unles</span> <span class="U2">s&nbsp;expected</span> <span class="U2">_domain_an</span> <span class="U2">d_site.emp</span> <span class="U2">ty?</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">219</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;fail&nbsp;err</span> <span class="U2">or_message</span> <span class="U2">&nbsp;unless&nbsp;ex</span> <span class="U2">pected_dom</span> <span class="U2">ain_and_si</span> <span class="U2">te.empty?</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">220</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">221</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">222</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">def&nbsp;jds_ca</span> <span class="U2">ll(pid)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">223</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;base_url</span> <span class="U2">&nbsp;=&nbsp;Default</span> <span class="U2">Login.jds_</span> <span class="U2">url</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">224</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;path&nbsp;=</span> <span class="U2">&nbsp;"#{base_u</span> <span class="U2">rl}/data/f</span> <span class="U2">ind/syncst</span> <span class="U2">atus?filte</span> <span class="U2">r=eq(pid,#</span> <span class="U2">{pid})"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">225</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">226</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;begin</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">227</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;@respo</span> <span class="U2">nse&nbsp;=&nbsp;HTTP</span> <span class="U2">artyRDK.ge</span> <span class="U2">t(path)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">228</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;rescue&nbsp;E</span> <span class="U2">xception&nbsp;=</span> <span class="U2">&gt;&nbsp;e</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">229</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;puts&nbsp;"</span> <span class="U2">Time&nbsp;out;&nbsp;</span> <span class="U2">"&nbsp;+&nbsp;e</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">230</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">231</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">232</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;if&nbsp;@resp</span> <span class="U2">onse.nil?</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">233</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;fail&nbsp;"</span> <span class="U2">JDS&nbsp;Time&nbsp;o</span> <span class="U2">ut"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">234</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;else</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">235</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(@response</span> <span class="U2">.code).to&nbsp;</span> <span class="U2">eq(200),&nbsp;"</span> <span class="U2">code:&nbsp;#{@r</span> <span class="U2">esponse.co</span> <span class="U2">de},&nbsp;body:</span> <span class="U2">&nbsp;#{@respon</span> <span class="U2">se.body}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">236</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;json_o</span> <span class="U2">bject&nbsp;=&nbsp;JS</span> <span class="U2">ON.parse(@</span> <span class="U2">response.b</span> <span class="U2">ody)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">237</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">238</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;return&nbsp;j</span> <span class="U2">son_object</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">239</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">240</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">241</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">def&nbsp;create</span> <span class="U2">_error_mes</span> <span class="U2">sage(expec</span> <span class="U2">ted_domain</span> <span class="U2">_and_site)</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">242</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;error_me</span> <span class="U2">sg&nbsp;=&nbsp;""</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">243</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expected</span> <span class="U2">_domain_an</span> <span class="U2">d_site.eac</span> <span class="U2">h&nbsp;do&nbsp;|site</span> <span class="U2">_name,&nbsp;exp</span> <span class="U2">ected_doma</span> <span class="U2">in,&nbsp;run_ti</span> <span class="U2">me_domian|</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">244</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;error_</span> <span class="U2">mesg&nbsp;=&nbsp;err</span> <span class="U2">or_mesg&nbsp;+&nbsp;</span> <span class="U2">"Site&nbsp;name</span> <span class="U2">:"&nbsp;+&nbsp;site_</span> <span class="U2">name&nbsp;+&nbsp;"&nbsp;&nbsp;</span> <span class="U2">--&nbsp;&nbsp;Expect</span> <span class="U2">ed&nbsp;RDK&nbsp;dom</span> <span class="U2">ain:&nbsp;"&nbsp;+&nbsp;e</span> <span class="U2">xpected_do</span> <span class="U2">main.to_s&nbsp;</span> <span class="U2">+&nbsp;"&nbsp;&nbsp;--&nbsp;&nbsp;E</span> <span class="U2">xpected&nbsp;JD</span> <span class="U2">S&nbsp;domain:&nbsp;</span> <span class="U2">"&nbsp;+&nbsp;run_ti</span> <span class="U2">me_domian.</span> <span class="U2">to_s&nbsp;+&nbsp;".&nbsp;</span> <span class="U2">\n"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">245</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">246</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;return&nbsp;e</span> <span class="U2">rror_mesg</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">247</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
   </tbody>
  </table> 
  <p class="copyright" style="margin-top: 25px; padding-top: 2px; border-top: solid #a0a0a0 1px; max-width: none;">Araxis Merge (but not the data content of this report) is Copyright Â© 1993-2016 Araxis Ltd (<a href="http://www.araxis.com/" title="Link to the Araxis corporate web site">www.araxis.com</a>). All rights reserved.</p>   
 </body>
</html>