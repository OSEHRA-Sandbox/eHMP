<!--?xml version="1.0"?--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:mg="http://www.araxis.com/2002/Merge/Reporting" xmlns="http://www.w3.org/1999/xhtml">
 <head> 
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> 
  <!--The layout and design of this report is Copyright Â© 2003-2016 Araxis Ltd. All rights reserved.--> 
  <!--The copyright of the data content of this report belongs to the relevant copyright holders.--> 
  <title>2329. EPMO Open Source Coordination Office Redaction File Detail Report</title> 
  <style type="text/css">
body { background: #fff;  color: #000; margin: 0px 14px 14px 14px; }
h1, h2, h3, h4, h5 {
  padding: 0em;
  margin: 1.5em 0em .25em 0em;
  text-align: left;
  font-weight: normal;
  font-family: Arial, Helvetica, sans-serif;
  font-size: 70%;
  max-width: 55em;
}
body, h4, h5, p, ol, ul, li, td, th { font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left; }

h4, h5, p, ol, ul, li { font-size: 70%; }
input {
  font-family: Arial, Helvetica, sans-serif;
  font-size: 120%;
}

h1 { margin: 14px 0em 1.2em 0em; font-size: 112%; line-height: 130%;}
h2 { font-size: 125%; line-height: 84%;}
h3 { margin-top: 1.4em; font-size: 81%; }
h4 { margin-top: 1em; font-size: 70%; }
h5 { margin-top: 1em; font-size: 100%; font-style: italic;}
h1 strong, h2 strong, h3 strong, h4 strong { font-weight: bold; }

p { margin: 6px 0em 6px 0em; max-width: 55em;}
p.code, code {}
p { font-size: 70%; line-height: 125%; }
table { font-size: 70%;}

p.copyright, .small { font-size: 60%; line-height: 120%; }
p.copyright { margin: 3px 0px 0px 0px; padding: 0px; text-align: left; }
acronym { font-variant: small-caps; }
div.pad { padding: 3px; }
span.lineEndings { color: red; font-size: 70%; }

table.mgRowGroup, table.mgRowGroupFolder { border: 1px solid #a0a0a0; margin: 10px 0px 10px 0px; width: 100%; table-layout: fixed; border-collapse: collapse; }
table.mgRowGroup td { vertical-align: top; padding: 0; }
table.mgRowGroupFolder td { vertical-align: top; padding: 1px 0 1px 0; }
div.IP { width: 2px; height: 1em; float: left; }

img.mgFldrIcon {float: left; text-align: left; margin: -1px 2px 0px 0px;  height: 16px; width: 16px; border: none; vertical-align: top; background-color: transparent;}
div.mgFldrIcon {float: left; width: auto;}
span.left {float: left;width: auto;}
span.right {float: right;width: auto;}

table.bordered { border-collapse: collapse; border: 1px solid #a0a0a0; margin: 10px 0px 10px 0px;}
table.bordered th, table.bordered td { vertical-align: top; padding: 3px; border: 1px solid #a0a0a0;}
table.bordered th { background-color: #e5e5e5; }
table.bordered td.group { background-color: #f5f5f5; }
span.disabledNavigation { color: #a0a0a0; }
div.navigation { margin-top: 14px; font-size: 70%; }
div.comment { font-weight: normal; color: #000; font-family: Verdana, Arial, Helvetica, sans-serif; background-color: #fcfed8; padding: 2px 5px 2px 5px; border: 1px solid #E3E5C3; margin: 1px 2px 3px 2px; -moz-border-radius: 7px; border-radius: 7px; }

                span.U1, span.U1 a {float: left; width: auto;color: #000000; background-color: #FFFFFF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.U1 a {text-decoration: underline;}
td.U1 {color: #000000; background-color: #FFFFFF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.R1, span.R1 a {float: left; width: auto;color: #800000; background-color: #F3E6D8; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.R1 a {text-decoration: underline;}
td.R1 {color: #800000; background-color: #F3E6D8; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.I1, span.I1 a {float: left; width: auto;color: #800000; background-color: #D1E8CF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.I1 a {text-decoration: underline;}
td.I1 {color: #800000; background-color: #D1E8CF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.C1, span.C1 a {float: left; width: auto;color: #800000; background-color: #DACDE6; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.C1 a {text-decoration: underline;}
td.C1 {color: #800000; background-color: #DACDE6; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
td.nbgC1 {color: #800000; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; background-color: #FFFFFF; }
span.U2, span.U2 a {float: left; width: auto;color: #000000; background-color: #FFFFFF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.U2 a {text-decoration: underline;}
td.U2 {color: #000000; background-color: #FFFFFF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.R2, span.R2 a {float: left; width: auto;color: #800000; background-color: #F3E6D8; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.R2 a {text-decoration: underline;}
td.R2 {color: #800000; background-color: #F3E6D8; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.I2, span.I2 a {float: left; width: auto;color: #800000; background-color: #D1E8CF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.I2 a {text-decoration: underline;}
td.I2 {color: #800000; background-color: #D1E8CF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.C2, span.C2 a {float: left; width: auto;color: #800000; background-color: #DACDE6; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.C2 a {text-decoration: underline;}
td.C2 {color: #800000; background-color: #DACDE6; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
td.nbgC2 {color: #800000; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; background-color: #FFFFFF; }

span.selected {background-color: #3d80df; color: #fff;}
span.selected a {background-color: #3d80df; color: #fff; text-decoration: underline;}
span.symbol {cursor: pointer;}
      </style> 
 </head> 
 <body> 
  <h1><strong>2329. EPMO Open Source Coordination Office Redaction File Detail Report</strong></h1> 
  <p>Produced by <strong>Araxis Merge</strong> on <strong>10/13/2017 11:30:55 AM Central Daylight Time</strong>. See <a href="http://www.araxis.com/" title="Link to the Araxis corporate web site">www.araxis.com</a> for information about Merge. This report uses XHTML and CSS2, and is best viewed with a modern standards-compliant browser. For optimum results when printing this report, use landscape orientation and enable printing of background images and colours in your browser.</p> 
  <h3><strong>2329.1&nbsp;Files compared</strong></h3> 
  <table class="bordered"> 
   <tbody>
    <tr> 
     <th>#</th> 
     <th>Location</th> 
     <th>File</th> 
     <th>Last Modified</th> 
    </tr> 
    <tr> 
     <td>1</td> 
     <td>ehmp.zip\rdk\rdk\product\tests\acceptance-tests\features\steps</td> 
     <td>permissions-add-inv.rb</td> 
     <td>Wed Sep 6 17:14:38 2017 UTC</td> 
    </tr> 
    <tr> 
     <td>2</td> 
     <td>ehmp.zip\rdk\rdk\product\tests\acceptance-tests\features\steps</td> 
     <td>permissions-add-inv.rb</td> 
     <td>Tue Oct 10 18:47:59 2017 UTC</td> 
    </tr> 
   </tbody>
  </table> 
  <h3><strong>2329.2&nbsp;Comparison summary</strong></h3> 
  <table class="bordered"> 
   <tbody>
    <tr> 
     <th rowspan="2" style="vertical-align: bottom;">Description</th> 
     <th colspan="2">Between<br>Files 1 and 2</th> 
    </tr> 
    <tr> 
     <th style="text-align: right;">Text Blocks</th> 
     <th style="text-align: right;">Lines</th> 
    </tr> 
    <tr> 
     <td>Unchanged</td> 
     <td style="text-align: right;">8</td> 
     <td style="text-align: right;">428</td> 
    </tr> 
    <tr> 
     <td>Changed</td> 
     <td style="text-align: right;">7</td> 
     <td style="text-align: right;">14</td> 
    </tr> 
    <tr> 
     <td>Inserted</td> 
     <td style="text-align: right;">0</td> 
     <td style="text-align: right;">0</td> 
    </tr> 
    <tr> 
     <td>Removed</td> 
     <td style="text-align: right;">0</td> 
     <td style="text-align: right;">0</td> 
    </tr> 
   </tbody>
  </table> 
  <h3><strong>2329.3&nbsp;Comparison options</strong></h3> 
  <table class="bordered" style="width: 55em;"> 
   <tbody>
    <tr> 
     <th>Whitespace</th> 
     <td></td> 
    </tr> 
    <tr> 
     <th>Character case</th> 
     <td>Differences in character case are significant</td> 
    </tr> 
    <tr> 
     <th>Line endings</th> 
     <td>Differences in line endings (<code>CR</code> and <code>LF</code> characters) are ignored</td> 
    </tr> 
    <tr> 
     <th>CR/LF characters</th> 
     <td>Not shown in the comparison detail</td> 
    </tr> 
   </tbody>
  </table> 
  <h3><strong>2329.4&nbsp;Active regular expressions</strong></h3> 
  <p>No regular expressions were active.</p> 
  <h3><strong>2329.5&nbsp;Comparison detail</strong></h3> 
  <table class="mgRowGroup"> 
   <colgroup>
    <col style="width: 5em;"> 
    <col style="width: 1em;"> 
    <col width="*"> 
    <col style="width: 1em;"> 
    <col style="width: 5em;"> 
    <col style="width: 1em;"> 
    <col width="*"> 
   </colgroup>
   <tbody>
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">1</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">After('@Re</span> <span class="U2">move_all_P</span> <span class="U2">ermission_</span> <span class="U2">Sets_Indiv</span> <span class="U2">idual')&nbsp;do</span> <span class="U2">&nbsp;|&nbsp;scenari</span> <span class="U2">o&nbsp;|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">2</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(@</span> <span class="U2">save_singl</span> <span class="U2">e_to_repla</span> <span class="U2">ce).to_not</span> <span class="U2">&nbsp;be_nil,&nbsp;"</span> <span class="U2">Expected&nbsp;s</span> <span class="U2">cenario&nbsp;@R</span> <span class="U2">emove_all_</span> <span class="U2">Permission</span> <span class="U2">_Sets_Indi</span> <span class="U2">vidual&nbsp;to&nbsp;</span> <span class="U2">set&nbsp;variab</span> <span class="U2">le&nbsp;@save_s</span> <span class="U2">ingle_to_r</span> <span class="U2">eplace&nbsp;for</span> <span class="U2">&nbsp;clean&nbsp;up"</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">3</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;#&nbsp;Adding</span> <span class="U2">&nbsp;random&nbsp;pe</span> <span class="U2">rmissions</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">4</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;permissi</span> <span class="U2">on_name&nbsp;=&nbsp;</span> <span class="U2">'intern'</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">5</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;addition</span> <span class="U2">al_permiss</span> <span class="U2">ions&nbsp;=&nbsp;'re</span> <span class="U2">view-resul</span> <span class="U2">t-consult-</span> <span class="U2">order'</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">6</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('perm</span> <span class="U2">ission-set</span> <span class="U2">s-bulk-edi</span> <span class="U2">t')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">7</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">8</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('users</span> <span class="U2">',&nbsp;@save_s</span> <span class="U2">ingle_to_r</span> <span class="U2">eplace.to_</span> <span class="U2">json)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">9</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('permi</span> <span class="U2">ssionSets'</span> <span class="U2">,&nbsp;[permiss</span> <span class="U2">ion_name].</span> <span class="U2">to_s)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">10</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('addit</span> <span class="U2">ionalPermi</span> <span class="U2">ssions',&nbsp;[</span> <span class="U2">additional</span> <span class="U2">_permissio</span> <span class="U2">ns].to_s)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">11</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('mode'</span> <span class="U2">,&nbsp;'add')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">12</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">13</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">14</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">15</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;#&nbsp;reset&nbsp;</span> <span class="U2">to&nbsp;nil&nbsp;so&nbsp;</span> <span class="U2">don't&nbsp;acci</span> <span class="U2">dently&nbsp;res</span> <span class="U2">use</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">16</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@save_si</span> <span class="U2">ngle_to_re</span> <span class="U2">place&nbsp;=&nbsp;ni</span> <span class="U2">l&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">17</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">@response&nbsp;</span> <span class="U2">=&nbsp;HTTParty</span> <span class="U2">RDK.put_as</span> <span class="U2">_user(path</span> <span class="U2">,&nbsp;"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;</span> <span class="C2">USER&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">",&nbsp;"</span> <span class="C2">PW&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">")</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">18</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(@</span> <span class="U2">response.c</span> <span class="U2">ode).to&nbsp;eq</span> <span class="U2">(200),&nbsp;"Wa</span> <span class="U2">s&nbsp;not&nbsp;able</span> <span class="U2">&nbsp;to&nbsp;reset&nbsp;</span> <span class="U2">permission</span> <span class="U2">s,&nbsp;next&nbsp;te</span> <span class="U2">st&nbsp;run&nbsp;may</span> <span class="U2">&nbsp;fail:&nbsp;#{@</span> <span class="U2">response.b</span> <span class="U2">ody}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">19</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">20</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">21</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">After('@mu</span> <span class="U2">tli_user_r</span> <span class="U2">emove_all'</span> <span class="U2">)&nbsp;do&nbsp;|&nbsp;sce</span> <span class="U2">nario&nbsp;|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">22</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(@</span> <span class="U2">save_bulk_</span> <span class="U2">to_replace</span> <span class="U2">).to_not&nbsp;b</span> <span class="U2">e_nil,&nbsp;"Ex</span> <span class="U2">pected&nbsp;sce</span> <span class="U2">nario&nbsp;@mut</span> <span class="U2">li_user_re</span> <span class="U2">move_all&nbsp;t</span> <span class="U2">o&nbsp;set&nbsp;vari</span> <span class="U2">able&nbsp;@save</span> <span class="U2">_bulk_to_r</span> <span class="U2">eplace&nbsp;for</span> <span class="U2">&nbsp;clean&nbsp;up"</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">23</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;permissi</span> <span class="U2">on_name&nbsp;=&nbsp;</span> <span class="U2">'intern'</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">24</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('perm</span> <span class="U2">ission-set</span> <span class="U2">s-bulk-edi</span> <span class="U2">t')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">25</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">26</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('users</span> <span class="U2">',&nbsp;@save_b</span> <span class="U2">ulk_to_rep</span> <span class="U2">lace.to_js</span> <span class="U2">on)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">27</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('permi</span> <span class="U2">ssionSets'</span> <span class="U2">,&nbsp;[permiss</span> <span class="U2">ion_name].</span> <span class="U2">to_s)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">28</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('addit</span> <span class="U2">ionalPermi</span> <span class="U2">ssions',&nbsp;[</span> <span class="U2">].to_s)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">29</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('mode'</span> <span class="U2">,&nbsp;'add')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">30</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">31</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">32</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;#&nbsp;reset&nbsp;</span> <span class="U2">to&nbsp;nil&nbsp;so&nbsp;</span> <span class="U2">don't&nbsp;acci</span> <span class="U2">dently&nbsp;res</span> <span class="U2">use</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">33</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@save_bu</span> <span class="U2">lk_to_repl</span> <span class="U2">ace&nbsp;=&nbsp;nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">34</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">@response&nbsp;</span> <span class="U2">=&nbsp;HTTParty</span> <span class="U2">RDK.put_as</span> <span class="U2">_user(path</span> <span class="U2">,&nbsp;"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;</span> <span class="C2">USER&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">",&nbsp;"</span> <span class="C2">PW&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">")</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">35</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(@</span> <span class="U2">response.c</span> <span class="U2">ode).to&nbsp;eq</span> <span class="U2">(200),&nbsp;"Wa</span> <span class="U2">s&nbsp;not&nbsp;able</span> <span class="U2">&nbsp;to&nbsp;reset&nbsp;</span> <span class="U2">permission</span> <span class="U2">s,&nbsp;next&nbsp;te</span> <span class="U2">st&nbsp;run&nbsp;may</span> <span class="U2">&nbsp;fail:&nbsp;#{@</span> <span class="U2">response.b</span> <span class="U2">ody}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">36</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">37</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">38</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^cli</span> <span class="U2">ent&nbsp;update</span> <span class="U2">s&nbsp;single&nbsp;u</span> <span class="U2">ser&nbsp;to&nbsp;rem</span> <span class="U2">ove&nbsp;all&nbsp;pe</span> <span class="U2">rmissions$</span> <span class="U2">/)&nbsp;do&nbsp;|tab</span> <span class="U2">le|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">39</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;query&nbsp;=&nbsp;</span> <span class="U2">RDKQuery.n</span> <span class="U2">ew('permis</span> <span class="U2">sion-sets-</span> <span class="U2">edit')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">40</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;user_has</span> <span class="U2">h&nbsp;=&nbsp;{}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">41</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|&nbsp;key,&nbsp;va</span> <span class="U2">lue&nbsp;|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">42</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;user_h</span> <span class="U2">ash[key]&nbsp;=</span> <span class="U2">&nbsp;value</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">43</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">44</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">45</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;user_has</span> <span class="U2">h['permiss</span> <span class="U2">ions']&nbsp;=&nbsp;[</span> <span class="U2">]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">46</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;query.ad</span> <span class="U2">d_paramete</span> <span class="U2">r('user',&nbsp;</span> <span class="U2">user_hash.</span> <span class="U2">to_json)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">47</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;query.ad</span> <span class="U2">d_paramete</span> <span class="U2">r('permiss</span> <span class="U2">ionSets',&nbsp;</span> <span class="U2">[].to_s)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">48</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;query.ad</span> <span class="U2">d_paramete</span> <span class="U2">r('additio</span> <span class="U2">nalPermiss</span> <span class="U2">ions',&nbsp;[].</span> <span class="U2">to_s)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">49</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;q</span> <span class="U2">uery.path</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">50</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">@response&nbsp;</span> <span class="U2">=&nbsp;HTTParty</span> <span class="U2">RDK.put_as</span> <span class="U2">_user(path</span> <span class="U2">,&nbsp;"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;</span> <span class="C2">USER&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">",&nbsp;"</span> <span class="C2">PW&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">")</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">51</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">52</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">53</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">class&nbsp;Perm</span> <span class="U2">issionsAct</span> <span class="U2">ions</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">54</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;extend&nbsp;:</span> <span class="U2">:RSpec::Ma</span> <span class="U2">tchers</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">55</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;def&nbsp;self</span> <span class="U2">.get_user_</span> <span class="U2">permission</span> <span class="U2">s(firstnam</span> <span class="U2">e,&nbsp;lastnam</span> <span class="U2">e,&nbsp;inactiv</span> <span class="U2">e&nbsp;=&nbsp;false)</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">56</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;reques</span> <span class="U2">t&nbsp;=&nbsp;RDKQue</span> <span class="U2">ry.new('us</span> <span class="U2">er-service</span> <span class="U2">-userlist'</span> <span class="U2">)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">57</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;user_h</span> <span class="U2">ash&nbsp;=&nbsp;{&nbsp;'f</span> <span class="U2">irstName'&nbsp;</span> <span class="U2">=&gt;&nbsp;firstna</span> <span class="U2">me,&nbsp;'lastN</span> <span class="U2">ame'&nbsp;=&gt;&nbsp;la</span> <span class="U2">stname&nbsp;}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">58</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;reques</span> <span class="U2">t.add_para</span> <span class="U2">meter('use</span> <span class="U2">r.filter',</span> <span class="U2">&nbsp;user_hash</span> <span class="U2">.to_json)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">59</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;reques</span> <span class="U2">t.add_para</span> <span class="U2">meter('pag</span> <span class="U2">e',&nbsp;'1')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">60</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;reques</span> <span class="U2">t.add_para</span> <span class="U2">meter('lim</span> <span class="U2">it',&nbsp;'50')</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">61</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;reques</span> <span class="U2">t.add_para</span> <span class="U2">meter('sho</span> <span class="U2">w.vista.in</span> <span class="U2">active',&nbsp;'</span> <span class="U2">true')&nbsp;if&nbsp;</span> <span class="U2">inactive</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">62</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;reques</span> <span class="U2">t.add_para</span> <span class="U2">meter('sho</span> <span class="U2">w.ehmp.ina</span> <span class="U2">ctive',&nbsp;'t</span> <span class="U2">rue')&nbsp;if&nbsp;i</span> <span class="U2">nactive</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">63</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;path&nbsp;=</span> <span class="U2">&nbsp;request.p</span> <span class="U2">ath</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">64</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;</span> <span class="U2">HTTPartyRD</span> <span class="U2">K.get_as_u</span> <span class="U2">ser(path,&nbsp;</span> <span class="U2">"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;</span> <span class="C2">USER&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">",&nbsp;"</span> <span class="C2">PW&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">")</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">65</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">66</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">67</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;def&nbsp;self</span> <span class="U2">.parse_per</span> <span class="U2">mission_se</span> <span class="U2">ts(user_ha</span> <span class="U2">sh)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">68</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(user_hash</span> <span class="U2">['permissi</span> <span class="U2">onSet']).t</span> <span class="U2">o_not&nbsp;be_n</span> <span class="U2">il,&nbsp;"permi</span> <span class="U2">ssionSet&nbsp;n</span> <span class="U2">il:&nbsp;#{user</span> <span class="U2">_hash}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">69</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(user_hash</span> <span class="U2">['permissi</span> <span class="U2">onSet']['v</span> <span class="U2">al']).to_n</span> <span class="U2">ot&nbsp;be_nil,</span> <span class="U2">&nbsp;"permissi</span> <span class="U2">onSet,&nbsp;val</span> <span class="U2">&nbsp;nil:&nbsp;#{us</span> <span class="U2">er_hash}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">70</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;user_h</span> <span class="U2">ash['permi</span> <span class="U2">ssionSet']</span> <span class="U2">['val']</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">71</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">72</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">73</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;def&nbsp;self</span> <span class="U2">.parse_add</span> <span class="U2">itional_se</span> <span class="U2">ts(user_ha</span> <span class="U2">sh)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">74</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(user_hash</span> <span class="U2">['permissi</span> <span class="U2">onSet']).t</span> <span class="U2">o_not&nbsp;be_n</span> <span class="U2">il,&nbsp;"permi</span> <span class="U2">ssionSet&nbsp;n</span> <span class="U2">il:&nbsp;#{user</span> <span class="U2">_hash}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">75</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(user_hash</span> <span class="U2">['permissi</span> <span class="U2">onSet']['a</span> <span class="U2">dditionalP</span> <span class="U2">ermissions</span> <span class="U2">']).to_not</span> <span class="U2">&nbsp;be_nil,&nbsp;"</span> <span class="U2">permission</span> <span class="U2">Set,&nbsp;addit</span> <span class="U2">ionalPermi</span> <span class="U2">ssions&nbsp;nil</span> <span class="U2">:&nbsp;#{user_h</span> <span class="U2">ash}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">76</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;user_h</span> <span class="U2">ash['permi</span> <span class="U2">ssionSet']</span> <span class="U2">['addition</span> <span class="U2">alPermissi</span> <span class="U2">ons']</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">77</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">78</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">79</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">80</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Given(/^a&nbsp;</span> <span class="U2">user&nbsp;has&nbsp;a</span> <span class="U2">t&nbsp;least&nbsp;1&nbsp;</span> <span class="U2">permission</span> <span class="U2">&nbsp;set&nbsp;and&nbsp;1</span> <span class="U2">&nbsp;additiona</span> <span class="U2">l&nbsp;permissi</span> <span class="U2">on&nbsp;for&nbsp;use</span> <span class="U2">r&nbsp;"([^"]*)</span> <span class="U2">",&nbsp;"([^"]*</span> <span class="U2">)"$/)&nbsp;do&nbsp;|</span> <span class="U2">lastname,&nbsp;</span> <span class="U2">firstname|</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">81</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;Permis</span> <span class="U2">sionsActio</span> <span class="U2">ns.get_use</span> <span class="U2">r_permissi</span> <span class="U2">ons&nbsp;firstn</span> <span class="U2">ame,&nbsp;lastn</span> <span class="U2">ame,&nbsp;true</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">82</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(@</span> <span class="U2">response.c</span> <span class="U2">ode).to&nbsp;eq</span> <span class="U2">(200),&nbsp;"#{</span> <span class="U2">@response.</span> <span class="U2">body}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">83</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;body&nbsp;=&nbsp;J</span> <span class="U2">SON.parse(</span> <span class="U2">@response.</span> <span class="U2">body)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">84</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(b</span> <span class="U2">ody['data'</span> <span class="U2">]).to_not&nbsp;</span> <span class="U2">be_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">85</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(b</span> <span class="U2">ody['data'</span> <span class="U2">].length).</span> <span class="U2">to&nbsp;eq(1)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">86</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;set_arra</span> <span class="U2">y&nbsp;=&nbsp;Permis</span> <span class="U2">sionsActio</span> <span class="U2">ns.parse_p</span> <span class="U2">ermission_</span> <span class="U2">sets&nbsp;body[</span> <span class="U2">'data'][0]</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">87</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;addition</span> <span class="U2">al_array&nbsp;=</span> <span class="U2">&nbsp;Permissio</span> <span class="U2">nsActions.</span> <span class="U2">parse_addi</span> <span class="U2">tional_set</span> <span class="U2">s&nbsp;body['da</span> <span class="U2">ta'][0]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">88</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">89</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(s</span> <span class="U2">et_array.l</span> <span class="U2">ength).to&nbsp;</span> <span class="U2">be&nbsp;&gt;&nbsp;0</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">90</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(a</span> <span class="U2">dditional_</span> <span class="U2">array.leng</span> <span class="U2">th).to&nbsp;be&nbsp;</span> <span class="U2">&gt;&nbsp;0</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">91</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">92</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">93</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Given(/^us</span> <span class="U2">er&nbsp;"([^"]*</span> <span class="U2">)",&nbsp;"([^"]</span> <span class="U2">*)"&nbsp;does&nbsp;n</span> <span class="U2">ot&nbsp;have&nbsp;pe</span> <span class="U2">rmission&nbsp;s</span> <span class="U2">et&nbsp;"([^"]*</span> <span class="U2">)"$/)&nbsp;do&nbsp;|</span> <span class="U2">lastname,&nbsp;</span> <span class="U2">firstname,</span> <span class="U2">&nbsp;permissio</span> <span class="U2">n_name|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">94</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;Permis</span> <span class="U2">sionsActio</span> <span class="U2">ns.get_use</span> <span class="U2">r_permissi</span> <span class="U2">ons&nbsp;firstn</span> <span class="U2">ame,&nbsp;lastn</span> <span class="U2">ame,&nbsp;true</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">95</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(@</span> <span class="U2">response.c</span> <span class="U2">ode).to&nbsp;eq</span> <span class="U2">(200),&nbsp;"#{</span> <span class="U2">@response.</span> <span class="U2">body}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">96</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;body&nbsp;=&nbsp;J</span> <span class="U2">SON.parse(</span> <span class="U2">@response.</span> <span class="U2">body)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">97</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(b</span> <span class="U2">ody['data'</span> <span class="U2">]).to_not&nbsp;</span> <span class="U2">be_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">98</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(b</span> <span class="U2">ody['data'</span> <span class="U2">].length).</span> <span class="U2">to&nbsp;eq(1)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">99</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;set_arra</span> <span class="U2">y&nbsp;=&nbsp;Permis</span> <span class="U2">sionsActio</span> <span class="U2">ns.parse_p</span> <span class="U2">ermission_</span> <span class="U2">sets&nbsp;body[</span> <span class="U2">'data'][0]</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">100</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">101</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(s</span> <span class="U2">et_array).</span> <span class="U2">to_not&nbsp;inc</span> <span class="U2">lude&nbsp;permi</span> <span class="U2">ssion_name</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">102</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">103</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">104</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^cli</span> <span class="U2">ent&nbsp;update</span> <span class="U2">s&nbsp;users&nbsp;to</span> <span class="U2">&nbsp;add&nbsp;permi</span> <span class="U2">ssion&nbsp;set&nbsp;</span> <span class="U2">"([^"]*)"$</span> <span class="U2">/)&nbsp;do&nbsp;|per</span> <span class="U2">mission_na</span> <span class="U2">me,&nbsp;table|</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">105</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('perm</span> <span class="U2">ission-set</span> <span class="U2">s-bulk-edi</span> <span class="U2">t')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">106</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;user_arr</span> <span class="U2">ay&nbsp;=&nbsp;[]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">107</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|&nbsp;first,&nbsp;</span> <span class="U2">last,&nbsp;uid&nbsp;</span> <span class="U2">|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">108</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;user_h</span> <span class="U2">ash&nbsp;=&nbsp;{&nbsp;'f</span> <span class="U2">name'&nbsp;=&gt;&nbsp;f</span> <span class="U2">irst.upcas</span> <span class="U2">e,&nbsp;'lname'</span> <span class="U2">&nbsp;=&gt;&nbsp;last.u</span> <span class="U2">pcase,&nbsp;'ui</span> <span class="U2">d'&nbsp;=&gt;&nbsp;uid&nbsp;</span> <span class="U2">}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">109</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;user_a</span> <span class="U2">rray.push(</span> <span class="U2">user_hash)</span> <span class="U2">#.to_json)</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">110</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">111</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('users</span> <span class="U2">',&nbsp;user_ar</span> <span class="U2">ray.to_jso</span> <span class="U2">n)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">112</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('permi</span> <span class="U2">ssionSets'</span> <span class="U2">,&nbsp;[permiss</span> <span class="U2">ion_name].</span> <span class="U2">to_s)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">113</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('addit</span> <span class="U2">ionalPermi</span> <span class="U2">ssions',&nbsp;[</span> <span class="U2">].to_s)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">114</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('mode'</span> <span class="U2">,&nbsp;'add')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">115</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">116</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">117</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">@response&nbsp;</span> <span class="U2">=&nbsp;HTTParty</span> <span class="U2">RDK.put_as</span> <span class="U2">_user(path</span> <span class="U2">,&nbsp;"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;</span> <span class="C2">USER&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">",&nbsp;"</span> <span class="C2">PW&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">")</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">118</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">119</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">120</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^cli</span> <span class="U2">ent&nbsp;update</span> <span class="U2">s&nbsp;users&nbsp;to</span> <span class="U2">&nbsp;remove&nbsp;pe</span> <span class="U2">rmission&nbsp;s</span> <span class="U2">et&nbsp;"([^"]*</span> <span class="U2">)"$/)&nbsp;do&nbsp;|</span> <span class="U2">permission</span> <span class="U2">_name,&nbsp;tab</span> <span class="U2">le|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">121</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('perm</span> <span class="U2">ission-set</span> <span class="U2">s-bulk-edi</span> <span class="U2">t')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">122</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;user_arr</span> <span class="U2">ay&nbsp;=&nbsp;[]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">123</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|&nbsp;first,&nbsp;</span> <span class="U2">last,&nbsp;uid&nbsp;</span> <span class="U2">|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">124</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;user_h</span> <span class="U2">ash&nbsp;=&nbsp;{&nbsp;'f</span> <span class="U2">name'&nbsp;=&gt;&nbsp;f</span> <span class="U2">irst.upcas</span> <span class="U2">e,&nbsp;'lname'</span> <span class="U2">&nbsp;=&gt;&nbsp;last.u</span> <span class="U2">pcase,&nbsp;'ui</span> <span class="U2">d'&nbsp;=&gt;&nbsp;uid&nbsp;</span> <span class="U2">}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">125</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;user_a</span> <span class="U2">rray.push(</span> <span class="U2">user_hash)</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">126</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">127</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('users</span> <span class="U2">',&nbsp;user_ar</span> <span class="U2">ray.to_jso</span> <span class="U2">n)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">128</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('permi</span> <span class="U2">ssionSets'</span> <span class="U2">,&nbsp;[permiss</span> <span class="U2">ion_name].</span> <span class="U2">to_s)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">129</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('addit</span> <span class="U2">ionalPermi</span> <span class="U2">ssions',&nbsp;[</span> <span class="U2">].to_s)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">130</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('mode'</span> <span class="U2">,&nbsp;'remove'</span> <span class="U2">)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">131</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">132</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">133</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">@response&nbsp;</span> <span class="U2">=&nbsp;HTTParty</span> <span class="U2">RDK.put_as</span> <span class="U2">_user(path</span> <span class="U2">,&nbsp;"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;</span> <span class="C2">USER&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">",&nbsp;"</span> <span class="C2">PW&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">")</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">134</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">135</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">136</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^use</span> <span class="U2">r&nbsp;"([^"]*)</span> <span class="U2">",&nbsp;"([^"]*</span> <span class="U2">)"&nbsp;has&nbsp;per</span> <span class="U2">mission&nbsp;se</span> <span class="U2">t&nbsp;"([^"]*)</span> <span class="U2">"$/)&nbsp;do&nbsp;|l</span> <span class="U2">astname,&nbsp;f</span> <span class="U2">irstname,&nbsp;</span> <span class="U2">permission</span> <span class="U2">_name|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">137</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;Permis</span> <span class="U2">sionsActio</span> <span class="U2">ns.get_use</span> <span class="U2">r_permissi</span> <span class="U2">ons&nbsp;firstn</span> <span class="U2">ame,&nbsp;lastn</span> <span class="U2">ame</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">138</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(@</span> <span class="U2">response.c</span> <span class="U2">ode).to&nbsp;eq</span> <span class="U2">(200),&nbsp;"#{</span> <span class="U2">@response.</span> <span class="U2">body}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">139</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;body&nbsp;=&nbsp;J</span> <span class="U2">SON.parse(</span> <span class="U2">@response.</span> <span class="U2">body)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">140</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(b</span> <span class="U2">ody['data'</span> <span class="U2">]).to_not&nbsp;</span> <span class="U2">be_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">141</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(b</span> <span class="U2">ody['data'</span> <span class="U2">].length).</span> <span class="U2">to&nbsp;eq(1)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">142</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;set_arra</span> <span class="U2">y&nbsp;=&nbsp;Permis</span> <span class="U2">sionsActio</span> <span class="U2">ns.parse_p</span> <span class="U2">ermission_</span> <span class="U2">sets&nbsp;body[</span> <span class="U2">'data'][0]</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">143</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">144</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(s</span> <span class="U2">et_array).</span> <span class="U2">to&nbsp;include</span> <span class="U2">&nbsp;permissio</span> <span class="U2">n_name</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">145</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">146</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">147</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Given(/^us</span> <span class="U2">er&nbsp;"([^"]*</span> <span class="U2">)",&nbsp;"([^"]</span> <span class="U2">*)"&nbsp;has&nbsp;at</span> <span class="U2">&nbsp;least&nbsp;one</span> <span class="U2">&nbsp;permissio</span> <span class="U2">n&nbsp;\(&nbsp;set&nbsp;o</span> <span class="U2">r&nbsp;individu</span> <span class="U2">al&nbsp;\)$/)&nbsp;d</span> <span class="U2">o&nbsp;|lastnam</span> <span class="U2">e,&nbsp;firstna</span> <span class="U2">me|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">148</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;Permis</span> <span class="U2">sionsActio</span> <span class="U2">ns.get_use</span> <span class="U2">r_permissi</span> <span class="U2">ons&nbsp;firstn</span> <span class="U2">ame,&nbsp;lastn</span> <span class="U2">ame</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">149</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(@</span> <span class="U2">response.c</span> <span class="U2">ode).to&nbsp;eq</span> <span class="U2">(200),&nbsp;"#{</span> <span class="U2">@response.</span> <span class="U2">body}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">150</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;body&nbsp;=&nbsp;J</span> <span class="U2">SON.parse(</span> <span class="U2">@response.</span> <span class="U2">body)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">151</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(b</span> <span class="U2">ody['data'</span> <span class="U2">]).to_not&nbsp;</span> <span class="U2">be_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">152</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(b</span> <span class="U2">ody['data'</span> <span class="U2">].length).</span> <span class="U2">to&nbsp;eq(1)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">153</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;set_arra</span> <span class="U2">y&nbsp;=&nbsp;Permis</span> <span class="U2">sionsActio</span> <span class="U2">ns.parse_p</span> <span class="U2">ermission_</span> <span class="U2">sets&nbsp;body[</span> <span class="U2">'data'][0]</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">154</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;addition</span> <span class="U2">al_array&nbsp;=</span> <span class="U2">&nbsp;Permissio</span> <span class="U2">nsActions.</span> <span class="U2">parse_addi</span> <span class="U2">tional_set</span> <span class="U2">s&nbsp;body['da</span> <span class="U2">ta'][0]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">155</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">156</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;combined</span> <span class="U2">_permissio</span> <span class="U2">ns&nbsp;=&nbsp;set_a</span> <span class="U2">rray&nbsp;+&nbsp;add</span> <span class="U2">itional_ar</span> <span class="U2">ray</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">157</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">158</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(c</span> <span class="U2">ombined_pe</span> <span class="U2">rmissions.</span> <span class="U2">length).to</span> <span class="U2">&nbsp;be&nbsp;&gt;&nbsp;0</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">159</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">160</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">161</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^use</span> <span class="U2">r&nbsp;"([^"]*)</span> <span class="U2">",&nbsp;"([^"]*</span> <span class="U2">)"&nbsp;has&nbsp;no&nbsp;</span> <span class="U2">permission</span> <span class="U2">s$/)&nbsp;do&nbsp;|l</span> <span class="U2">astname,&nbsp;f</span> <span class="U2">irstname|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">162</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;Permis</span> <span class="U2">sionsActio</span> <span class="U2">ns.get_use</span> <span class="U2">r_permissi</span> <span class="U2">ons&nbsp;firstn</span> <span class="U2">ame,&nbsp;lastn</span> <span class="U2">ame,&nbsp;true</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">163</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(@</span> <span class="U2">response.c</span> <span class="U2">ode).to&nbsp;eq</span> <span class="U2">(200),&nbsp;"#{</span> <span class="U2">@response.</span> <span class="U2">body}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">164</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;body&nbsp;=&nbsp;J</span> <span class="U2">SON.parse(</span> <span class="U2">@response.</span> <span class="U2">body)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">165</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(b</span> <span class="U2">ody['data'</span> <span class="U2">]).to_not&nbsp;</span> <span class="U2">be_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">166</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(b</span> <span class="U2">ody['data'</span> <span class="U2">].length).</span> <span class="U2">to&nbsp;eq(1)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">167</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;set_arra</span> <span class="U2">y&nbsp;=&nbsp;Permis</span> <span class="U2">sionsActio</span> <span class="U2">ns.parse_p</span> <span class="U2">ermission_</span> <span class="U2">sets&nbsp;body[</span> <span class="U2">'data'][0]</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">168</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;addition</span> <span class="U2">al_array&nbsp;=</span> <span class="U2">&nbsp;Permissio</span> <span class="U2">nsActions.</span> <span class="U2">parse_addi</span> <span class="U2">tional_set</span> <span class="U2">s&nbsp;body['da</span> <span class="U2">ta'][0]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">169</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">170</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(s</span> <span class="U2">et_array.l</span> <span class="U2">ength).to&nbsp;</span> <span class="U2">eq(0)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">171</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(a</span> <span class="U2">dditional_</span> <span class="U2">array.leng</span> <span class="U2">th).to&nbsp;eq(</span> <span class="U2">0)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">172</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">173</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">174</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^cli</span> <span class="U2">ent&nbsp;update</span> <span class="U2">s&nbsp;users&nbsp;to</span> <span class="U2">&nbsp;remove&nbsp;al</span> <span class="U2">l&nbsp;permissi</span> <span class="U2">ons$/)&nbsp;do&nbsp;</span> <span class="U2">|table|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">175</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('perm</span> <span class="U2">ission-set</span> <span class="U2">s-bulk-edi</span> <span class="U2">t')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">176</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;user_arr</span> <span class="U2">ay&nbsp;=&nbsp;[]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">177</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;set_to_r</span> <span class="U2">emove&nbsp;=&nbsp;[]</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">178</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;add_perm</span> <span class="U2">_to_remove</span> <span class="U2">&nbsp;=[]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">179</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">180</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|&nbsp;first,&nbsp;</span> <span class="U2">last,&nbsp;uid&nbsp;</span> <span class="U2">|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">181</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;user_h</span> <span class="U2">ash&nbsp;=&nbsp;{&nbsp;'f</span> <span class="U2">name'&nbsp;=&gt;&nbsp;f</span> <span class="U2">irst.upcas</span> <span class="U2">e,&nbsp;'lname'</span> <span class="U2">&nbsp;=&gt;&nbsp;last.u</span> <span class="U2">pcase,&nbsp;'ui</span> <span class="U2">d'&nbsp;=&gt;&nbsp;uid&nbsp;</span> <span class="U2">}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">182</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;user_a</span> <span class="U2">rray.push(</span> <span class="U2">user_hash)</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">183</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">184</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;@respo</span> <span class="U2">nse&nbsp;=&nbsp;Perm</span> <span class="U2">issionsAct</span> <span class="U2">ions.get_u</span> <span class="U2">ser_permis</span> <span class="U2">sions&nbsp;firs</span> <span class="U2">t,&nbsp;last,&nbsp;t</span> <span class="U2">rue</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">185</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(@response</span> <span class="U2">.code).to&nbsp;</span> <span class="U2">eq(200),&nbsp;"</span> <span class="U2">#{@respons</span> <span class="U2">e.body}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">186</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">187</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;body&nbsp;=</span> <span class="U2">&nbsp;JSON.pars</span> <span class="U2">e(@respons</span> <span class="U2">e.body)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">188</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(body['dat</span> <span class="U2">a']).to_no</span> <span class="U2">t&nbsp;be_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">189</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(body['dat</span> <span class="U2">a'].length</span> <span class="U2">).to&nbsp;eq(1)</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">190</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;set_ar</span> <span class="U2">ray&nbsp;=&nbsp;Perm</span> <span class="U2">issionsAct</span> <span class="U2">ions.parse</span> <span class="U2">_permissio</span> <span class="U2">n_sets&nbsp;bod</span> <span class="U2">y['data'][</span> <span class="U2">0]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">191</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;additi</span> <span class="U2">onal_array</span> <span class="U2">&nbsp;=&nbsp;Permiss</span> <span class="U2">ionsAction</span> <span class="U2">s.parse_ad</span> <span class="U2">ditional_s</span> <span class="U2">ets&nbsp;body['</span> <span class="U2">data'][0]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">192</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">193</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;set_to</span> <span class="U2">_remove&nbsp;+=</span> <span class="U2">&nbsp;set_array</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">194</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;add_pe</span> <span class="U2">rm_to_remo</span> <span class="U2">ve&nbsp;+=&nbsp;addi</span> <span class="U2">tional_arr</span> <span class="U2">ay</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">195</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">196</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('users</span> <span class="U2">',&nbsp;user_ar</span> <span class="U2">ray.to_jso</span> <span class="U2">n)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">197</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('permi</span> <span class="U2">ssionSets'</span> <span class="U2">,&nbsp;Set.new(</span> <span class="U2">set_to_rem</span> <span class="U2">ove).to_a.</span> <span class="U2">to_s)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">198</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('addit</span> <span class="U2">ionalPermi</span> <span class="U2">ssions',&nbsp;S</span> <span class="U2">et.new(add</span> <span class="U2">_perm_to_r</span> <span class="U2">emove).to_</span> <span class="U2">a.to_s)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">199</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request.</span> <span class="U2">add_parame</span> <span class="U2">ter('mode'</span> <span class="U2">,&nbsp;'remove'</span> <span class="U2">)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">200</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">201</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">202</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">@response&nbsp;</span> <span class="U2">=&nbsp;HTTParty</span> <span class="U2">RDK.put_as</span> <span class="U2">_user(path</span> <span class="U2">,&nbsp;"</span> <span class="C2">SIT</span> <span class="U2">E</span> <span class="R2"> 
       <div class="IP"> 
       </div> </span> <span class="U2">;</span> <span class="C2">USER&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">",&nbsp;"</span> <span class="C2">PW&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="U2">")</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">203</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">204</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">205</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Given(/^cl</span> <span class="U2">ient&nbsp;is&nbsp;si</span> <span class="U2">ngle&nbsp;updat</span> <span class="U2">ing&nbsp;permis</span> <span class="U2">sions&nbsp;for$</span> <span class="U2">/)&nbsp;do&nbsp;|tab</span> <span class="U2">le|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">206</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;"Save&nbsp;</span> <span class="U2">user&nbsp;to&nbsp;re</span> <span class="U2">place&nbsp;perm</span> <span class="U2">issions&nbsp;af</span> <span class="U2">ter&nbsp;test"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">207</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@save_si</span> <span class="U2">ngle_to_re</span> <span class="U2">place&nbsp;=&nbsp;[]</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">208</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|&nbsp;first,&nbsp;</span> <span class="U2">last,&nbsp;uid&nbsp;</span> <span class="U2">|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">209</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;user_h</span> <span class="U2">ash&nbsp;=&nbsp;{&nbsp;'f</span> <span class="U2">name'&nbsp;=&gt;&nbsp;f</span> <span class="U2">irst.upcas</span> <span class="U2">e,&nbsp;'lname'</span> <span class="U2">&nbsp;=&gt;&nbsp;last.u</span> <span class="U2">pcase,&nbsp;'ui</span> <span class="U2">d'&nbsp;=&gt;&nbsp;uid&nbsp;</span> <span class="U2">}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">210</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;@save_</span> <span class="U2">single_to_</span> <span class="U2">replace.pu</span> <span class="U2">sh(user_ha</span> <span class="U2">sh)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">211</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">212</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">213</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">214</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Given(/^cl</span> <span class="U2">ient&nbsp;is&nbsp;bu</span> <span class="U2">lk&nbsp;updatin</span> <span class="U2">g&nbsp;permissi</span> <span class="U2">ons&nbsp;for$/)</span> <span class="U2">&nbsp;do&nbsp;|table</span> <span class="U2">|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">215</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;"Save&nbsp;</span> <span class="U2">user&nbsp;to&nbsp;re</span> <span class="U2">place&nbsp;perm</span> <span class="U2">issions&nbsp;af</span> <span class="U2">ter&nbsp;test"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">216</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@save_bu</span> <span class="U2">lk_to_repl</span> <span class="U2">ace&nbsp;=&nbsp;[]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">217</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|&nbsp;first,&nbsp;</span> <span class="U2">last,&nbsp;uid&nbsp;</span> <span class="U2">|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">218</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;user_h</span> <span class="U2">ash&nbsp;=&nbsp;{&nbsp;'f</span> <span class="U2">name'&nbsp;=&gt;&nbsp;f</span> <span class="U2">irst.upcas</span> <span class="U2">e,&nbsp;'lname'</span> <span class="U2">&nbsp;=&gt;&nbsp;last.u</span> <span class="U2">pcase,&nbsp;'ui</span> <span class="U2">d'&nbsp;=&gt;&nbsp;uid&nbsp;</span> <span class="U2">}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">219</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;@save_</span> <span class="U2">bulk_to_re</span> <span class="U2">place.push</span> <span class="U2">(user_hash</span> <span class="U2">)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">220</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">221</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
   </tbody>
  </table> 
  <p class="copyright" style="margin-top: 25px; padding-top: 2px; border-top: solid #a0a0a0 1px; max-width: none;">Araxis Merge (but not the data content of this report) is Copyright Â© 1993-2016 Araxis Ltd (<a href="http://www.araxis.com/" title="Link to the Araxis corporate web site">www.araxis.com</a>). All rights reserved.</p>   
 </body>
</html>