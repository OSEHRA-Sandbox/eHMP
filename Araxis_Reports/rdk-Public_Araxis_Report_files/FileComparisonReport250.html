<!--?xml version="1.0"?--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:mg="http://www.araxis.com/2002/Merge/Reporting" xmlns="http://www.w3.org/1999/xhtml">
 <head> 
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> 
  <!--The layout and design of this report is Copyright Â© 2003-2016 Araxis Ltd. All rights reserved.--> 
  <!--The copyright of the data content of this report belongs to the relevant copyright holders.--> 
  <title>250. EPMO Open Source Coordination Office Redaction File Detail Report</title> 
  <style type="text/css">
body { background: #fff;  color: #000; margin: 0px 14px 14px 14px; }
h1, h2, h3, h4, h5 {
  padding: 0em;
  margin: 1.5em 0em .25em 0em;
  text-align: left;
  font-weight: normal;
  font-family: Arial, Helvetica, sans-serif;
  font-size: 70%;
  max-width: 55em;
}
body, h4, h5, p, ol, ul, li, td, th { font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left; }

h4, h5, p, ol, ul, li { font-size: 70%; }
input {
  font-family: Arial, Helvetica, sans-serif;
  font-size: 120%;
}

h1 { margin: 14px 0em 1.2em 0em; font-size: 112%; line-height: 130%;}
h2 { font-size: 125%; line-height: 84%;}
h3 { margin-top: 1.4em; font-size: 81%; }
h4 { margin-top: 1em; font-size: 70%; }
h5 { margin-top: 1em; font-size: 100%; font-style: italic;}
h1 strong, h2 strong, h3 strong, h4 strong { font-weight: bold; }

p { margin: 6px 0em 6px 0em; max-width: 55em;}
p.code, code {}
p { font-size: 70%; line-height: 125%; }
table { font-size: 70%;}

p.copyright, .small { font-size: 60%; line-height: 120%; }
p.copyright { margin: 3px 0px 0px 0px; padding: 0px; text-align: left; }
acronym { font-variant: small-caps; }
div.pad { padding: 3px; }
span.lineEndings { color: red; font-size: 70%; }

table.mgRowGroup, table.mgRowGroupFolder { border: 1px solid #a0a0a0; margin: 10px 0px 10px 0px; width: 100%; table-layout: fixed; border-collapse: collapse; }
table.mgRowGroup td { vertical-align: top; padding: 0; }
table.mgRowGroupFolder td { vertical-align: top; padding: 1px 0 1px 0; }
div.IP { width: 2px; height: 1em; float: left; }

img.mgFldrIcon {float: left; text-align: left; margin: -1px 2px 0px 0px;  height: 16px; width: 16px; border: none; vertical-align: top; background-color: transparent;}
div.mgFldrIcon {float: left; width: auto;}
span.left {float: left;width: auto;}
span.right {float: right;width: auto;}

table.bordered { border-collapse: collapse; border: 1px solid #a0a0a0; margin: 10px 0px 10px 0px;}
table.bordered th, table.bordered td { vertical-align: top; padding: 3px; border: 1px solid #a0a0a0;}
table.bordered th { background-color: #e5e5e5; }
table.bordered td.group { background-color: #f5f5f5; }
span.disabledNavigation { color: #a0a0a0; }
div.navigation { margin-top: 14px; font-size: 70%; }
div.comment { font-weight: normal; color: #000; font-family: Verdana, Arial, Helvetica, sans-serif; background-color: #fcfed8; padding: 2px 5px 2px 5px; border: 1px solid #E3E5C3; margin: 1px 2px 3px 2px; -moz-border-radius: 7px; border-radius: 7px; }

                span.U1, span.U1 a {float: left; width: auto;color: #000000; background-color: #FFFFFF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.U1 a {text-decoration: underline;}
td.U1 {color: #000000; background-color: #FFFFFF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.R1, span.R1 a {float: left; width: auto;color: #800000; background-color: #F3E6D8; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.R1 a {text-decoration: underline;}
td.R1 {color: #800000; background-color: #F3E6D8; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.I1, span.I1 a {float: left; width: auto;color: #800000; background-color: #D1E8CF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.I1 a {text-decoration: underline;}
td.I1 {color: #800000; background-color: #D1E8CF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.C1, span.C1 a {float: left; width: auto;color: #800000; background-color: #DACDE6; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.C1 a {text-decoration: underline;}
td.C1 {color: #800000; background-color: #DACDE6; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
td.nbgC1 {color: #800000; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; background-color: #FFFFFF; }
span.U2, span.U2 a {float: left; width: auto;color: #000000; background-color: #FFFFFF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.U2 a {text-decoration: underline;}
td.U2 {color: #000000; background-color: #FFFFFF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.R2, span.R2 a {float: left; width: auto;color: #800000; background-color: #F3E6D8; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.R2 a {text-decoration: underline;}
td.R2 {color: #800000; background-color: #F3E6D8; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.I2, span.I2 a {float: left; width: auto;color: #800000; background-color: #D1E8CF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.I2 a {text-decoration: underline;}
td.I2 {color: #800000; background-color: #D1E8CF; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.C2, span.C2 a {float: left; width: auto;color: #800000; background-color: #DACDE6; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
span.C2 a {text-decoration: underline;}
td.C2 {color: #800000; background-color: #DACDE6; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; }
td.nbgC2 {color: #800000; font-family: "Consolas"; font-weight: normal; font-style: normal; font-size: 9pt; text-decoration: none; background-color: #FFFFFF; }

span.selected {background-color: #3d80df; color: #fff;}
span.selected a {background-color: #3d80df; color: #fff; text-decoration: underline;}
span.symbol {cursor: pointer;}
      </style> 
 </head> 
 <body> 
  <h1><strong>250. EPMO Open Source Coordination Office Redaction File Detail Report</strong></h1> 
  <p>Produced by <strong>Araxis Merge</strong> on <strong>5/26/2017 2:13:12 PM Central Daylight Time</strong>. See <a href="http://www.araxis.com/" title="Link to the Araxis corporate web site">www.araxis.com</a> for information about Merge. This report uses XHTML and CSS2, and is best viewed with a modern standards-compliant browser. For optimum results when printing this report, use landscape orientation and enable printing of background images and colours in your browser.</p> 
  <h3><strong>250.1&nbsp;Files compared</strong></h3> 
  <table class="bordered"> 
   <tbody>
    <tr> 
     <th>#</th> 
     <th>Location</th> 
     <th>File</th> 
     <th>Last Modified</th> 
    </tr> 
    <tr> 
     <td>1</td> 
     <td>rdk.zip\rdk\product\tests\acceptance-tests\features\steps</td> 
     <td>announcements_steps.rb</td> 
     <td>Wed Apr 19 15:22:50 2017 UTC</td> 
    </tr> 
    <tr> 
     <td>2</td> 
     <td>rdk.zip\rdk\product\tests\acceptance-tests\features\steps</td> 
     <td>announcements_steps.rb</td> 
     <td>Fri May 26 13:53:00 2017 UTC</td> 
    </tr> 
   </tbody>
  </table> 
  <h3><strong>250.2&nbsp;Comparison summary</strong></h3> 
  <table class="bordered"> 
   <tbody>
    <tr> 
     <th rowspan="2" style="vertical-align: bottom;">Description</th> 
     <th colspan="2">Between<br>Files 1 and 2</th> 
    </tr> 
    <tr> 
     <th style="text-align: right;">Text Blocks</th> 
     <th style="text-align: right;">Lines</th> 
    </tr> 
    <tr> 
     <td>Unchanged</td> 
     <td style="text-align: right;">2</td> 
     <td style="text-align: right;">478</td> 
    </tr> 
    <tr> 
     <td>Changed</td> 
     <td style="text-align: right;">1</td> 
     <td style="text-align: right;">2</td> 
    </tr> 
    <tr> 
     <td>Inserted</td> 
     <td style="text-align: right;">0</td> 
     <td style="text-align: right;">0</td> 
    </tr> 
    <tr> 
     <td>Removed</td> 
     <td style="text-align: right;">0</td> 
     <td style="text-align: right;">0</td> 
    </tr> 
   </tbody>
  </table> 
  <h3><strong>250.3&nbsp;Comparison options</strong></h3> 
  <table class="bordered" style="width: 55em;"> 
   <tbody>
    <tr> 
     <th>Whitespace</th> 
     <td></td> 
    </tr> 
    <tr> 
     <th>Character case</th> 
     <td>Differences in character case are significant</td> 
    </tr> 
    <tr> 
     <th>Line endings</th> 
     <td>Differences in line endings (<code>CR</code> and <code>LF</code> characters) are ignored</td> 
    </tr> 
    <tr> 
     <th>CR/LF characters</th> 
     <td>Not shown in the comparison detail</td> 
    </tr> 
   </tbody>
  </table> 
  <h3><strong>250.4&nbsp;Active regular expressions</strong></h3> 
  <p>No regular expressions were active.</p> 
  <h3><strong>250.5&nbsp;Comparison detail</strong></h3> 
  <table class="mgRowGroup"> 
   <colgroup>
    <col style="width: 5em;"> 
    <col style="width: 1em;"> 
    <col width="*"> 
    <col style="width: 1em;"> 
    <col style="width: 5em;"> 
    <col style="width: 1em;"> 
    <col width="*"> 
   </colgroup>
   <tbody>
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">1</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">2</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">class&nbsp;Anno</span> <span class="U2">uncements</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">3</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;extend&nbsp;:</span> <span class="U2">:RSpec::Ma</span> <span class="U2">tchers</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">4</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;def&nbsp;self</span> <span class="U2">.to_boolea</span> <span class="U2">n(str)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">5</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="U2">&nbsp;true&nbsp;if&nbsp;s</span> <span class="U2">tr.downcas</span> <span class="U2">e&nbsp;==&nbsp;"true</span> <span class="U2">"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">6</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="U2">&nbsp;false</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">7</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">8</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">9</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;def&nbsp;self</span> <span class="U2">.build_com</span> <span class="U2">mmunicatio</span> <span class="U2">n_preferen</span> <span class="U2">ces_payloa</span> <span class="U2">d(table_ha</span> <span class="U2">sh)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">10</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;comm_p</span> <span class="U2">ref&nbsp;=&nbsp;{}</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">11</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;comm_p</span> <span class="U2">ref['categ</span> <span class="U2">ory']&nbsp;=&nbsp;{}</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">12</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;comm_p</span> <span class="U2">ref['categ</span> <span class="U2">ory']['cod</span> <span class="U2">e']&nbsp;=&nbsp;tabl</span> <span class="U2">e_hash['ca</span> <span class="U2">tegory.cod</span> <span class="U2">e']&nbsp;unless</span> <span class="U2">&nbsp;table_has</span> <span class="U2">h['categor</span> <span class="U2">y.code'].n</span> <span class="U2">il?</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">13</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;comm_p</span> <span class="U2">ref['categ</span> <span class="U2">ory']['sys</span> <span class="U2">tem']&nbsp;=&nbsp;ta</span> <span class="U2">ble_hash['</span> <span class="U2">category.s</span> <span class="U2">ystem']&nbsp;un</span> <span class="U2">less&nbsp;table</span> <span class="U2">_hash['cat</span> <span class="U2">egory.syst</span> <span class="U2">em'].nil?</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">14</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;comm_p</span> <span class="U2">ref['enabl</span> <span class="U2">ed']&nbsp;=&nbsp;Ann</span> <span class="U2">ouncements</span> <span class="U2">.to_boolea</span> <span class="U2">n(table_ha</span> <span class="U2">sh['enable</span> <span class="U2">d'])&nbsp;unles</span> <span class="U2">s&nbsp;table_ha</span> <span class="U2">sh['enable</span> <span class="U2">d'].nil?</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">15</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;comm_p</span> <span class="U2">ref['userI</span> <span class="U2">d']&nbsp;=&nbsp;tabl</span> <span class="U2">e_hash['us</span> <span class="U2">erId']&nbsp;unl</span> <span class="U2">ess&nbsp;table_</span> <span class="U2">hash['user</span> <span class="U2">Id'].nil?</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">16</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;comm_p</span> <span class="U2">ref</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">17</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">18</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">19</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;def&nbsp;self</span> <span class="U2">.verify_si</span> <span class="U2">ngle_type(</span> <span class="U2">path,&nbsp;expe</span> <span class="U2">cted_value</span> <span class="U2">,&nbsp;response</span> <span class="U2">)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">20</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;respon</span> <span class="U2">se_body&nbsp;=&nbsp;</span> <span class="U2">JSON.parse</span> <span class="U2">(response)</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">21</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;all_va</span> <span class="U2">lues&nbsp;=&nbsp;[]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">22</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">23</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;json_v</span> <span class="U2">erify&nbsp;=&nbsp;Js</span> <span class="U2">onVerifier</span> <span class="U2">.new</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">24</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;json_v</span> <span class="U2">erify.save</span> <span class="U2">_all_value</span> <span class="U2">s_of_path(</span> <span class="U2">0,&nbsp;path.sp</span> <span class="U2">lit('.'),&nbsp;</span> <span class="U2">response_b</span> <span class="U2">ody,&nbsp;"",&nbsp;a</span> <span class="U2">ll_values)</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">25</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;all_va</span> <span class="U2">lues_set&nbsp;=</span> <span class="U2">&nbsp;Set.new&nbsp;a</span> <span class="U2">ll_values</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">26</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">ed_value.e</span> <span class="U2">ach&nbsp;do&nbsp;|&nbsp;v</span> <span class="U2">alue&nbsp;|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">27</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expe</span> <span class="U2">ct(all_val</span> <span class="U2">ues_set).t</span> <span class="U2">o&nbsp;include(</span> <span class="U2">value),&nbsp;"E</span> <span class="U2">xpected&nbsp;on</span> <span class="U2">ly&nbsp;'#{valu</span> <span class="U2">e}'&nbsp;in&nbsp;res</span> <span class="U2">ponse,&nbsp;but</span> <span class="U2">&nbsp;got&nbsp;#{all</span> <span class="U2">_values_se</span> <span class="U2">t.to_a}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">28</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">29</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(all_value</span> <span class="U2">s_set.size</span> <span class="U2">).to&nbsp;eq(ex</span> <span class="U2">pected_val</span> <span class="U2">ue.length)</span> <span class="U2">,&nbsp;"Expecte</span> <span class="U2">d&nbsp;only&nbsp;1&nbsp;v</span> <span class="U2">alue&nbsp;in&nbsp;re</span> <span class="U2">sponse,&nbsp;go</span> <span class="U2">t&nbsp;#{all_va</span> <span class="U2">lues_set.t</span> <span class="U2">o_a}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">30</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">31</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">32</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;def&nbsp;self</span> <span class="U2">.verify_de</span> <span class="U2">scending_o</span> <span class="U2">rder(path,</span> <span class="U2">&nbsp;response)</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">33</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;respon</span> <span class="U2">se_body&nbsp;=&nbsp;</span> <span class="U2">JSON.parse</span> <span class="U2">(response)</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">34</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;all_va</span> <span class="U2">lues&nbsp;=&nbsp;[]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">35</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">36</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;json_v</span> <span class="U2">erify&nbsp;=&nbsp;Js</span> <span class="U2">onVerifier</span> <span class="U2">.new</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">37</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;json_v</span> <span class="U2">erify.save</span> <span class="U2">_all_value</span> <span class="U2">s_of_path(</span> <span class="U2">0,&nbsp;path.sp</span> <span class="U2">lit('.'),&nbsp;</span> <span class="U2">response_b</span> <span class="U2">ody,&nbsp;"",&nbsp;a</span> <span class="U2">ll_values)</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">38</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(all_value</span> <span class="U2">s.length).</span> <span class="U2">to&nbsp;be&nbsp;&gt;&nbsp;1,</span> <span class="U2">&nbsp;"Need&nbsp;at&nbsp;</span> <span class="U2">least&nbsp;2&nbsp;va</span> <span class="U2">lues&nbsp;to&nbsp;ve</span> <span class="U2">rify&nbsp;order</span> <span class="U2">,&nbsp;received</span> <span class="U2">&nbsp;#{all_val</span> <span class="U2">ues.length</span> <span class="U2">}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">39</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(Set.new(a</span> <span class="U2">ll_values)</span> <span class="U2">.size).to&nbsp;</span> <span class="U2">be&nbsp;&gt;&nbsp;1,&nbsp;"N</span> <span class="U2">eed&nbsp;at&nbsp;lea</span> <span class="U2">st&nbsp;2&nbsp;uniqu</span> <span class="U2">e&nbsp;values&nbsp;t</span> <span class="U2">o&nbsp;verify&nbsp;o</span> <span class="U2">rder"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">40</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">41</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;clone_</span> <span class="U2">values&nbsp;=&nbsp;a</span> <span class="U2">ll_values.</span> <span class="U2">clone.sort</span> <span class="U2">.reverse</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">42</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(clone_val</span> <span class="U2">ues).to&nbsp;eq</span> <span class="U2">(all_value</span> <span class="U2">s)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">43</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">44</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">45</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;def&nbsp;self</span> <span class="U2">.verify_te</span> <span class="U2">rms_return</span> <span class="U2">ed(respons</span> <span class="U2">e)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">46</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;respon</span> <span class="U2">se_body&nbsp;=&nbsp;</span> <span class="U2">JSON.parse</span> <span class="U2">(response.</span> <span class="U2">body)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">47</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(response_</span> <span class="U2">body['data</span> <span class="U2">']).to_not</span> <span class="U2">&nbsp;be_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">48</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(response_</span> <span class="U2">body['data</span> <span class="U2">']['items'</span> <span class="U2">]).to_not&nbsp;</span> <span class="U2">be_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">49</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(response_</span> <span class="U2">body['data</span> <span class="U2">']['items'</span> <span class="U2">]['communi</span> <span class="U2">cation']).</span> <span class="U2">to_not&nbsp;be_</span> <span class="U2">nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">50</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(response_</span> <span class="U2">body['data</span> <span class="U2">']['items'</span> <span class="U2">]['communi</span> <span class="U2">cation'].l</span> <span class="U2">ength).to&nbsp;</span> <span class="U2">be&nbsp;&gt;&nbsp;0</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">51</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">52</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">53</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;def&nbsp;self</span> <span class="U2">.index_of_</span> <span class="U2">attachment</span> <span class="U2">(response)</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">54</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;respon</span> <span class="U2">se_body&nbsp;=&nbsp;</span> <span class="U2">JSON.parse</span> <span class="U2">(response.</span> <span class="U2">body)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">55</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;commun</span> <span class="U2">ication_ar</span> <span class="U2">ray&nbsp;=&nbsp;resp</span> <span class="U2">onse_body[</span> <span class="U2">'data']['i</span> <span class="U2">tems']['co</span> <span class="U2">mmunicatio</span> <span class="U2">n']</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">56</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;image_</span> <span class="U2">index&nbsp;=&nbsp;-1</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">57</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;commun</span> <span class="U2">ication_ar</span> <span class="U2">ray.each_w</span> <span class="U2">ith_index&nbsp;</span> <span class="U2">do&nbsp;|&nbsp;messa</span> <span class="U2">ge_block,&nbsp;</span> <span class="U2">index&nbsp;|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">58</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expe</span> <span class="U2">ct(message</span> <span class="U2">_block['pa</span> <span class="U2">yload']).t</span> <span class="U2">o_not&nbsp;be_n</span> <span class="U2">il&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">59</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expe</span> <span class="U2">ct(message</span> <span class="U2">_block['pa</span> <span class="U2">yload'][0]</span> <span class="U2">).to_not&nbsp;b</span> <span class="U2">e_nil&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">60</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expe</span> <span class="U2">ct(message</span> <span class="U2">_block['pa</span> <span class="U2">yload'][0]</span> <span class="U2">['content'</span> <span class="U2">]).to_not&nbsp;</span> <span class="U2">be_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">61</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expe</span> <span class="U2">ct(message</span> <span class="U2">_block['pa</span> <span class="U2">yload'][0]</span> <span class="U2">['content'</span> <span class="U2">][0]).to_n</span> <span class="U2">ot&nbsp;be_nil&nbsp;</span> <span class="U2">&nbsp;</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">62</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;imag</span> <span class="U2">e_index&nbsp;=&nbsp;</span> <span class="U2">index&nbsp;unle</span> <span class="U2">ss&nbsp;message</span> <span class="U2">_block['pa</span> <span class="U2">yload'][0]</span> <span class="U2">['content'</span> <span class="U2">][0]['cont</span> <span class="U2">entAttachm</span> <span class="U2">ent'].nil?</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">63</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;brea</span> <span class="U2">k&nbsp;if&nbsp;image</span> <span class="U2">_index&nbsp;&gt;&nbsp;-</span> <span class="U2">1</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">64</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">65</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(image_ind</span> <span class="U2">ex).to&nbsp;be&nbsp;</span> <span class="U2">&gt;&nbsp;-1</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">66</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;image_</span> <span class="U2">index</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">67</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">68</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">69</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;def&nbsp;self</span> <span class="U2">.communica</span> <span class="U2">tion_ident</span> <span class="U2">ifier(resp</span> <span class="U2">onse_body,</span> <span class="U2">&nbsp;index)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">70</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(response_</span> <span class="U2">body['data</span> <span class="U2">']['items'</span> <span class="U2">]['communi</span> <span class="U2">cation'][i</span> <span class="U2">ndex]).to_</span> <span class="U2">not&nbsp;be_nil</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">71</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(response_</span> <span class="U2">body['data</span> <span class="U2">']['items'</span> <span class="U2">]['communi</span> <span class="U2">cation'][i</span> <span class="U2">ndex]['ide</span> <span class="U2">ntifier'])</span> <span class="U2">.to_not&nbsp;be</span> <span class="U2">_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">72</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(response_</span> <span class="U2">body['data</span> <span class="U2">']['items'</span> <span class="U2">]['communi</span> <span class="U2">cation'][i</span> <span class="U2">ndex]['ide</span> <span class="U2">ntifier'][</span> <span class="U2">0]['value'</span> <span class="U2">]).to_not&nbsp;</span> <span class="U2">be_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">73</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="U2">&nbsp;response_</span> <span class="U2">body['data</span> <span class="U2">']['items'</span> <span class="U2">]['communi</span> <span class="U2">cation'][i</span> <span class="U2">ndex]['ide</span> <span class="U2">ntifier'][</span> <span class="U2">0]['value'</span> <span class="U2">]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">74</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">75</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">76</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;def&nbsp;self</span> <span class="U2">.image_ide</span> <span class="U2">ntifier(re</span> <span class="U2">sponse_bod</span> <span class="U2">y,&nbsp;index)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">77</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(response_</span> <span class="U2">body['data</span> <span class="U2">']['items'</span> <span class="U2">]['communi</span> <span class="U2">cation'][i</span> <span class="U2">ndex]).to_</span> <span class="U2">not&nbsp;be_nil</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">78</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;commun</span> <span class="U2">ication_el</span> <span class="U2">ement&nbsp;=&nbsp;re</span> <span class="U2">sponse_bod</span> <span class="U2">y['data'][</span> <span class="U2">'items']['</span> <span class="U2">communicat</span> <span class="U2">ion'][inde</span> <span class="U2">x]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">79</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(communica</span> <span class="U2">tion_eleme</span> <span class="U2">nt['payloa</span> <span class="U2">d']).to_no</span> <span class="U2">t&nbsp;be_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">80</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(communica</span> <span class="U2">tion_eleme</span> <span class="U2">nt['payloa</span> <span class="U2">d'][0]).to</span> <span class="U2">_not&nbsp;be_ni</span> <span class="U2">l</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">81</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(communica</span> <span class="U2">tion_eleme</span> <span class="U2">nt['payloa</span> <span class="U2">d'][0]['co</span> <span class="U2">ntent']).t</span> <span class="U2">o_not&nbsp;be_n</span> <span class="U2">il</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">82</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(communica</span> <span class="U2">tion_eleme</span> <span class="U2">nt['payloa</span> <span class="U2">d'][0]['co</span> <span class="U2">ntent'][0]</span> <span class="U2">).to_not&nbsp;b</span> <span class="U2">e_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">83</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(communica</span> <span class="U2">tion_eleme</span> <span class="U2">nt['payloa</span> <span class="U2">d'][0]['co</span> <span class="U2">ntent'][0]</span> <span class="U2">['contentA</span> <span class="U2">ttachment'</span> <span class="U2">]).to_not&nbsp;</span> <span class="U2">be_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">84</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(communica</span> <span class="U2">tion_eleme</span> <span class="U2">nt['payloa</span> <span class="U2">d'][0]['co</span> <span class="U2">ntent'][0]</span> <span class="U2">['contentA</span> <span class="U2">ttachment'</span> <span class="U2">]['content</span> <span class="U2">Attachment</span> <span class="U2">Identifier</span> <span class="U2">']).to_not</span> <span class="U2">&nbsp;be_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">85</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="U2">&nbsp;communica</span> <span class="U2">tion_eleme</span> <span class="U2">nt['payloa</span> <span class="U2">d'][0]['co</span> <span class="U2">ntent'][0]</span> <span class="U2">['contentA</span> <span class="U2">ttachment'</span> <span class="U2">]['content</span> <span class="U2">Attachment</span> <span class="U2">Identifier</span> <span class="U2">']</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">86</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">87</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">88</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;def&nbsp;self</span> <span class="U2">.attachmen</span> <span class="U2">t_link(res</span> <span class="U2">ponse_body</span> <span class="U2">,&nbsp;index)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">89</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(response_</span> <span class="U2">body['data</span> <span class="U2">']['items'</span> <span class="U2">]['communi</span> <span class="U2">cation'][i</span> <span class="U2">ndex]).to_</span> <span class="U2">not&nbsp;be_nil</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">90</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;commun</span> <span class="U2">ication_el</span> <span class="U2">ement&nbsp;=&nbsp;re</span> <span class="U2">sponse_bod</span> <span class="U2">y['data'][</span> <span class="U2">'items']['</span> <span class="U2">communicat</span> <span class="U2">ion'][inde</span> <span class="U2">x]</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">91</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(communica</span> <span class="U2">tion_eleme</span> <span class="U2">nt['payloa</span> <span class="U2">d']).to_no</span> <span class="U2">t&nbsp;be_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">92</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(communica</span> <span class="U2">tion_eleme</span> <span class="U2">nt['payloa</span> <span class="U2">d'][0]).to</span> <span class="U2">_not&nbsp;be_ni</span> <span class="U2">l</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">93</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(communica</span> <span class="U2">tion_eleme</span> <span class="U2">nt['payloa</span> <span class="U2">d'][0]['co</span> <span class="U2">ntent']).t</span> <span class="U2">o_not&nbsp;be_n</span> <span class="U2">il</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">94</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(communica</span> <span class="U2">tion_eleme</span> <span class="U2">nt['payloa</span> <span class="U2">d'][0]['co</span> <span class="U2">ntent'][0]</span> <span class="U2">).to_not&nbsp;b</span> <span class="U2">e_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">95</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(communica</span> <span class="U2">tion_eleme</span> <span class="U2">nt['payloa</span> <span class="U2">d'][0]['co</span> <span class="U2">ntent'][0]</span> <span class="U2">['contentA</span> <span class="U2">ttachment'</span> <span class="U2">]).to_not&nbsp;</span> <span class="U2">be_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">96</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;expect</span> <span class="U2">(communica</span> <span class="U2">tion_eleme</span> <span class="U2">nt['payloa</span> <span class="U2">d'][0]['co</span> <span class="U2">ntent'][0]</span> <span class="U2">['contentA</span> <span class="U2">ttachment'</span> <span class="U2">]['link'])</span> <span class="U2">.to_not&nbsp;be</span> <span class="U2">_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">97</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="U2">&nbsp;communica</span> <span class="U2">tion_eleme</span> <span class="U2">nt['payloa</span> <span class="U2">d'][0]['co</span> <span class="U2">ntent'][0]</span> <span class="U2">['contentA</span> <span class="U2">ttachment'</span> <span class="U2">]['link']</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">98</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">99</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">100</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">101</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^cli</span> <span class="U2">ent&nbsp;reques</span> <span class="U2">ts&nbsp;communi</span> <span class="U2">cations&nbsp;fo</span> <span class="U2">r$/)&nbsp;do&nbsp;|t</span> <span class="U2">able|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">102</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('ehmp</span> <span class="U2">-announcem</span> <span class="U2">ents')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">103</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;table.ro</span> <span class="U2">ws.each&nbsp;do</span> <span class="U2">&nbsp;|&nbsp;paramet</span> <span class="U2">er,&nbsp;value&nbsp;</span> <span class="U2">|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">104</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;reques</span> <span class="U2">t.add_para</span> <span class="U2">meter(para</span> <span class="U2">meter,&nbsp;val</span> <span class="U2">ue)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">105</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">106</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">107</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">108</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;path</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">109</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;HTTPar</span> <span class="U2">tyRDK.get(</span> <span class="U2">path)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">110</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">111</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">112</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^the</span> <span class="U2">&nbsp;client&nbsp;up</span> <span class="U2">dates&nbsp;user</span> <span class="U2">&nbsp;preferenc</span> <span class="U2">es$/)&nbsp;do&nbsp;|</span> <span class="U2">table|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">113</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;post_bod</span> <span class="U2">y&nbsp;=&nbsp;Announ</span> <span class="U2">cements.bu</span> <span class="U2">ild_commmu</span> <span class="U2">nication_p</span> <span class="U2">references</span> <span class="U2">_payload(t</span> <span class="U2">able.rows_</span> <span class="U2">hash)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">114</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('ehmp</span> <span class="U2">-announcem</span> <span class="U2">ents-prefe</span> <span class="U2">rences')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">115</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;"</span> <span class="U2">#{request.</span> <span class="U2">path}/"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">116</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;HTTPar</span> <span class="U2">tyRDK.post</span> <span class="U2">(path,&nbsp;pos</span> <span class="U2">t_body.to_</span> <span class="U2">json,&nbsp;Task</span> <span class="U2">Helper.hea</span> <span class="U2">ders)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">117</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">118</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">119</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^cli</span> <span class="U2">ent&nbsp;reques</span> <span class="U2">ts&nbsp;prefere</span> <span class="U2">nces$/)&nbsp;do</span> <span class="U2">&nbsp;|table|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">120</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;post_bod</span> <span class="U2">y&nbsp;=&nbsp;Announ</span> <span class="U2">cements.bu</span> <span class="U2">ild_commmu</span> <span class="U2">nication_p</span> <span class="U2">references</span> <span class="U2">_payload(t</span> <span class="U2">able.rows_</span> <span class="U2">hash)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">121</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('ehmp</span> <span class="U2">-announcem</span> <span class="U2">ents-prefe</span> <span class="U2">rences')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">122</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;"</span> <span class="U2">#{request.</span> <span class="U2">path}/"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">123</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;HTTPar</span> <span class="U2">tyRDK.post</span> <span class="U2">(path,&nbsp;pos</span> <span class="U2">t_body.to_</span> <span class="U2">json,&nbsp;Task</span> <span class="U2">Helper.hea</span> <span class="U2">ders)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">124</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">125</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">126</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^the</span> <span class="U2">&nbsp;response&nbsp;</span> <span class="U2">message&nbsp;is</span> <span class="U2">&nbsp;'The&nbsp;requ</span> <span class="U2">ired&nbsp;param</span> <span class="U2">eter&nbsp;"([^"</span> <span class="U2">]*)"&nbsp;is&nbsp;mi</span> <span class="U2">ssing\.'$/</span> <span class="U2">)&nbsp;do&nbsp;|arg1</span> <span class="U2">|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">127</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;message&nbsp;</span> <span class="U2">=&nbsp;"The&nbsp;req</span> <span class="U2">uired&nbsp;para</span> <span class="U2">meter&nbsp;\"#{</span> <span class="U2">arg1}\"&nbsp;is</span> <span class="U2">&nbsp;missing."</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">128</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;messag</span> <span class="U2">e</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">129</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;response</span> <span class="U2">_body&nbsp;=&nbsp;JS</span> <span class="U2">ON.parse(@</span> <span class="U2">response.b</span> <span class="U2">ody)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">130</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(r</span> <span class="U2">esponse_bo</span> <span class="U2">dy['messag</span> <span class="U2">e']).to&nbsp;eq</span> <span class="U2">(message)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">131</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">132</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">133</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^the</span> <span class="U2">&nbsp;response&nbsp;</span> <span class="U2">only&nbsp;conta</span> <span class="U2">ins&nbsp;messag</span> <span class="U2">es&nbsp;with&nbsp;a&nbsp;</span> <span class="U2">completed&nbsp;</span> <span class="U2">status$/)&nbsp;</span> <span class="U2">do</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">134</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;'</span> <span class="U2">data.items</span> <span class="U2">.communica</span> <span class="U2">tion.statu</span> <span class="U2">s.code'</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">135</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expected</span> <span class="U2">_value&nbsp;=&nbsp;'</span> <span class="U2">completed'</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">136</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;Announce</span> <span class="U2">ments.veri</span> <span class="U2">fy_single_</span> <span class="U2">type(path,</span> <span class="U2">&nbsp;[expected</span> <span class="U2">_value],&nbsp;@</span> <span class="U2">response.b</span> <span class="U2">ody)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">137</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">138</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;'</span> <span class="U2">data.items</span> <span class="U2">.communica</span> <span class="U2">tion.statu</span> <span class="U2">s.system'</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">139</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expected</span> <span class="U2">_value&nbsp;=&nbsp;'</span> <span class="U2">http://hl7</span> <span class="U2">.org/fhir/</span> <span class="U2">ValueSet/c</span> <span class="U2">ommunicati</span> <span class="U2">on-status'</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">140</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;Announce</span> <span class="U2">ments.veri</span> <span class="U2">fy_single_</span> <span class="U2">type(path,</span> <span class="U2">&nbsp;[expected</span> <span class="U2">_value],&nbsp;@</span> <span class="U2">response.b</span> <span class="U2">ody)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">141</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">142</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">143</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^the</span> <span class="U2">&nbsp;response&nbsp;</span> <span class="U2">only&nbsp;conta</span> <span class="U2">ins&nbsp;messag</span> <span class="U2">es&nbsp;with&nbsp;a&nbsp;</span> <span class="U2">delete&nbsp;sta</span> <span class="U2">tus$/)&nbsp;do</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">144</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;'</span> <span class="U2">data.items</span> <span class="U2">.communica</span> <span class="U2">tion.statu</span> <span class="U2">s.code'</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">145</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expected</span> <span class="U2">_value&nbsp;=&nbsp;'</span> <span class="U2">deleted'</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">146</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;Announce</span> <span class="U2">ments.veri</span> <span class="U2">fy_single_</span> <span class="U2">type(path,</span> <span class="U2">&nbsp;[expected</span> <span class="U2">_value],&nbsp;@</span> <span class="U2">response.b</span> <span class="U2">ody)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">147</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">148</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;'</span> <span class="U2">data.items</span> <span class="U2">.communica</span> <span class="U2">tion.statu</span> <span class="U2">s.system'</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="C2 ln-no" style="text-align: right;">149</td>  
     <td class="nbgC2"><span class="I2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">&nbsp;</span> <span class="U2">expected_v</span> <span class="U2">alue&nbsp;=&nbsp;'ht</span> <span class="U2">tp://ehmp.</span> <span class="C2">DNS&nbsp;</span> <span class="U2">&nbsp;&nbsp;</span> <span class="U2">/messageSt</span> <span class="U2">atus'</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">150</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;Announce</span> <span class="U2">ments.veri</span> <span class="U2">fy_single_</span> <span class="U2">type(path,</span> <span class="U2">&nbsp;[expected</span> <span class="U2">_value],&nbsp;@</span> <span class="U2">response.b</span> <span class="U2">ody)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">151</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">152</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">153</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^the</span> <span class="U2">&nbsp;response&nbsp;</span> <span class="U2">only&nbsp;conta</span> <span class="U2">ins&nbsp;messag</span> <span class="U2">es&nbsp;of&nbsp;type</span> <span class="U2">&nbsp;terms&nbsp;"([</span> <span class="U2">^"]*)"$/)&nbsp;</span> <span class="U2">do&nbsp;|terms|</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">154</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;'</span> <span class="U2">data.items</span> <span class="U2">.communica</span> <span class="U2">tion.categ</span> <span class="U2">ory.code'</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">155</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expected</span> <span class="U2">_value&nbsp;=&nbsp;t</span> <span class="U2">erms</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">156</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;Announce</span> <span class="U2">ments.veri</span> <span class="U2">fy_single_</span> <span class="U2">type(path,</span> <span class="U2">&nbsp;[expected</span> <span class="U2">_value],&nbsp;@</span> <span class="U2">response.b</span> <span class="U2">ody)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">157</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">158</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">159</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^the</span> <span class="U2">&nbsp;response&nbsp;</span> <span class="U2">only&nbsp;conta</span> <span class="U2">ins&nbsp;messag</span> <span class="U2">es&nbsp;of&nbsp;requ</span> <span class="U2">ested&nbsp;vers</span> <span class="U2">ion&nbsp;"([^"]</span> <span class="U2">*)"$/)&nbsp;do&nbsp;</span> <span class="U2">|version|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">160</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;'</span> <span class="U2">data.items</span> <span class="U2">.communica</span> <span class="U2">tion.recip</span> <span class="U2">ient.ehmpA</span> <span class="U2">ppVersion'</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">161</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expected</span> <span class="U2">_value&nbsp;=&nbsp;v</span> <span class="U2">ersion</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">162</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;Announce</span> <span class="U2">ments.veri</span> <span class="U2">fy_single_</span> <span class="U2">type('data</span> <span class="U2">.items.com</span> <span class="U2">munication</span> <span class="U2">.recipient</span> <span class="U2">.ehmpAppVe</span> <span class="U2">rsion',&nbsp;[e</span> <span class="U2">xpected_va</span> <span class="U2">lue],&nbsp;@res</span> <span class="U2">ponse.body</span> <span class="U2">)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">163</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">164</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">165</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^the</span> <span class="U2">&nbsp;term&nbsp;anno</span> <span class="U2">uncements&nbsp;</span> <span class="U2">are&nbsp;return</span> <span class="U2">ed&nbsp;in&nbsp;desc</span> <span class="U2">ending&nbsp;ord</span> <span class="U2">er$/)&nbsp;do</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">166</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;Announce</span> <span class="U2">ments.veri</span> <span class="U2">fy_descend</span> <span class="U2">ing_order(</span> <span class="U2">'data.item</span> <span class="U2">s.communic</span> <span class="U2">ation.sent</span> <span class="U2">',&nbsp;@respon</span> <span class="U2">se.body)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">167</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">168</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">169</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^the</span> <span class="U2">&nbsp;system&nbsp;an</span> <span class="U2">nouncement</span> <span class="U2">s&nbsp;are&nbsp;retu</span> <span class="U2">rned&nbsp;in&nbsp;de</span> <span class="U2">scending&nbsp;o</span> <span class="U2">rder$/)&nbsp;do</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">170</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;Announce</span> <span class="U2">ments.veri</span> <span class="U2">fy_descend</span> <span class="U2">ing_order(</span> <span class="U2">'data.item</span> <span class="U2">s.communic</span> <span class="U2">ation.sent</span> <span class="U2">',&nbsp;@respon</span> <span class="U2">se.body)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">171</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">172</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">173</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^the</span> <span class="U2">&nbsp;terms&nbsp;are</span> <span class="U2">&nbsp;not&nbsp;retur</span> <span class="U2">ned$/)&nbsp;do</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">174</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;response</span> <span class="U2">_body&nbsp;=&nbsp;JS</span> <span class="U2">ON.parse(@</span> <span class="U2">response.b</span> <span class="U2">ody)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">175</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;respon</span> <span class="U2">se_body</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">176</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(r</span> <span class="U2">esponse_bo</span> <span class="U2">dy['data']</span> <span class="U2">).to_not&nbsp;b</span> <span class="U2">e_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">177</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(r</span> <span class="U2">esponse_bo</span> <span class="U2">dy['data']</span> <span class="U2">['items'])</span> <span class="U2">.to_not&nbsp;be</span> <span class="U2">_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">178</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(r</span> <span class="U2">esponse_bo</span> <span class="U2">dy['data']</span> <span class="U2">['items'][</span> <span class="U2">'communica</span> <span class="U2">tion']).to</span> <span class="U2">_not&nbsp;be_ni</span> <span class="U2">l</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">179</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(r</span> <span class="U2">esponse_bo</span> <span class="U2">dy['data']</span> <span class="U2">['items'][</span> <span class="U2">'communica</span> <span class="U2">tion'].len</span> <span class="U2">gth).to&nbsp;eq</span> <span class="U2">(0)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">180</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">181</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">182</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^the</span> <span class="U2">&nbsp;terms&nbsp;are</span> <span class="U2">&nbsp;returned$</span> <span class="U2">/)&nbsp;do</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">183</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;Announce</span> <span class="U2">ments.veri</span> <span class="U2">fy_terms_r</span> <span class="U2">eturned&nbsp;@r</span> <span class="U2">esponse</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">184</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">185</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">186</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^cli</span> <span class="U2">ent&nbsp;reques</span> <span class="U2">ts&nbsp;attachm</span> <span class="U2">ent&nbsp;for&nbsp;in</span> <span class="U2">valid&nbsp;iden</span> <span class="U2">tifier$/)&nbsp;</span> <span class="U2">do</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">187</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('ehmp</span> <span class="U2">-announcem</span> <span class="U2">ents-attac</span> <span class="U2">hment')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">188</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">189</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path.sub</span> <span class="U2">!(':identi</span> <span class="U2">fier',&nbsp;'in</span> <span class="U2">valid')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">190</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;path</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">191</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;HTTPar</span> <span class="U2">tyRDK.get(</span> <span class="U2">path)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">192</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">193</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">194</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Given(/^th</span> <span class="U2">e&nbsp;response</span> <span class="U2">&nbsp;contains&nbsp;</span> <span class="U2">at&nbsp;least&nbsp;(</span> <span class="U2">\d+)&nbsp;term&nbsp;</span> <span class="U2">announceme</span> <span class="U2">nt&nbsp;with&nbsp;an</span> <span class="U2">&nbsp;attachmen</span> <span class="U2">t$/)&nbsp;do&nbsp;|a</span> <span class="U2">rg1|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">195</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;Announce</span> <span class="U2">ments.veri</span> <span class="U2">fy_terms_r</span> <span class="U2">eturned&nbsp;@r</span> <span class="U2">esponse</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">196</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;begin</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">197</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;Announ</span> <span class="U2">cements.in</span> <span class="U2">dex_of_att</span> <span class="U2">achment&nbsp;@r</span> <span class="U2">esponse</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">198</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;rescue&nbsp;E</span> <span class="U2">xception&nbsp;=</span> <span class="U2">&gt;&nbsp;e</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">199</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;p&nbsp;"#{e</span> <span class="U2">}"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">200</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;&nbsp;&nbsp;raise&nbsp;</span> <span class="U2">"Precondit</span> <span class="U2">ion&nbsp;not&nbsp;me</span> <span class="U2">t:&nbsp;the&nbsp;res</span> <span class="U2">ponse&nbsp;did&nbsp;</span> <span class="U2">not&nbsp;contai</span> <span class="U2">n&nbsp;a&nbsp;messag</span> <span class="U2">e&nbsp;with&nbsp;an&nbsp;</span> <span class="U2">attachment</span> <span class="U2">"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">201</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">202</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">203</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">204</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^the</span> <span class="U2">&nbsp;client&nbsp;re</span> <span class="U2">quests&nbsp;the</span> <span class="U2">&nbsp;attachmen</span> <span class="U2">t&nbsp;for&nbsp;the&nbsp;</span> <span class="U2">first&nbsp;retu</span> <span class="U2">rned&nbsp;term&nbsp;</span> <span class="U2">using&nbsp;subs</span> <span class="U2">titution$/</span> <span class="U2">)&nbsp;do</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">205</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;Announce</span> <span class="U2">ments.veri</span> <span class="U2">fy_terms_r</span> <span class="U2">eturned&nbsp;@r</span> <span class="U2">esponse</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">206</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;image_in</span> <span class="U2">dex&nbsp;=&nbsp;Anno</span> <span class="U2">uncements.</span> <span class="U2">index_of_a</span> <span class="U2">ttachment&nbsp;</span> <span class="U2">@response</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">207</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;response</span> <span class="U2">_body&nbsp;=&nbsp;JS</span> <span class="U2">ON.parse(@</span> <span class="U2">response.b</span> <span class="U2">ody)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">208</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;message_</span> <span class="U2">id&nbsp;=&nbsp;Annou</span> <span class="U2">ncements.c</span> <span class="U2">ommunicati</span> <span class="U2">on_identif</span> <span class="U2">ier&nbsp;respon</span> <span class="U2">se_body,&nbsp;i</span> <span class="U2">mage_index</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">209</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;image_id</span> <span class="U2">&nbsp;=&nbsp;Announc</span> <span class="U2">ements.ima</span> <span class="U2">ge_identif</span> <span class="U2">ier&nbsp;respon</span> <span class="U2">se_body,&nbsp;i</span> <span class="U2">mage_index</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">210</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">211</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('ehmp</span> <span class="U2">-announcem</span> <span class="U2">ents-attac</span> <span class="U2">hment')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">212</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">213</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path.sub</span> <span class="U2">!(':identi</span> <span class="U2">fier',&nbsp;mes</span> <span class="U2">sage_id)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">214</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path.sub</span> <span class="U2">!(':idAtta</span> <span class="U2">chment',&nbsp;i</span> <span class="U2">mage_id)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">215</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;path</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">216</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;HTTPar</span> <span class="U2">tyRDK.get(</span> <span class="U2">path)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">217</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">218</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">219</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">When(/^the</span> <span class="U2">&nbsp;client&nbsp;re</span> <span class="U2">quests&nbsp;the</span> <span class="U2">&nbsp;attachmen</span> <span class="U2">t&nbsp;for&nbsp;the&nbsp;</span> <span class="U2">first&nbsp;retu</span> <span class="U2">rned&nbsp;term&nbsp;</span> <span class="U2">using&nbsp;the&nbsp;</span> <span class="U2">link$/)&nbsp;do</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">220</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;Announce</span> <span class="U2">ments.veri</span> <span class="U2">fy_terms_r</span> <span class="U2">eturned&nbsp;@r</span> <span class="U2">esponse</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">221</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;image_in</span> <span class="U2">dex&nbsp;=&nbsp;Anno</span> <span class="U2">uncements.</span> <span class="U2">index_of_a</span> <span class="U2">ttachment&nbsp;</span> <span class="U2">@response</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">222</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;response</span> <span class="U2">_body&nbsp;=&nbsp;JS</span> <span class="U2">ON.parse(@</span> <span class="U2">response.b</span> <span class="U2">ody)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">223</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;image_li</span> <span class="U2">nk&nbsp;=&nbsp;Annou</span> <span class="U2">ncements.a</span> <span class="U2">ttachment_</span> <span class="U2">link&nbsp;respo</span> <span class="U2">nse_body,&nbsp;</span> <span class="U2">image_inde</span> <span class="U2">x</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">224</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">225</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;request&nbsp;</span> <span class="U2">=&nbsp;RDKQuery</span> <span class="U2">.new('ehmp</span> <span class="U2">-announcem</span> <span class="U2">ents')</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">226</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;r</span> <span class="U2">equest.pat</span> <span class="U2">h</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">227</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;path&nbsp;=&nbsp;p</span> <span class="U2">ath.concat</span> <span class="U2">(image_lin</span> <span class="U2">k)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">228</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;p&nbsp;path</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">229</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;@respons</span> <span class="U2">e&nbsp;=&nbsp;HTTPar</span> <span class="U2">tyRDK.get(</span> <span class="U2">path)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">230</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">231</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">232</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">Then(/^the</span> <span class="U2">&nbsp;attachmen</span> <span class="U2">t&nbsp;response</span> <span class="U2">&nbsp;contains&nbsp;</span> <span class="U2">populated$</span> <span class="U2">/)&nbsp;do&nbsp;|tab</span> <span class="U2">le|</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">233</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;response</span> <span class="U2">_body&nbsp;=&nbsp;JS</span> <span class="U2">ON.parse(@</span> <span class="U2">response.b</span> <span class="U2">ody)</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">234</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(r</span> <span class="U2">esponse_bo</span> <span class="U2">dy['data']</span> <span class="U2">).to_not&nbsp;b</span> <span class="U2">e_nil</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">235</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(r</span> <span class="U2">esponse_bo</span> <span class="U2">dy['data']</span> <span class="U2">['contentT</span> <span class="U2">ype']).to_</span> <span class="U2">not&nbsp;be_nil</span> <span class="U2">,&nbsp;"Expecte</span> <span class="U2">d&nbsp;response</span> <span class="U2">&nbsp;body&nbsp;to&nbsp;c</span> <span class="U2">ontain&nbsp;key</span> <span class="U2">&nbsp;['data'][</span> <span class="U2">'contentTy</span> <span class="U2">pe']"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">236</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(r</span> <span class="U2">esponse_bo</span> <span class="U2">dy['data']</span> <span class="U2">['contentT</span> <span class="U2">ype'].leng</span> <span class="U2">th).to&nbsp;be&nbsp;</span> <span class="U2">&gt;&nbsp;0,&nbsp;"Expe</span> <span class="U2">cted&nbsp;['dat</span> <span class="U2">a']['conte</span> <span class="U2">ntType']&nbsp;t</span> <span class="U2">o&nbsp;be&nbsp;popul</span> <span class="U2">ated"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">237</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2"></span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">238</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(r</span> <span class="U2">esponse_bo</span> <span class="U2">dy['data']</span> <span class="U2">['src']).t</span> <span class="U2">o_not&nbsp;be_n</span> <span class="U2">il,&nbsp;"Expec</span> <span class="U2">ted&nbsp;respon</span> <span class="U2">se&nbsp;body&nbsp;to</span> <span class="U2">&nbsp;contain&nbsp;k</span> <span class="U2">ey&nbsp;['data'</span> <span class="U2">]['src']"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">239</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">&nbsp;&nbsp;expect(r</span> <span class="U2">esponse_bo</span> <span class="U2">dy['data']</span> <span class="U2">['src'].le</span> <span class="U2">ngth).to&nbsp;b</span> <span class="U2">e&nbsp;&gt;&nbsp;0,&nbsp;"Ex</span> <span class="U2">pected&nbsp;['d</span> <span class="U2">ata']['src</span> <span class="U2">']&nbsp;to&nbsp;be&nbsp;p</span> <span class="U2">opulated"</span> </td> 
    </tr> 
    <tr>    
     <td>&nbsp;</td> 
     <td class="U2 ln-no" style="text-align: right;">240</td>  
     <td class="U2"><span class="U2">&nbsp;</span> <span class="U2">end</span> </td> 
    </tr> 
   </tbody>
  </table> 
  <p class="copyright" style="margin-top: 25px; padding-top: 2px; border-top: solid #a0a0a0 1px; max-width: none;">Araxis Merge (but not the data content of this report) is Copyright Â© 1993-2016 Araxis Ltd (<a href="http://www.araxis.com/" title="Link to the Araxis corporate web site">www.araxis.com</a>). All rights reserved.</p>   
 </body>
</html>