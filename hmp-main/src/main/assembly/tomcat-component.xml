<component>
    <fileSets>
        <fileSet>
            <directory>${project.build.directory}/apache-tomcat-${tomcat.version}</directory>
            <outputDirectory>/</outputDirectory>
            <excludes>
                <exclude>**/conf/server.xml</exclude>
                <exclude>**/conf/logging.properties</exclude>
                <exclude>**/bin/*.sh</exclude>
                <exclude>**/bin/*.bat</exclude>
                <exclude>**/bin/*.bat</exclude>
                <exclude>**/webapps/docs/**</exclude>
                <exclude>**/webapps/examples/**</exclude>
                <exclude>**/webapps/host-manager/**</exclude>
                <exclude>**/webapps/ROOT/**</exclude>
            </excludes>
        </fileSet>
        <fileSet>
            <directory>${project.build.directory}/apache-tomcat-${tomcat.version}/bin</directory>
            <outputDirectory>/bin</outputDirectory>
            <includes>
                <include>*.sh</include>
                <include>*.bat</include>
            </includes>
            <fileMode>0755</fileMode>
        </fileSet>
        <fileSet>
            <directory>${project.build.directory}/solr</directory>
            <outputDirectory>solr-home</outputDirectory>
            <excludes>
                <exclude>data/**</exclude>
            </excludes>
        </fileSet>
        <fileSet>
            <directory>${project.build.directory}/bundles</directory>
            <outputDirectory>/${hmp.home.directory}/bundles</outputDirectory>
        </fileSet>
    </fileSets>
    <files>
        <file>
            <source>${basedir}/src/main/assembly/tomcat/server.xml</source>
            <outputDirectory>/conf</outputDirectory>
        </file>
        <file>
            <source>${basedir}/src/main/assembly/tomcat/context.xml</source>
            <outputDirectory>/conf</outputDirectory>
        </file>
        <file>
            <source>${basedir}/src/main/assembly/tomcat/logback.xml</source>
            <outputDirectory>/conf</outputDirectory>
        </file>
        <file>
            <source>${basedir}/src/main/assembly/tomcat/logback-access-localhost.xml</source>
            <outputDirectory>/conf</outputDirectory>
        </file>
        <file>
            <source>${basedir}/src/main/assembly/tomcat/setenv.sh</source>
            <outputDirectory>/bin</outputDirectory>
            <fileMode>0755</fileMode>
            <lineEnding>unix</lineEnding>
        </file>
        <file>
            <source>${basedir}/src/main/assembly/tomcat/setenv.bat</source>
            <outputDirectory>/bin</outputDirectory>
            <fileMode>0755</fileMode>
            <lineEnding>windows</lineEnding>
        </file>
        <file>
            <source>${basedir}/src/jetty/ssl.keystore</source>
            <outputDirectory>/${hmp.home.directory}</outputDirectory>
            <fileMode>0644</fileMode>
        </file>
        <!-- TODO: pull these in as regular old maven dependencies once the .ro is is reliably being built via build system -->
        <file>
            <source>${basedir}/../jds/src/main/mumps/jds.ro</source>
            <outputDirectory>/jds</outputDirectory>
        </file>
        <file>
            <source>${basedir}/../jds/src/main/mumps/zstu.ro</source>
            <outputDirectory>/jds</outputDirectory>
        </file>
    </files>
    <dependencySets>
        <dependencySet>
            <outputDirectory>/webapps/ROOT</outputDirectory>
            <includes>
                <include>${project.groupId}:${project.artifactId}</include>
            </includes>
            <unpack>true</unpack>
        </dependencySet>
    </dependencySets>
</component>
